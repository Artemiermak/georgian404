if (self.CavalryLogger) { CavalryLogger.start_js(["BjKmB"]); }

__d("ComposerEntryPointRef",[],(function a(b,c,d,e,f,g){f.exports={FEED:"feed",FEED_INLINE:"feed_inline",FEED_VOICE_SWITCHER:"feed_voice_switcher",SPROUTS:"sprouts",TIMELINE:"timeline",NATIVE_PERMALINK:"native_permalink",EVENT:"event",EVENT_ALL_MEDIA:"event_all_media",EVENT_PHOTOS:"event_photos",EVENT_VIDEOS:"event_videos",EVENT_WALL:"event_wall",EVENT_ABOUT:"event_about",EVENT_TOUR:"event_tour",GROUP:"group",NATIVE_GROUP:"native_group",NATIVE_PAGE:"native_page",PAGES_MANAGER:"pages_manager",FINCH_PAGE_CHECKIN:"finch_page_checkin",PLACES_NEARBY_FRIENDS:"places_nearby_friends",PLACES_SEARCH_FAILURE:"places_search_failure",FEED_STORY:"feed_story",PHOTOS_DASHBOARD:"photos_dashboard",PHOTOS_TAB_TIMELINE:"photos_tab_timeline",ADD_PHOTO_IN_TIMELINE_TAB:"add_photo_in_timeline_tab",ADD_PHOTO_IN_ALBUM:"add_photo_in_album",ADD_PHOTO_IN_PHOTOS_SECTION:"add_photo_in_photos_section",PHOTOS_ALBUM:"photos_album",PHOTOS_ALBUM_LISTING:"photos_album_listing",ALBUM_PERMALINK_INLINE_COMPOSER:"album_permalink_inline_composer",CREATE_COUPON_DIALOG:"create_coupon_dialog",SOCIAL_PLUGIN:"social_plugin",PLATFORM_DIALOG:"platform_dialog",SHARE_BUTTON_PLUGIN:"share_button",PAGE_PLUGIN:"page",ADS_CREATE:"ads_create",ADS_POWER_EDITOR:"ads_power_editor",TOPIC_HASHTAG_FEED:"topic_hashtag_feed",PERMALINK:"permalink",EDIT_DIALOG:"edit_dialog",EDIT_COMPOSER:"edit_composer",PAGES_FEED:"pages_feed",PAGES_PHOTO_TAB:"pages_photo_tab",PAGES_VIDEO_TAB:"pages_video_tab",PAGES_VIDEO_TAB_HUB:"pages_video_tab_hub",PAGES_VOICE_SWITCHER:"pages_voice_switcher",PAGES_COVER_VIDEO:"pages_cover_video",PAGE_TIPS:"page_tips",AGGREGATED_LINK_STORY:"aggregated_link_story",FEED_STICKY_COMPOSER:"feed_sticky_composer",FUNDRAISER_PAGE_FEED:"fundraiser_page_feed",WIFI_CHECKIN:"wifi_checkin",HOVERCARD_CONICS:"hovercard_conics",AGGREGATED_STORY:"aggregated_story",YEAR_IN_REVIEW:"year_in_review",ORIGIN_STORY:"origin_story",CELEBRATE_FRIENDS:"celebrate_friends",CREATIVE_ASSISTANT:"creative_assistant",MEGAPHONE:"megaphone",MOMENTS:"moments",LIVE:"live",LIVE_BROADCAST:"live_broadcast",LIVE_MAP:"live_map",TOPIC_STORY_ACTION_LINK:"topic_story_action_link",OTHER:"other",TRENDING_TOPIC:"trending_topic",UC_TOOLBAR:"uc_toolbar",PAGE_CONTENT_TAB_DRAFTS:"page_content_tab_drafts",PAGE_LAUNCH_POINT:"page_launch_point",PAGE_CONTENT_TAB_PUBLISHED_POSTS:"page_content_tab_published_posts",PAGE_CONTENT_TAB_SCHEDULED_POSTS:"page_content_tab_scheduled_posts",PAGE_CONTENT_TAB_ADS_POSTS:"page_content_tab_ads_posts",PAGE_CONTNET_TAB_JOB_POSTS:"page_contet_tab_job_posts",PAGE_CONTENT_TAB_VIDEO_LIBRARY:"page_content_tab_video_library",PAGE_CONTENT_ADS_ASSET_VIDEO_LIBRARY:"page_content_ads_asset_video_library",PAGE_CONTENT_TAB_CANVAS:"page_content_tab_canvas",PAGE_CONTENT_TAB_REFERENCE_LIBRARY:"page_content_tab_reference_library",PAGE_CONTENT_TAB_SEASON_DETAILS:"page_content_tab_season_details",PAGE_CONTENT_TAB_PLAYLIST_DETAILS:"page_content_tab_playlist_details",REVIEW_UNIT:"review_unit",REVIEWS_LIST:"reviews_list",CHECKIN_STORY:"checkin_story",RECOMMENDATIONS_DASHBOARD:"recommendations_dashboard",BULK_UPLOAD:"bulk_upload",REFERENCE_VIDEO_BULK_UPLOAD:"reference_video_bulk_upload",SAHELI:"saheli",GAMEFACE:"gameface",GAMETIME:"gametime",ANNIVERSARY_VIDEO:"anniversary_video",FRIENDS_DAY:"friends_day_2016",FRIENDVERSARY:"FRIENDVERSARY",PRIVACY_CHECKUP:"privacy_checkup",FEEDX:"feedx",FEED_SPROUTS:"feed_sprouts",FEEDX_SPROUTS:"feedx_sprouts",LEGACY_FEED:"legacy_feed",REACTION:"reaction",FLASHBACK:"flashback",INSIGHTS_POST_SPONSORED_TABLE:"insights_post_sponsored_table",INSIGHTS_POST_DIRECT_BOOST:"insights_post_direct_boost",VOTER_REGISTRATION:"voter_registration",ISSUE_MODULE:"issue_module",ENDORSEMENT_MODULE:"endorsement_module",COMPOSER_PREFILL:"composer_prefill",MTOUCH_LOCAL_SERP:"mtouch_local_serp",RED_ENVELOPE_POST:"red_envelope_post",FUNDRAISER_PAGE:"fundraiser_page",OFFERS_COMPOSER:"offers_composer",RESHARE_DIALOG:"reshare_dialog",POLITICAL_ISSUE:"political_issue",POLITICAL_ENDORSEMENT:"political_endorsement",PROFILE_PIC_CHANGE_DIALOG:"profile_pic_change_dialog",PROFILE_VIDEO:"profile_video",PUBLISH_FRAME_DIALOG:"publish_frame_dialog",AYMT:"aymt",SW_BG_SYNC:"sw_bg_sync",FEED_INSPIRATIONS:"feed_inspirations",INSPIRATIONS:"inspirations",WORK_FEED:"work_feed",DEVELOPER_SITE:"developer_site",RECENT_POSTS:"timeline\/recent_posts",LIVE_CONTROL_PANEL:"live_control_panel",LIVE_VIDEO_PLATFORM_DIALOG:"live_video_platform_dialog",PAGE_TRAILER:"page_trailer"};}),null);
__d("ReactComposerAttachmentType",[],(function a(b,c,d,e,f,g){f.exports={STATUS:"STATUS",MEDIA:"MEDIA",ALBUM:"ALBUM",MLE:"MLE",LIFE_EVENT:"LIFE_EVENT",NOTES:"NOTES",QANDA:"QANDA",PAGES_EXTRA:"PAGES_EXTRA",FILE:"FILE",QUESTION:"QUESTION",SELL:"SELL",WORK_HEADER:"WORK_HEADER",RED_ENVELOPE:"RED_ENVELOPE",LIVE_BROADCAST:"LIVE_BROADCAST",PHOTO_ZOOM_CROP:"PHOTO_ZOOM_CROP",PROFILE_PIC_DESCRIPTION:"PROFILE_PIC_DESCRIPTION",PROFILE_PIC_FRAME:"PROFILE_PIC_FRAME",LIVE_VIDEO:"LIVE_VIDEO",DOC:"DOC",EVENT:"EVENT",GAME:"GAME",CTA:"CTA",QA:"QA",MESSAGE:"MESSAGE",GET_DIRECTIONS:"GET_DIRECTIONS",CALL:"CALL",PLACE_LIST:"PLACE_LIST",QUIZ:"QUIZ",TASK:"TASK",ADD_MENTIONED:"ADD_MENTIONED",AUDIENCE_SELECTOR:"AUDIENCE_SELECTOR"};}),null);
__d("ReactComposerFeatureType",[],(function a(b,c,d,e,f,g){f.exports={DATE:"date",EVENT:"event",FILE:"file",FORMATTED_TEXT:"formatted_text",ISSUE_TAG:"issue_tag",LIFE_EVENT:"life_event",LINK:"link",LOCATION:"location",MARKDOWN:"markdown",MEDIA:"media",MENTION_TAG:"mention_tag",MILESTONE:"milestone",MINUTIAE:"minutiae",NOTE:"note",OFFER:"offer",PAGE_CTA:"page_cta",PHOTO_TAG:"photo_tag",PRIVACY:"privacy",PRODUCT:"product",SELL:"sell",SPONSOR:"sponsor",TEXT:"text",WITH_TAG:"with_tag",COLLECTIONS:"collections",COLLECTION_CREATION:"collection_creation",STICKER:"sticker",MESSAGING:"messaging"};}),null);
__d("ReactComposerLoggingName",[],(function a(b,c,d,e,f,g){f.exports={ALBUM_SPROUT:"album_sprout",ALBUM_TAB_SELECTOR:"album_tab_selector",AUDIENCE_SELECTOR:"audience_selector",BACKDATE_TAGGER:"backdate_tagger",CANVAS_EDITOR:"canvas_editor",CHEVRON_MENU_EDIT_POST:"chevron_menu\/edit_post",COLLECTION_CLEAR_BUTTON:"collection_clear_button",COLLECTION_SELECTED:"collection_selected",COLLECTIONS_CREATE_CANCEL_BUTTON:"collections_create_cancel_button",COLLECTIONS_CREATE_SUBMIT_BUTTON:"collections_create_submit_button",COLLECTIONS_SELECTOR_BUTTON:"collections_selector_button",COLLECTIONS_SELECTOR_CREATE_BUTTON:"collections_selector_create_button",CONTENT_WARNINGS_TAGGER:"content_warnings_tagger",DELETE_POST_EDIT_BUTTON:"delete_post_dialog\/edit_post_button",DOC_TAB_SELECTOR:"doc_tab_selector",ELLIPSIS_SPROUT:"ellipsis_sprout",ESCAPE_KEY:"escape_key",EVENT_TAB_SELECTOR:"event_tab_selector",FILE_TAB_SELECTOR:"file_tab_selector",FORMATTED_TEXT_BUTTON:"formatted_text_button",FORMATTED_TEXT_SPROUT:"formatted_text_sprout",FORMATTED_TEXT_TAGGER:"formatted_text_tagger",FRIEND_TAG_SPROUT:"friend_tag_sprout",GAME_TAB_SELECTOR:"game_tab_selector",INLINE_COMPOSER:"inline_composer",ISSUE_TAGGER:"issue_tagger",LINK_DROPPED:"link_dropped",LINK_PASTED:"link_pasted",LINK_REMOVE_BUTTON:"link_remove_button",LIVE_VIDEO_SPROUT:"live_video_sprout",LIVE_VIDEO_TAB_SELECTOR:"live_video_tab_selector",LOCATION_TAG_SPROUT:"location_tag_sprout",LOCATION_TAGGER:"location_tagger",MARKDOWN_SPROUT:"markdown_sprout",MARKDOWN_TAGGER:"markdown_tagger",MARKETPLACE:"marketplace",MEDIA_ATTACHMENT_UPLOAD_BUTTON:"media_attachment_upload_button",MEDIA_COLLAGE_PLUS_BUTTON:"media_collage_plus_button",MEDIA_FILE_DROPPED:"media_file_dropped",MEDIA_FILE_PASTED:"media_file_pasted",MEDIA_SPROUT:"media_sprout",MEDIA_TAB_SELECTOR:"media_tab_selector",MEDIA_TAGGER:"media_tagger",MEDIA_UPLOADS_PLUS_BUTTON:"media_uploads_plus_button",MEDIA_COMPOSER_ON_INIT:"media_composer_on_init",MENTIONS_INPUT_FOCUS:"mentions_input_focus",MESSAGING_TAGGER:"messaging_tagger",MESSENGER_PHOTO_VIEWER_SHARE:"messenger_photo_viewer_share",MINUTIAE_SPROUT:"minutiae_sprout",MINUTIAE_TAGGER:"minutiae_tagger",MLE_TAB_SELECTOR:"mle_tab_selector",MODAL_PAGE_INVITE_DASHBOARD:"modal_page_invite_dashboard",NOTES_SPROUT:"notes_sprout",NOTES_TAB_SELECTOR:"notes_tab_selector",PAGES_CTA_SELECTOR:"pages_cta_selector",PAGES_EXTRA_TAB_SELECTOR:"pages_extra_tab_selector",PEOPLE_TAGGER:"people_tagger",PEOPLE_TAGGER_SPROUT:"people_tagger_sprout",PHOTO_UPLOAD_DONE:"photo_upload_done",PRODUCT_TAGGER:"product_tagger",PRODUCT_TAGGER_BANNER_UPSELL:"product_tagger_banner_upsell",PROMPT:"prompt",QA_TAB_SELECTOR:"qa_tab_selector",QANDA_TAB_SELECTOR:"qanda_tab_selector",QUICKSILVER_SHARE_SCORE_BUTTON:"quicksilver_share_score_button",QUESTION_TAB_SELECTOR:"question_tab_selector",QUIZ_TAB_SELECTOR:"quiz_tab_selector",RECOMMENDATIONS_DASHBOARD:"recommendations_dashboard",RED_ENVELOPE_TAB_SELECTOR:"red_envelope_tab_selector",SELL_TAB_SELECTOR:"sell_tab_selector",SHARE_NOW_MENU_SHARE_TO_PAGE:"share_now_menu\/share_to_page",SHARE_NOW_MENU_POST_TO_GROUP:"share_now_menu\/post_to_group",SHARE_NOW_MENU_SEND_MESSAGE:"share_now_menu\/send_message",SHARE_NOW_MENU_SHARE_FRIEND_TIMELINE:"share_now_menu\/share_friend_timeline",SHARE_NOW_MENU_WRITE_POST:"share_now_menu\/write_post",SPONSOR_SPROUT:"sponsor_sprout",SPONSOR_TAGGER:"sponsor_tagger",STATUS_TAB_SELECTOR:"status_tab_selector",STICKER_SPROUT:"sticker_sprout",TAGGER_SUMMARY_LOCATION:"tagger_summary_row\/location_tagger",TAGGER_SUMMARY_MINUTIAE:"tagger_summary_row\/minutiae_tagger",TAGGER_SUMMARY_PEOPLE:"tagger_summary_row\/people_tagger",TAGGER_SUMMARY_ROW:"tagger_summary_row",TARGETING_TAGGER:"targeting_tagger",TASK_TAB_SELECTOR:"task_tab_selector",TEENS_AUDIENCE_SELECTOR:"teens_audience_selector",OTHERS:"others"};}),null);
__d("ReactionNuxTypeEnum",[],(function a(b,c,d,e,f,g){f.exports={LIKE_CLICK:"like_click",LIKE_CLICK_RENUX:"like_click_renux",SPATIAL_REACTIONS_NUX:"spatial_reactions_nux"};}),null);
__d("TranslationTrigger",[],(function a(b,c,d,e,f,g){f.exports={SEE_TRANSLATION:"see_translation",AUTO_TRANSLATION:"auto_translation",SEE_CONVERSION:"see_conversion",TRANSLATE_ALL:"translate_all",LOGGED_OUT_AUTO_TRANSLATION:"logged_out_auto_translation",NONE:"none"};}),null);
__d("UFILikeWebDriverIDs",[],(function a(b,c,d,e,f,g){f.exports={LIKE_LINK:"fb-ufi-likelink",UNLIKE_LINK:"fb-ufi-unlikelink"};}),null);
__d('BusinessActorUtils.brands',['UnicodeCJK'],(function a(b,c,d,e,f,g){'use strict';var h={getInitials:function i(j,k){var l=j.trim().charAt(0),m=k.trim().charAt(0),n=l+m;return !c('UnicodeCJK').hasIdeograph(n)?n.toUpperCase():m;}};f.exports=h;}),null);
__d('UFICommercialBreakAdapter',['Map','SubscriptionsHandler','UFIInstanceAction','UFISharedDispatcher'],(function a(b,c,d,e,f,g){'use strict';function h(j,k){var l=k.getOption('VideoWithCommercialBreak','controller');if(l&&l.getIsCommercialBreakOngoing())c('UFISharedDispatcher').dispatch(c('UFIInstanceAction').toggleCommercialBreak(j,true));var m=new (c('SubscriptionsHandler'))();m.addSubscriptions(k.addListener('commercialBreak/hideUFI',function(){return c('UFISharedDispatcher').dispatch(c('UFIInstanceAction').toggleCommercialBreak(j,true));}),k.addListener('commercialBreak/showUFI',function(){return c('UFISharedDispatcher').dispatch(c('UFIInstanceAction').toggleCommercialBreak(j,false));}));return m;}var i=new (c('Map'))();f.exports={start:function j(k,l){var m=k.instanceid;if(i.get(m))return;i.set(m,h(k,l));},stop:function j(k){var l=i.get(k);if(!l)return;l.release();i['delete'](k);}};}),null);
__d('UFIDomRootAdapter',['csx','DOMQuery','Parent','UFIRootRegistry'],(function a(b,c,d,e,f,g,h){function i(j,k){'use strict';this.$UFIDomRootAdapter2=null;this.$UFIDomRootAdapter3=null;this.$UFIDomRootAdapter5=null;this.$UFIDomRootAdapter4=j;this.$UFIDomRootAdapter1=k;}i.prototype.getParentForm=function(){'use strict';if(!this.$UFIDomRootAdapter2)this.$UFIDomRootAdapter2=c('Parent').byTag(this.$UFIDomRootAdapter4,'form');return this.$UFIDomRootAdapter2;};i.prototype.getHeadRoot=function(){'use strict';if(!this.$UFIDomRootAdapter3){var j=c('UFIRootRegistry').isSnowliftNode(this.$UFIDomRootAdapter1.rootid),k=j?"^.fbPhotosSnowliftFeedback ._37uu":"^form ._37uu",l=c('DOMQuery').scry(this.$UFIDomRootAdapter4,k);this.$UFIDomRootAdapter3=l&&l[0]||null;}return this.$UFIDomRootAdapter3;};i.prototype.getSnowliftActionRoot=function(){'use strict';if(!this.$UFIDomRootAdapter5){var j=c('DOMQuery').scry(this.$UFIDomRootAdapter4,"^.snowliftPayloadRoot ._29qf ._37uu");this.$UFIDomRootAdapter5=j&&j[0]||null;}return this.$UFIDomRootAdapter5;};f.exports=i;}),null);
__d('BaseGraphQLSubscription',['Banzai','BanzaiLogger','ChannelClientID','CurrentUser','CurrentLocale','RTISubscriptionManager'],(function a(b,c,d,e,f,g){var h=10000,i={subscribe:function j(k,l){var m={transformContext:JSON.stringify(this._getTransformContext(k))},n=this._getQueryParameters(k);this._logEvent('client_subscribe',n);return c('RTISubscriptionManager').subscribe(this._getTopic(k),function(o){this._logEvent('receivepayload',n);l(JSON.parse(o.payload));}.bind(this),m,null,function(){this._logEvent('client_unsubscribe',n);}.bind(this));},_getTransformContext:function j(k){var l=155160167952447;return {viewerID:c('CurrentUser').getID(),appID:l,locale:c('CurrentLocale').get(),queryID:this._getQueryID(),serializedQueryParameters:JSON.stringify(this._getQueryParameters(k))};},_logEvent:function j(k,l){if(c('Banzai').isEnabled('gqls_web_logging')){var m=c('CurrentUser').isEmployee()?1:h;if(Math.random()*m<1)c('BanzaiLogger').log('GraphQLSubscriptionsLoggerConfig',{clienttime:Date.now()/1000,client_sample_weight:m,event:k,mechanism:'skywalker',query_id:parseInt(this._getQueryID(),10),query_params:l,session_id:c('ChannelClientID').getID(),subscription_call:this._getSubscriptionCallName()});}}};f.exports=i;}),null);
__d('WebGraphQLSubscriptionHelper',[],(function a(b,c,d,e,f,g){'use strict';f.exports={getExports:function h(i){var j=i.docID,k=i.queryID;return {getDocID:function l(){return j;},getLegacyQueryID:function l(){return k;}};}};}),null);
__d("PinnedCommentEventCreateSubscriptionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g){'use strict';f.exports=c("WebGraphQLSubscriptionHelper").getExports({docID:"1240880062668908",queryID:"1109098922529083"});}),null);
__d('LivePinnedCommentEventCreateSubscription',['BaseGraphQLSubscription','PinnedCommentEventCreateSubscriptionWebGraphQLSubscription','uuid'],(function a(b,c,d,e,f,g){var h=babelHelpers['extends']({},c('BaseGraphQLSubscription'),{_getTopic:function i(j){return 'gqls/pinned_comment_event_create_subscribe/video_id_'+j;},_getQueryID:function i(){return c('PinnedCommentEventCreateSubscriptionWebGraphQLSubscription').getLegacyQueryID();},_getQueryParameters:function i(j){return {input:JSON.stringify({client_subscription_id:c('uuid')(),video_id:j})};},_getSubscriptionCallName:function i(){return 'pinned_comment_event_create_subscribe';}});f.exports=h;}),null);
__d('FbFeedCommentUFIScroller',['DOMScroll','containsNode','ge','ifRequired'],(function a(b,c,d,e,f,g){var h={reveal:function i(j){if(j){var k=c('ge')('content');if(k&&c('containsNode')(k,j)){c('DOMScroll').ensureVisible(j,null,60,250);}else c('ifRequired')('ScrollableArea',function(l){var m=l.getInstance(j);if(m)m.scrollIntoView(j);});}}};f.exports=h;}),null);
__d('UFIBusinessActorIcon.react',['cx','AppUserRoleConstants.brands','BusinessActorUtils.brands','React','joinClasses','getObjectValues'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=c('BusinessActorUtils.brands').getInitials(this.props.firstName,this.props.lastName),n=this.props.businessRole===c('AppUserRoleConstants.brands').ADMIN;return c('React').createElement('div',{className:c('joinClasses')(this.props.classNames,"_1rpl")},c('React').createElement('div',{className:c('joinClasses')(this.props.textClassNames,n?"_1rpm":null)},m));};function l(){i.apply(this,arguments);}l.propTypes={firstName:k.string.isRequired,lastName:k.string.isRequired,classNames:k.string,textClassNames:k.string,businessRole:k.oneOf(c('getObjectValues')(c('AppUserRoleConstants.brands')))};f.exports=l;}),null);
__d('UFIAddCommentLink.react',['cx','fbt','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){var n=c('joinClasses')("UFIRow"+(' '+"UFIAddCommentLink")+(this.props.isFirstCommentComponent?' '+"_48pi":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"_4204":'')+(this.props.isLastComponent?' '+"_2o9m":'')),o;if(this.props.isQAndA){o=i._("Ask a question...");}else if(this.props.isGroupQA){o=i._("Write an answer...");}else o=i._("Write a comment...");return c('React').createElement('div',{className:n,'data-ft':this.props['data-ft']},c('React').createElement('a',{className:'UFICommentLink',onClick:this.props.onClick,href:'#',role:'button'},o));};function m(){j.apply(this,arguments);}m.propTypes={'data-ft':l.string,isFirstCommentComponent:l.bool,isFirstComponent:l.bool,isLastCommentComponent:l.bool,isLastComponent:l.bool,isQAndA:l.bool,isGroupQA:l.bool,onClick:l.func};f.exports=m;}),null);
__d('UFIAnimatedCommentList.react',['cx','React','Visibility','ifRequired'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PureComponent;i=babelHelpers.inherits(l,k);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.node=null,n;}l.prototype.render=function(){return c('React').createElement('div',{ref:function(m){return this.node=m;}.bind(this),className:"UFIAnimatedCommentList"},this.props.children);};l.prototype.componentWillEnter=function(m){var n=this.node;if(!n||this.props.isLatestCommentLocal||c('Visibility').isHidden()){m();return;}c('ifRequired')('CSSAnimationBuilder',function(o){var p=this.props.isStreamingFromBottom?n.lastChild.clientHeight:-n.firstChild.clientHeight;o.keyframeAnimation(n).defineKeyframes({'0%':{transform:'translateY('+p+'px)'},'100%':{transform:'translateY(0px)'}}).setTimingFunction('ease-in-out').setDuration(.25).setMemoize(true).setIterationCount(1).setFinishedCallback(m).start();}.bind(this));};f.exports=l;}),null);
__d('UFIReactionIconImpl.react',['cx','Image.react','React','UFIConfig','UFIReactionTypes','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.shouldComponentUpdate=function(m,n){'use strict';return m.className!==this.props.className||m.reaction!==this.props.reaction||m.size!==this.props.size||m.grayscale!==this.props.grayscale;};l.prototype.renderImage=function(){'use strict';var m=c('UFIReactionTypes').reactions[this.props.reaction].name,n='/images/ufi/reactions/v6/svg/'+m+'.svg';if(this.props.hasStaticSVGDock){return c('React').createElement(c('Image.react'),{style:{position:'absolute'},src:n});}else return c('React').createElement('i',{className:c('joinClasses')(c('UFIReactionTypes').reactions[this.props.reaction].class_name,"_2p78"+(this.props.size==='13'?' '+"_9-y":'')+(this.props.size==='16'?' '+"_9--":'')+(this.props.size==='48'?' '+"_9-_":'')+(this.props.size==='96'?' '+"_9_0":'')+(this.props.grayscale?' '+"_pxi":''))});};l.prototype.render=function(){'use strict';return c('React').createElement('span',{className:c('joinClasses')("_9zc"+(this.props.size==='13'?' '+"_2p79":'')+(this.props.size==='16'?' '+"_2p7a":'')+(this.props.size==='48'?' '+"_2p7b":'')+(this.props.size==='96'?' '+"_9-w":''),this.props.className,!!c('UFIConfig').showCustom?"_3uet":'')},this.renderImage());};function l(){'use strict';i.apply(this,arguments);}l.propTypes={className:k.string,grayscale:k.bool,isSVGDock:k.bool,reaction:k.number.isRequired,size:k.oneOf(['13','16','48','96'])};l.defaultProps={className:null,grayscale:false,isSVGDock:false,size:'16'};f.exports=l;}),null);
__d('addFocusEvents',['Deferred','Event','React','SubscriptionList'],(function a(b,c,d,e,f,g){var h=c('React').Component,i=void 0,j=function(k){return function(){var l,m;l=babelHelpers.inherits(n,h);m=l&&l.prototype;n.prototype.componentDidMount=function(){'use strict';if(!i){var o,p;i=new (c('SubscriptionList'))(function(){o=c('Event').listen(window,'blur',function(){i&&i.fireCallbacks(true);p&&p.remove();p=c('Event').listen(document.documentElement,'focusin',function(){i&&i.fireCallbacks(false);p&&p.remove();p=null;});});},function(){o&&o.remove();p&&p.remove();o=null;p=null;i=null;});}this.subscription=i.add(function(q){this.locked=q;}.bind(this));};n.prototype.componentWillUnmount=function(){'use strict';this.subscription&&this.subscription.remove();};n.prototype.onClick=function(event){'use strict';this.props.onClick&&this.props.onClick(event);if(this.deferred)this.deferred.resolve(this.props.onMouseFocus);};n.prototype.onFocus=function(event){'use strict';if(this.deferred)this.deferred.reject();if(this.locked)return;this.deferred=new (c('Deferred'))();this.deferred.done(function(o){o&&o(event);this.deferred=null;}.bind(this),function(){this.deferred=null;}.bind(this));};n.prototype.onKeyUp=function(event){'use strict';this.props.onKeyUp&&this.props.onKeyUp(event);if(this.deferred)this.deferred.resolve(this.props.onKeyboardFocus);};n.prototype.render=function(){'use strict';var o=this.props,p=o.onKeyboardFocus,q=o.onMouseFocus,r=babelHelpers.objectWithoutProperties(o,['onKeyboardFocus','onMouseFocus']);return c('React').createElement(k,babelHelpers['extends']({},r,{onClick:this.onClick.bind(this),onFocus:this.onFocus.bind(this),onKeyUp:this.onKeyUp.bind(this)}));};function n(){'use strict';l.apply(this,arguments);}return n;}();}.bind(this);f.exports=j;}),null);
__d('UFIReactionsLinkImpl.react',['cx','fbt','BanzaiLogger','BootloadedComponent.react','Bootloader','Deferred','Event','JSResource','React','ReactDOM','ReactionNuxTypeEnum','SubscriptionsHandler','UFIConfig','UFILikeWebDriverIDs','UFIReactionIconImpl.react','UFIReactionTypes','UFICommentAction','UFIStoryAction','addFocusEvents','shallowCompare'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').Component,m=c('React').PropTypes,n=c('UFIConfig').reactionsFunnelLogger,o=c('UFIConfig').reactionsHasCommentFunnelLogger,p=c('UFIConfig').reactionsHasFunnelLogger,q=false,r=false,s=null,t=null,u=c('React').createElement('div',null),v=150,w=c('UFIReactionTypes').reactions,x=Object.keys(w),y=20,z=525,aa=750,ba=700,ca=850,da=500,ea=c('UFIConfig').reactionsHasReactionLinkPerfFixes,fa=c('UFIConfig').reactionsHasReactionLinkPerfFixes,ga='ontouchstart' in window,ha=i._("Show more reactions"),ia=i._("New! React to what you're seeing"),ja=i._("Hover on the Like button to open Reactions. Then, you can drag and place them wherever you want."),ka=new (c('Deferred'))(),la=function qa(){if(!s){var ra=function sa(ta){s=ta;if(ka){ka.done(na,na);ka.resolve();}};if(c('UFIConfig').reactionsHasAnimatedIconsOnHover){c('Bootloader').loadModules(["UFIReactionsMenuWithAnimatedVectorIcons.react"],ra,'UFIReactionsLinkImpl.react');}else if(c('UFIConfig').reactionsHasStaticVectorDock){c('Bootloader').loadModules(["UFIReactionsMenuWithStaticVectorIcons.react"],ra,'UFIReactionsLinkImpl.react');}else c('Bootloader').loadModules(["UFIReactionsMenuImpl.react"],ra,'UFIReactionsLinkImpl.react');}},ma=function qa(ra){if(!t){var sa=function ta(ua){t=ua;ra();};c('Bootloader').loadModules(["SpatialReactionsProductionStore"],sa,'UFIReactionsLinkImpl.react');}else ra();},na=function qa(){ka=null;},oa=c('addFocusEvents')('a');j=babelHelpers.inherits(pa,l);k=j&&j.prototype;function pa(qa,ra){'use strict';k.constructor.call(this,qa,ra);this.hideDialog=function(){this.setState({dialogShown:false,isScrubbing:false});}.bind(this);this.showDialog=function(){if(this.dialogShownTime===0)this.dialogShownTime=Date.now();if(!this.state.dialogShown)this.state.logToFunnel&&n.menuShow(this.state.logAsComment);q=true;this.setState({dialogShown:true,NUXShown:false});}.bind(this);this.onClick=function(event){event.preventDefault();var ta=this.props,ua=ta.reaction,va=ta.suggestedReaction;if(!ua||ua===c('UFIReactionTypes').LIKE||!w[ua]){if(!ua&&this.props.nuxConfig){var wa=this.props.nuxConfig.nuxType;if(wa===c('ReactionNuxTypeEnum').LIKE_CLICK||wa===c('ReactionNuxTypeEnum').LIKE_CLICK_RENUX)this.maybeShowNUX();}var xa=va&&this.hasSuggestedReaction?va:c('UFIReactionTypes').LIKE;ua=ua?c('UFIReactionTypes').NONE:xa;this.onReactionChange(ua,event);this.$UFIReactionsLink1(ua,true);}else this.onReactionChange(0,event);this.setState({dialogShown:false,isMouseOver:false,isScrubbing:false});}.bind(this);this.onClickCapture=function(event){event.stopPropagation();this.setState({isLongPressing:false});}.bind(this);this.onContextMenu=function(event){if(this.state.isTouchDown)event.preventDefault();}.bind(this);this.onMouseDown=function(event){clearTimeout(this.hoverTimeout);}.bind(this);this.onMouseEnter=function(event){clearTimeout(this.hoverTimeout);var ta=this.props.comment?ba:z;if(!this.state.dialogShown)this.hoverTimeout=setTimeout(this.showDialog,ta);if(!fa)this.setState({isMouseOver:true});la();if(!this.state.dialogShown&&this.state.logToFunnel)this.logFunnelTimeout=setTimeout(function(){return n.likeButtonEnter(this.props.reaction,this.state.logAsComment);}.bind(this),v);}.bind(this);this.onMouseLeave=function(event){clearTimeout(this.hoverTimeout);clearTimeout(this.logFunnelTimeout);var ta=this.props.contextArgs.showSpatialReactions,ua=this.props.comment?ca:aa;if(this.state.dialogShown)if(ta){ma(function(){if(t&&t.shouldLeaveReactionMenuOpen()){this.$UFIReactionsLink3(this.hideDialog);}else this.hoverTimeout=setTimeout(this.hideDialog,ua);}.bind(this));}else this.hoverTimeout=setTimeout(this.hideDialog,ua);if(!fa)this.setState({isMouseOver:false});}.bind(this);this.onReactionMenuMouseEnter=function(event){clearTimeout(this.hoverTimeout);}.bind(this);this.onTouchStart=function(event){if(!this.state.dialogShown){this.mouseDownTime=Date.now();this.mouseUpTime=0;this.longPressTimeout=setTimeout(function(){if(this.dialogShownTime===0)this.dialogShownTime=Date.now();this.setState({dialogShown:true,NUXShown:false,isLongPressing:true});}.bind(this),da);la();}this.setState({isTouchDown:true,isLongPressing:false});}.bind(this);this.onTouchEnd=function(event){if(this.state.isLongPressing)this.mouseUpTime=Date.now();this.dragStartX=null;this.dragStartY=null;clearTimeout(this.longPressTimeout);this.setState({isTouchDown:false});}.bind(this);this.onTouchMove=function(event){if(this.state.isScrubbing)return;var ta=event.touches[0],ua=ta.clientX,va=ta.clientY;if(this.dragStartX===null&&this.dragStartY===null){this.dragStartX=ua;this.dragStartY=va;return;}if(typeof this.dragStartX==='number'&&typeof this.dragStartY==='number'&&(this.dragStartX>ua+y||this.dragStartX<ua-y||this.dragStartY>va+y||this.dragStartY<va-y))this.setState({isScrubbing:true});}.bind(this);this.onReactionChange=function(ta,event){var ua=arguments.length<=2||arguments[2]===undefined?null:arguments[2],va=arguments.length<=3||arguments[3]===undefined?null:arguments[3];this.$UFIReactionsLink1(ta);var wa=c('ReactDOM').findDOMNode(this.refs.trigger);if(this.state.logToFunnel)event.target===wa?n.likeButtonClick(ta,this.state.logAsComment):n.reactionSelection(ta,this.state.logAsComment);var xa=void 0;if(this.props.comment){xa=c('UFICommentAction').changeReaction(this.props.contextArgs,this.props.comment,ta,wa);}else xa=c('UFIStoryAction').changeReaction(this.props.contextArgs,ta,wa,ua,va);this.context.dispatch(xa);var ya=function(){this.setState({dialogShown:false,isScrubbing:false});}.bind(this);if(this.props.contextArgs.showSpatialReactions){ma(function(){if(t&&t.shouldLeaveReactionMenuOpen()){this.$UFIReactionsLink3(function(){ya();});}else ya();}.bind(this));}else ya();}.bind(this);this.onReactionMouseEnter=function(ta,event){if(this.reactionsHoverStartTimeMap[ta]===0)this.reactionsHoverStartTimeMap[ta]=Date.now();}.bind(this);this.onReactionMouseLeave=function(ta,event){if(this.reactionsHoverStartTimeMap[ta]){this.reactionsHoverTotalTimeMap[ta]+=Date.now()-this.reactionsHoverStartTimeMap[ta];this.reactionsHoverStartTimeMap[ta]=0;}}.bind(this);this.onKeyboardFocus=function(){this.allowKeyboardFocus=true;this.showDialog();}.bind(this);this.onScreenReaderTrigger=function(){r=true;this.allowKeyboardFocus=true;this.showDialog();}.bind(this);this.dragStartX=null;this.dragStartY=null;this.hasSuggestedReaction=c('UFIConfig').reactionsHasSuggestedReaction;this.subscriptionsHandler=new (c('SubscriptionsHandler'))();if(ka)ka.done(function(){if(!ea||this.state.dialogShown)this.forceUpdate();}.bind(this),function(){ka=null;});var sa=false;if(n&&(p&&this.props.comment===undefined||o&&this.props.comment!==undefined))sa=true;this.state={dialogShown:false,isLongPressing:false,isMouseOver:false,isScrubbing:false,isTouchDown:false,logToFunnel:sa,logAsComment:!!this.props.comment&&o,NUXShown:false,shouldBounce:false};}pa.prototype.shouldComponentUpdate=function(qa,ra){'use strict';return c('shallowCompare')(this,qa,ra);};pa.prototype.componentWillReceiveProps=function(qa){'use strict';this.setState({shouldBounce:!!qa.reaction&&qa.reaction!==this.props.reaction});};pa.prototype.componentWillUpdate=function(qa,ra){'use strict';if(this.state.dialogShown&&!ra.dialogShown)this.$UFIReactionsLink1(this.props.reaction);};pa.prototype.componentDidUpdate=function(qa,ra){var sa,ta=this;'use strict';if(!ra.dialogShown&&this.state.dialogShown){if(ga)(function(){var ua=void 0;ta.subscriptionsHandler.addSubscriptions(c('Event').listen(document.documentElement,'touchstart',function(event){ua=event.touches[0];}),c('Event').listen(document.documentElement,'touchmove',function(event){ua=event.touches[0];}),c('Event').listen(document.documentElement,'touchend',function(event){if(ua&&!this.refs.root.contains(document.elementFromPoint(ua.clientX,ua.clientY)))this.setState({dialogShown:false,isScrubbing:false});}.bind(ta)));})();}else if(ra.dialogShown&&!this.state.dialogShown){this.subscriptionsHandler.release();this.subscriptionsHandler=new (c('SubscriptionsHandler'))();}};pa.prototype.componentDidMount=function(){'use strict';this.$UFIReactionsLink2();if(this.props.nuxConfig){var qa=this.props.nuxConfig.nuxType;if(qa===c('ReactionNuxTypeEnum').SPATIAL_REACTIONS_NUX)this.maybeShowNUX();}};pa.prototype.componentWillUnmount=function(){'use strict';this.subscriptionsHandler.release();ka&&ka.reject();};pa.prototype.maybeShowNUX=function(){'use strict';var qa=null;if(this.props.nuxConfig)qa=this.props.nuxConfig.nuxType;if(!q){q=true;this.setState({NUXShown:true,dialogShown:false});if(qa!==c('ReactionNuxTypeEnum').SPATIAL_REACTIONS_NUX)c('BanzaiLogger').log('WebReactionsNuxLoggerConfig',{feedback_id:this.props.contextArgs.ftentidentifier,'interface':'www'});}};pa.prototype.onDragStart=function(event){'use strict';event.preventDefault();};pa.prototype.renderMenu=function(){'use strict';if(this.state.dialogShown)la();if(!s)return null;var qa=this.allowKeyboardFocus;this.allowKeyboardFocus=false;return c('React').createElement(s,{allowKeyboardFocus:qa,initialReaction:this.props.reaction,isLongPressing:this.state.isLongPressing,isScreenReader:r,instanceId:this.props.contextArgs.instanceid,onMouseEnter:this.onReactionMenuMouseEnter,onMouseLeave:this.onMouseLeave,onReactionClick:this.onReactionChange,onBlur:this.hideDialog,onFocus:this.showDialog,onReactionMouseEnter:this.onReactionMouseEnter,onReactionMouseLeave:this.onReactionMouseLeave,shown:this.state.dialogShown,supportedReactions:this.props.supportedReactions,showSpatialReactions:this.props.contextArgs.showSpatialReactions});};pa.prototype.renderTrigger=function(){'use strict';var qa=this.props,ra=qa.reaction,sa=qa.suggestedReaction;if(ra&&!w[ra])ra=null;var ta=ra?c('UFILikeWebDriverIDs').UNLIKE_LINK:c('UFILikeWebDriverIDs').LIKE_LINK,ua=void 0,va=void 0,wa=void 0,xa=void 0;if(this.props.comment){var ya=false;if(!ra){ua=w[c('UFIReactionTypes').LIKE].display_name;}else{ua=w[ra].display_name;xa=w[ra].color;ya=true;}wa="UFILikeLink"+(' '+"UFIReactionLink")+(ya?' '+"UFILinkBright":'');}else{if(!ra){ua=sa&&this.hasSuggestedReaction?w[sa].display_name:w[c('UFIReactionTypes').LIKE].display_name;}else ua=w[ra].display_name;if(ra&&ra!=c('UFIReactionTypes').LIKE||!ra&&sa&&this.hasSuggestedReaction&&sa!=c('UFIReactionTypes').LIKE)va=c('React').createElement(c('UFIReactionIconImpl.react'),{className:"_1ktw",grayscale:!ra&&!!sa,reaction:ra||sa,size:'13'});wa="UFILikeLink"+(' '+"_4x9-")+(' '+"_4x9_")+(!va?' '+"_48-k":'')+(ra?' '+"UFILinkBright":'')+(this.state.shouldBounce?' '+"_3_mo":'');xa=ra?w[ra].color:null;}return c('React').createElement(oa,{'aria-pressed':!!ra,className:wa,'data-testid':ta,'data-interaction-root-id':"_2y9l",href:'#',onClick:this.onClick,onClickCapture:this.state.isLongPressing?this.onClickCapture:null,onContextMenu:this.onContextMenu,onDragStart:this.onDragStart,onKeyboardFocus:s?null:this.onKeyboardFocus,onMouseDown:this.onMouseDown,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onTouchEnd:ga?this.onTouchEnd:null,onTouchMove:ga?this.onTouchMove:null,onTouchStart:ga?this.onTouchStart:null,ref:'trigger',role:'button',style:{color:xa},tabIndex:s?-1:0},va,ua);};pa.prototype.renderNUX=function(){'use strict';var qa=this.refs.root,ra=this.props.comment!==undefined,sa=this.props.nuxConfig&&this.props.nuxConfig.titleOverride,ta=this.props.nuxConfig&&this.props.nuxConfig.textOverride;if(!this.state.NUXShown||!qa)return null;if(this.props.nuxConfig&&this.props.nuxConfig.nuxType===c('ReactionNuxTypeEnum').SPATIAL_REACTIONS_NUX){sa=ia;ta=ja;}return c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:u,bootloadLoader:c('JSResource')('UFIReactionsNUX.react').__setRef('UFIReactionsLinkImpl.react'),context:qa,titleOverride:sa,textOverride:ta,isCommentReactionNux:ra,nuxKey:this.props.nuxConfig&&this.props.nuxConfig.nuxKey});};pa.prototype.renderScreenReaderTrigger=function(){'use strict';if(s)return null;return c('React').createElement('span',{className:'accessible_elem','data-accessibilityid':'virtual_cursor_trigger',onClick:this.onScreenReaderTrigger,role:'button',tabIndex:-1},ha);};pa.prototype.render=function(){'use strict';return c('React').createElement('div',{className:"_khz"+(this.state.isScrubbing?' '+"_4bdq":''),'data-interaction-root-id':"_2y9m",ref:'root'},this.renderTrigger(),this.renderScreenReaderTrigger(),this.renderMenu(),this.renderNUX());};pa.prototype.$UFIReactionsLink2=function(){'use strict';this.dialogShownTime=0;this.reactionsHoverStartTimeMap={};this.reactionsHoverTotalTimeMap={};x.forEach(function(qa){this.reactionsHoverStartTimeMap[qa]=0;this.reactionsHoverTotalTimeMap[qa]=0;}.bind(this));};pa.prototype.$UFIReactionsLink3=function(qa){var ra;'use strict';if(t)(function(){var sa=t.addListener(function(){if(t&&!t.shouldLeaveReactionMenuOpen()){sa.remove();qa();}});})();};pa.prototype.$UFIReactionsLink1=function(qa,ra){'use strict';if(this.dialogShownTime!==0){var sa={feedback_id:this.props.contextArgs.ftentidentifier,final_reaction:qa,initial_reaction:this.props.reaction,'interface':'www',long_press_duration:this.mouseDownTime!==0&&this.mouseUpTime!==0?this.mouseUpTime-this.mouseDownTime:0,non_reaction_like:ra,time_spent:Date.now()-this.dialogShownTime};for(var ta in this.reactionsHoverTotalTimeMap){var ua='time_spent_'+w[ta].name.toLowerCase();sa[ua]=this.reactionsHoverTotalTimeMap[ta];}c('BanzaiLogger').log('UserReactionsLoggerConfig',sa);this.$UFIReactionsLink2();}};pa.contextTypes={dispatch:m.func};f.exports=pa;}),null);
__d('XUIEditButton.react',['cx','fbt','XUIAbstractGlyphButton.react','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){'use strict';var m=this.props.label,n=this.props.title;if(!this.props.title&&!this.props.tooltip){if(!m)m=i._("Edit");n=m;}return c('React').createElement(c('XUIAbstractGlyphButton.react'),babelHelpers['extends']({},this.props,{label:m,title:n,'data-hover':this.props.tooltip&&'tooltip','data-tooltip-alignh':this.props.tooltip&&'center','data-tooltip-content':this.props.tooltip,className:c('joinClasses')(this.props.className,"_5upq _5upr")}));};function l(){'use strict';j.apply(this,arguments);}f.exports=l;}),null);
__d('linkifyEntityRange',['Link.react','React'],(function a(b,c,d,e,f,g){function h(i,j){var k=(j.entity||{}).url;if(!k)return c('React').createElement('span',null,i);return c('React').createElement(c('Link.react'),{href:k,target:'_blank'},i);}f.exports=h;}),null);
__d('UFICommentDisabledNotice.react',['cx','React','TextWithEntities.react','linkifyEntityRange'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.props.feedback,n=m.commentdisablednotice,o=c('React').createElement('div',{className:'UFINotice'},c('React').createElement(c('TextWithEntities.react'),{interpolator:c('linkifyEntityRange'),ranges:n.ranges,aggregatedranges:n.aggregated_ranges,text:n.text}));return c('React').createElement('div',{className:"UFIRow _4204 _2o9m _4oep"},o);};function l(){i.apply(this,arguments);}l.propTypes={feedback:k.object.isRequired};f.exports=l;}),null);
__d('UFICommentFilters',['UFIConstants'],(function a(b,c,d,e,f,g){'use strict';var h={getAuthors:function i(j){return j.reduce(function(k,l){if(l.author)k=k.concat(l.author);if(l.socialcontext)k=k.concat(l.socialcontext.topmutualid);if(l.replyauthors&&l.replyauthors.length)k=k.concat(l.replyauthors);return k;},[]);},isDeleted:function i(j){return j.status===c('UFIConstants').UFIStatus.DELETED;},isSpam:function i(j){return j.status===c('UFIConstants').UFIStatus.SPAM;},collectSpamBuckets:function i(j,k){var l=j.reduce(function(m,n){if(h.isSpam(n)){if(m.spamBucket){m.spamBucket.spamCommentIDs.push(n.id);m.collected.push(null);}else{m.spamBucket={status:c('UFIConstants').UFIStatus.SPAM,id:n.id,spamCommentIDs:[n.id]};m.collected.push(m.spamBucket);}}else if(n.isAnnouncement||k[n.author]){m.spamBucket=null;m.collected.push(n);}return m;},{spamBucket:null,collected:[]});return l.collected;}};f.exports=h;}),null);
__d('UFICommentHeader.react',['cx','fbt','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){return c('React').createElement('h6',babelHelpers['extends']({},this.props,{className:"accessible_elem"}),i._("Comments"));};function l(){j.apply(this,arguments);}f.exports=l;}),null);
__d('UFICommentListVisibilityTracker.react',['cx','Arbiter','DOMQuery','OnVisible.react','React','ReactDOM','SubscriptionsHandler','UFICommentVPVD','UFIConfig','UFIInstanceAction','UFISharedDispatcher','UFIVisibility'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Children,l=c('React').Component,m=c('React').PropTypes,n=c('UFIConfig').commentVPVD;i=babelHelpers.inherits(o,l);j=i&&i.prototype;function o(p){j.constructor.call(this,p);this.state={isVisible:false};this.onVisible=function(){if(this.$UFICommentListVisibilityTracker2())this.setState({isVisible:true});c('UFISharedDispatcher').dispatch(c('UFIInstanceAction').changeCommentListVisibility(this.props.contextArgs,c('UFIVisibility').VISIBLE));}.bind(this);this.onHidden=function(){if(this.$UFICommentListVisibilityTracker2())this.setState({isVisible:false});c('UFISharedDispatcher').dispatch(c('UFIInstanceAction').changeCommentListVisibility(this.props.contextArgs,c('UFIVisibility').HIDDEN));}.bind(this);this.$UFICommentListVisibilityTracker1=new (c('SubscriptionsHandler'))();}o.prototype.componentDidMount=function(){if(this.$UFICommentListVisibilityTracker2()&&this.props.contextArgs.location==='conversation_nub')this.$UFICommentListVisibilityTracker1.addSubscriptions(c('Arbiter').subscribe('ConversationNubUtils/recheckTabVisibility',function(p,q){var r=q||{},s=r.tab,t=s&&s.getRootDOM(),u=this.refs.onVisibleRoot,v=u&&c('ReactDOM').findDOMNode(u);if(t&&u&&v&&c('DOMQuery').contains(t,v))u.check();}.bind(this)));};o.prototype.componentWillUnmount=function(){this.$UFICommentListVisibilityTracker1.release();};o.prototype.shouldComponentUpdate=function(p,q){if(!n.debug_html&&this.state.isVisible!==q.isVisible)return false;return true;};o.prototype.$UFICommentListVisibilityTracker2=function(){return !!c('UFIConfig').enableCommentListVisibilityTracking||c('UFICommentVPVD').enableVPVDLogging(this.props.contextArgs);};o.prototype.render=function(){var p=k.only(this.props.children);if(!this.$UFICommentListVisibilityTracker2())return p;var q=n.debug_html;return c('React').createElement('div',{'data-debugstate':q?this.state.isVisible?'partially visible':'hidden':null,className:"_3b-9"+(q?' '+"_3b-a":'')+(q&&this.state.isVisible?' '+"_3b-b":'')+(q&&!this.state.isVisible?' '+"_3b-c":'')},c('React').createElement(c('OnVisible.react'),{ref:'onVisibleRoot',onVisible:this.onVisible,onHidden:this.onHidden,considerZeroedElemsAsHidden:true},p));};o.propTypes={contextArgs:m.shape({instanceid:m.string.isRequired,location:m.string}).isRequired};f.exports=o;}),null);
__d('UFICommentScrollableArea.react',['React','ScrollableArea.react'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').Children,k=c('React').PropTypes;h=babelHelpers.inherits(l,c('React').Component);i=h&&h.prototype;l.prototype.render=function(){var m=this.props,n=m.children,o=m.scrollcomments,p=m.scrollwidth;if(o&&p)return c('React').createElement(c('ScrollableArea.react'),{width:p},j.only(n));return j.only(n);};function l(){h.apply(this,arguments);}l.propTypes={scrollcomments:k.bool.isRequired,scrollwidth:k.number.isRequired};f.exports=l;}),null);
__d('CommentsTimeSpentTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:CommentsTimeSpentLoggerConfig',this.$CommentsTimeSpentTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:CommentsTimeSpentLoggerConfig',this.$CommentsTimeSpentTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$CommentsTimeSpentTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$CommentsTimeSpentTypedLogger1=babelHelpers['extends']({},this.$CommentsTimeSpentTypedLogger1,j);return this;};h.prototype.setEndTime=function(j){this.$CommentsTimeSpentTypedLogger1.end_time=j;return this;};h.prototype.setOrderingMode=function(j){this.$CommentsTimeSpentTypedLogger1.ordering_mode=j;return this;};h.prototype.setPostFbid=function(j){this.$CommentsTimeSpentTypedLogger1.post_fbid=j;return this;};h.prototype.setStartTime=function(j){this.$CommentsTimeSpentTypedLogger1.start_time=j;return this;};h.prototype.setTimeSpentID=function(j){this.$CommentsTimeSpentTypedLogger1.time_spent_id=j;return this;};h.prototype.setViewerHasInteracted=function(j){this.$CommentsTimeSpentTypedLogger1.viewer_has_interacted=j;return this;};var i={end_time:true,ordering_mode:true,post_fbid:true,start_time:true,time_spent_id:true,viewer_has_interacted:true};f.exports=h;}),null);
__d('CommentsTimeSpentTracker.react',['invariant','Banzai','CommentsTimeSpentTypedLogger','Event','OnVisible.react','React','SubscriptionsHandler','UFIOrderingModeStore','UserActivity','pageID','setTimeout'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'CommentsTimeSpentTracker',firstVisibleTime:0,listeners:new (c('SubscriptionsHandler'))(),propTypes:{contextArgs:i.object.isRequired,targetFBID:i.string.isRequired,viewerHasInteracted:i.bool.isRequired,timeToConsiderViewerInactiveMillis:i.number,pollViewerActivityIntervalMillis:i.number},getDefaultProps:function k(){return {timeToConsiderViewerInactiveMillis:30000,pollViewerActivityIntervalMillis:1000};},render:function k(){return c('React').createElement(c('OnVisible.react'),{ref:'onVisibleElement',onVisible:this.startInterval,onHidden:this.finishInterval},this.props.children);},startInterval:function k(){if(this.firstVisibleTime===0){this.firstVisibleTime=this._getTimeInSeconds();this._checkForIdleViewer();}},finishInterval:function k(){var l=c('UFIOrderingModeStore').getState().get(this.props.contextArgs.instanceid);if(this.firstVisibleTime&&this.isMounted()){var m=this._getTimeInSeconds();if(m>this.firstVisibleTime)new (c('CommentsTimeSpentTypedLogger'))().setViewerHasInteracted(this.props.viewerHasInteracted).setOrderingMode(l).setPostFbid(this.props.targetFBID).setStartTime(this.firstVisibleTime).setEndTime(m).setTimeSpentID(c('pageID')).log();this.firstVisibleTime=0;}},componentWillReceiveProps:function k(){this.finishInterval();},componentDidMount:function k(){this.listeners.addSubscriptions(c('Banzai').subscribe(c('Banzai').SHUTDOWN,this.finishInterval),c('Event').listen(window,'blur',this.finishInterval),c('Event').listen(window,'focus',this._checkVisibility));},componentWillUnmount:function k(){this.finishInterval();this.listeners.release();},componentDidUpdate:function k(){this._checkVisibility();},_getTimeInSeconds:function k(){return Math.floor(Date.now()/1000);},_checkVisibility:function k(){if(this.isMounted()){this.refs.onVisibleElement!==null||h(0);this.refs.onVisibleElement.reset();}},_checkForIdleViewer:function k(){if(this.firstVisibleTime===0)return;if(c('UserActivity').isActive(this.props.timeToConsiderViewerInactiveMillis)){c('setTimeout')(function(){this._checkForIdleViewer();}.bind(this),this.props.pollViewerActivityIntervalMillis);}else{this.finishInterval();c('UserActivity').subscribeOnce(function(){if(this.isMounted())this._checkVisibility();}.bind(this));}}});f.exports=j;}),null);
__d('UFISeenTracker.react',['BanzaiODS','OnVisible.react','React','setTimeout'],(function a(b,c,d,e,f,g){'use strict';var h,i;function j(l){var m=false;return function(){if(!m){l();m=true;}};}h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(l){i.constructor.call(this,l);this.state={seen:false};this.$UFISeenTracker1=j(this.logSeen.bind(this));}k.prototype.render=function(){if(this.state.seen)return this.props.children;return c('React').createElement(c('OnVisible.react'),{onVisible:this.$UFISeenTracker1},this.props.children);};k.prototype.logSeen=function(){c('setTimeout')(function(){return this.setState({seen:true});}.bind(this),100);c('BanzaiODS').bumpEntityKey('unsampled_feedback','rendered_ufi_client');};k.defaultProps={children:null};f.exports=k;}),null);
__d('UFIComponentLogger.react',['CommentsTimeSpentTracker.react','React','UFISeenTracker.react','UFIConfig'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){var l=this.props,m=l.children,n=l.contextArgs,o=l.feedback,p=l.hasComments,q=l.isPermalink,r=l.viewerHasInteractedWithComments;if(!m)return null;var s=c('React').createElement('div',null,m);if(p&&c('UFIConfig').logCommentsTimespent){var t=r||q;s=c('React').createElement(c('CommentsTimeSpentTracker.react'),{contextArgs:n,viewerHasInteracted:t,targetFBID:o.commentstargetfbid},s);}if(c('UFIConfig').logWhetherUFISeen)s=c('React').createElement(c('UFISeenTracker.react'),null,s);return s;};function k(){h.apply(this,arguments);}k.propTypes={contextArgs:j.object.isRequired,feedback:j.object.isRequired,hasComments:j.bool.isRequired,isPermalink:j.bool.isRequired,viewerHasInteractedWithComments:j.bool.isRequired};k.defaultProps={children:null};f.exports=k;}),null);
__d('UFIComponents',['React','UFICommentFilters'],(function a(b,c,d,e,f,g){'use strict';var h=function k(l){if(!l)return false;if(l.props.comment&&c('UFICommentFilters').isDeleted(l.props.comment))return false;return true;},i=function k(l,m,n){var o=void 0,p=n?l.length-1:0,q=n?-1:l.length,r=n?-1:1;for(o=p;o!=q;o+=r)if(h(l[o])){m(l,o);return l;}return l;},j={applyToUFIComponents:function k(l,m,n){l=i(l,function(o,p){o[p]=c('React').cloneElement(o[p],m);},false);l=i(l,function(o,p){o[p]=c('React').cloneElement(o[p],n);},true);return l;}};f.exports=j;}),null);
__d('UFILikeSentenceText.react',['cx','ActorURI','HovercardLinkInterpolator','ProfileBrowserLink','ProfileBrowserTypes','React','TextWithEntities.react','URI','XUFIReactionProfileBrowserController','XUFIReactionProfileDialogController'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;function l(n,o,p,q){if(q.count!=null){var r=c('ProfileBrowserTypes').LIKES,s={id:n.targetfbid,actorid:n.actorid},t=[],u;for(var v=0;v<o.length;v++)if(!o[v].count){u=o[v];var w=u.entity;t.push(w.id);}var x=new (c('URI'))('/ajax/like/tooltip.php').setQueryData({comment_fbid:n.targetfbid,comment_from:n.actorforpost,seen_user_fbids:t.length?t:true});x=c('ActorURI').create(x,n.actorforpost);var y,z;if(n.displayreactions){y=c('XUFIReactionProfileDialogController').getURIBuilder().setString('ft_ent_identifier',n.entidentifier).getURI();y=c('ActorURI').create(y,n.actorforpost);z=c('XUFIReactionProfileBrowserController').getURIBuilder().setString('ft_ent_identifier',n.entidentifier).getURI();z=c('ActorURI').create(z,n.actorforpost);}else{y=c('ProfileBrowserLink').constructDialogURI(r,s).toString();z=c('ProfileBrowserLink').constructPageURI(r,s).toString();}return c('React').createElement('a',{'data-testid':'n_other_people_link',className:"_375l",rel:'dialog',ajaxify:y,href:z,'data-hover':'tooltip','data-tooltip-alignh':'center','data-tooltip-uri':x.toString(),role:'button'},p);}else{var aa={source_feedback_owner_id:n.ownerid,source_feedback_identifier:n.entidentifier};return c('HovercardLinkInterpolator')(p,q,null,null,'ufi',aa);}}i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;m.prototype.render=function(){var n=this.props.feedback,o=this.props.likeSentenceData,p,q=o.aggregatedranges||o.aggregated_ranges;p=l;p=p.bind(null,n,o.ranges);return c('React').createElement(c('TextWithEntities.react'),{interpolator:p,ranges:Object.values(o.ranges),aggregatedRanges:q,text:o.text});};function m(){i.apply(this,arguments);}m.propTypes={contextArgs:k.object.isRequired,feedback:k.object.isRequired,likeSentenceData:k.object.isRequired};f.exports=m;}),null);
__d("XUFIReactionTooltipController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/reaction\/tooltip\/",{ft_ent_identifier:{type:"String",required:true},seen_user_fbids:{type:"IntVector",defaultValue:[]},reaction_type:{type:"Enum",enumType:0},user_count:{type:"Int"}});}),null);
__d('UFIReactionsFacepile.react',['ix','cx','ActorURI','Bootloader','Image.react','React','TooltipLink.react','UFIConfig','UFIConstants','UFIReactionIconImpl.react','UFIReactionsProfileBrowserUtils','XUFIReactionTooltipController','XUFIReactionsSocialSentenceTooltipController','fbglyph'],(function a(b,c,d,e,f,g,h,i){var j,k,l=11,m=7,n=32,o='16';j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;function p(q,r){'use strict';k.constructor.call(this,q,r);this.onSentenceClick=function(event){var s=this.props.feedback,t=c('UFIReactionsProfileBrowserUtils').getDialogURI(s).toString();c('Bootloader').loadModules(["AsyncDialog"],function(u){u.bootstrap(t,event.currentTarget,'dialog');},'UFIReactionsFacepile.react');event.preventDefault();}.bind(this);}p.prototype.componentWillMount=function(){'use strict';var q=this.props.context.source,r=c('UFIConstants').UFIFeedbackSourceType.PHOTOS_SNOWLIFT;if(q===r){this.$UFIReactionsFacepile2=m;}else this.$UFIReactionsFacepile2=l;};p.prototype.$UFIReactionsFacepile3=function(q){'use strict';var r=q.actorforpost,s=q.entidentifier,t=c('UFIConfig').reactionsHasTooltipBreakdown?c('XUFIReactionsSocialSentenceTooltipController'):c('XUFIReactionTooltipController');return {'data-hover':'tooltip','data-tooltip-uri':c('ActorURI').create(t.getURIBuilder().setString('ft_ent_identifier',s).getURI(),r)};};p.prototype.renderFacepile=function(){'use strict';var q=this.props.feedback,r=q.reactioncount,s=q.reactors;if(s===null)return null;var t=s;if(r>this.$UFIReactionsFacepile2)t=s.slice(0,this.$UFIReactionsFacepile2-1);return t.map(function(u){return c('React').createElement(c('TooltipLink.react'),{href:c('UFIReactionsProfileBrowserUtils').getPageURI(q),key:u.profilepicsrc,onClick:this.onSentenceClick,position:'above',rel:'ignore',tooltip:u.name},c('React').createElement('div',null,c('React').createElement('div',{className:"_44l5"},c('React').createElement(c('Image.react'),{height:n,src:u.profilepicsrc,width:n}),c('React').createElement('div',{className:"_44l6"},c('React').createElement(c('UFIReactionIconImpl.react'),{reaction:u.reaction,size:o})))));}.bind(this));};p.prototype.renderMoreLink=function(){'use strict';var q=this.props.feedback,r=q.reactioncount,s=q.reactors,t=q.viewerreaction;if(s===null||r<=this.$UFIReactionsFacepile2)return null;var u=s[this.$UFIReactionsFacepile2-1],v=void 0;if(c('UFIConfig').reactionsHasTooltipBreakdown){v=r>1;}else v=t?r>3:r>2;var w=null;if(v)w=this.$UFIReactionsFacepile3(q);return c('React').createElement('a',{className:"_44l5 _19sm",href:c('UFIReactionsProfileBrowserUtils').getPageURI(q),onClick:this.onSentenceClick,rel:'ignore'},c('React').createElement('span',babelHelpers['extends']({},w,{className:"_44l7"}),c('React').createElement('div',{className:"_3vbb"},c('React').createElement(c('Image.react'),{height:n,src:u.profilepicsrc,width:n})),c('React').createElement('div',{className:"_44l8"},c('React').createElement(c('Image.react'),{height:o,src:h("114186"),width:o}))));};p.prototype.render=function(){'use strict';return c('React').createElement('li',{className:"_44l9"},this.renderFacepile(),this.renderMoreLink());};f.exports=p;}),null);
__d('UFIReactionsSocialSentence.react',['cx','fbt','ActorURI','Bootloader','BanzaiLogger','React','UFIConfig','UFIReactionsBlingTokens.react','UFIReactionsFacepile.react','UFIReactionsProfileBrowserUtils','XUFIReactionTooltipController','XUFIReactionsSocialSentenceTooltipController'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.onSentenceClick=function(event){var r=this.props.feedback,s=c('UFIReactionsProfileBrowserUtils').getDialogURI(r).toString();c('BanzaiLogger').log('WebReactionsBlingLoggerConfig',{feedback_id:this.props.feedback.entidentifier,'interface':'www',action:'click',target_type:'social_sentence'});c('Bootloader').loadModules(["AsyncDialog"],function(t){t.bootstrap(s,event.currentTarget,'dialog');},'UFIReactionsSocialSentence.react');event.preventDefault();}.bind(this),n;}l.prototype.$UFIReactionsSocialSentence1=function(m){'use strict';var n=m.actorforpost,o=m.entidentifier,p=c('UFIConfig').reactionsHasTooltipBreakdown?c('XUFIReactionsSocialSentenceTooltipController'):c('XUFIReactionTooltipController');return {'data-hover':'tooltip','data-tooltip-uri':c('ActorURI').create(p.getURIBuilder().setString('ft_ent_identifier',o).getURI(),n)};};l.prototype.render=function(){'use strict';var m=this.props.feedback,n=this.props.contextArgs,o=m.likesentences,p=m.reactors,q=m.reactioncount,r=m.reactioncountreduced,s=m.reactionsentences,t=m.showblingbarfeedback,u=m.viewerreaction,v=u?q>3:q>2;if(c('UFIConfig').reactionsHasTooltipBreakdown)v=q>1;var w=null;if(v)w=this.$UFIReactionsSocialSentence1(m);var x=null;if(s&&s.current){x=s.current.text;}else if(o&&o.current){x=o.current.text;}else x=r;var y=m!==null&&t&&n.isPermalink,z=null;if(x)z=c('React').createElement('span',{className:"_4arz"},c('React').createElement('span',w,x));var aa=null,ba=null;if(q){if(y&&!z)ba=i._("people reacted to this");aa=c('React').createElement('span',{'aria-hidden':!!z,className:"_1g5v"},c('React').createElement('span',w,r,' ',ba));}var ca=c('React').createElement('a',{className:"_2x4v",href:c('UFIReactionsProfileBrowserUtils').getPageURI(m),onClick:this.onSentenceClick,rel:'ignore'},aa,z),da=null,ea=null;if(y&&p){da=c('React').createElement(c('UFIReactionsFacepile.react'),{feedback:m,context:n});}else{var fa=c('UFIConfig').reactionsDirectReactTokensModule?c('UFIConfig').reactionsDirectReactTokensModule:c('UFIReactionsBlingTokens.react');ea=c('React').createElement(fa,{className:"_4ar- _ipn",contextArgs:n,showCounts:c('UFIConfig').reactionsHasDirectReactTokensCounts,feedback:m,max:3},ca);}return c('React').createElement('div',{'data-interaction-root-id':"_1vaq"},da,c('React').createElement('div',{className:"_ipp"},y?ca:ea));};f.exports=l;}),null);
__d("XUFIGroupSeenByProfileBrowserController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/group\/seenby\/profile\/browser\/",{id:{type:"Int",required:true}});}),null);
__d("XUFIGroupSeenByProfileDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/group\/seenby\/profile\/dialog\/",{id:{type:"Int",required:true},__asyncDialog:{type:"Int"}});}),null);
__d('UFILikeSentence.react',['cx','fbt','invariant','ActorURI','Bootloader','LeftRight.react','React','UFILikeSentenceText.react','UFIReactionsSocialSentence.react','URI','XUFIGroupSeenByProfileBrowserController','XUFIGroupSeenByProfileDialogController','isEmpty','joinClasses'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes,n=null;k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.state={bootloadedSelectorModule:false,hasSelectorModule:!!n},q;}o.rendersSocialSentence=function(p){var q=p.feedback,r=p.contextArgs,s=q.likesentences,t=q.reactionsentences;if(r.hideSocialSentence)return false;return s&&!c('isEmpty')(s.current)||t&&t.current&&t.current.text;};o.prototype.componentWillMount=function(){this.$UFILikeSentence1(this.props);};o.prototype.componentWillReceiveProps=function(p){this.$UFILikeSentence1(p);};o.prototype.$UFILikeSentence1=function(p){if(p.showOrderingModeSelector&&!this.state.bootloadedSelectorModule){!p.contextArgs.entstream||j(0);c('Bootloader').loadModules(["UFIOrderingModeSelectorContainer.react"],function(q){n=q;this.setState({hasSelectorModule:true});}.bind(this),'UFILikeSentence.react');this.setState({bootloadedSelectorModule:true});}};o.prototype.$UFILikeSentence2=function(){var p=this.props.feedback,q=p.likesentences,r=q||{},s=r.current;return s||{};};o.prototype.$UFILikeSentence3=function(){var p=this.props,q=p.feedback,r=p.contextArgs;if(!this.constructor.rendersSocialSentence(p))return null;if(r.hasReactions)return c('React').createElement(c('UFIReactionsSocialSentence.react'),{feedback:q,contextArgs:r});var s=this.$UFILikeSentence2();if(s&&s.text)return c('React').createElement('div',{className:"UFILikeSentenceText"},c('React').createElement(c('UFILikeSentenceText.react'),{contextArgs:r,feedback:q,likeSentenceData:s}));return null;};o.prototype.$UFILikeSentence4=function(){var p=this.props;if(!p.contextArgs.showCommentHeader)return null;return c('React').createElement('div',{className:"_310u"},i._("Comments"));};o.prototype.renderOrderingModeSelector=function(){if(!this.props.showOrderingModeSelector||!this.state.hasSelectorModule||!n)return null;return c('React').createElement(n,{key:'orderingmodeselector',contextArgs:this.props.contextArgs,feedback:this.props.feedback});};o.prototype.renderSeenState=function(){var p=this.props.feedback;if(!p.seencount||p.seencount===0||this.props.contextArgs.entstream)return null;var q=null;if(p.seenbyall){q=i._("Seen by everyone");}else q=p.seencount==1?i._("Seen by 1"):i._("Seen by {count}",[i.param('count',p.seencount)]);var r=new (c('URI'))('/ajax/ufi/seen_list_hovercard.php').setQueryData({id:p.entidentifier}),s=c('ActorURI').create(c('XUFIGroupSeenByProfileDialogController').getURIBuilder().setInt('id',p.entidentifier).getURI(),p.actorforpost),t=c('ActorURI').create(c('XUFIGroupSeenByProfileBrowserController').getURIBuilder().setInt('id',p.entidentifier).getURI(),p.actorforpost);return c('React').createElement('a',{key:'seenstate',rel:'dialog',ajaxify:s,href:t,'data-hovercard':r.toString(),className:"UFISeenCount"+(' '+"UFISeenCountRight")},c('React').createElement('span',{className:'UFISeenCountIcon'}),q);};o.prototype.render=function(){var p=this.$UFILikeSentence3(this.props),q=[this.renderSeenState(),this.renderOrderingModeSelector()].filter(function(t){return t!==null;}),r=null;if(q.length===1){r=q[0];}else if(q.length>1)r=c('React').createElement('div',{className:"_oql"},q);if(r)if(!p){p=this.$UFILikeSentence4();if(!p)p=c('React').createElement('div',null);}var s=null;if(p){s=c('React').createElement(c('LeftRight.react'),{direction:c('LeftRight.react').DIRECTION.right},p,r);}else s=r;return c('React').createElement('div',{className:c('joinClasses')("UFIRow"+(this.props.feedback.likesentences.isunseen?' '+"UFIUnseenItem":'')+(' '+"UFILikeSentence")+(this.props.isFirstComponent?' '+"_4204":'')+(this.props.isLastComponent?' '+"_2o9m":'')+(this.props.contextArgs.hasReactions?' '+"_4_dr":''))},s);};o.propTypes={contextArgs:m.object.isRequired,feedback:m.object.isRequired,isFirstComponent:m.bool,isLastComponent:m.bool,onOrderingModeChange:m.func,showOrderingModeSelector:m.bool};o.contextTypes={dispatch:m.func};f.exports=o;}),null);
__d('UFILiveTypingIndicatorContainer.react',['BootloadOnRender.react','FluxContainer','JSResource','LazyComponent.react','React','UFIConfig','UFILiveTypingStore'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').Component;h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(l){i.constructor.call(this,l);this.state={everHadTyping:false,hasTyping:false,friendTyping:false};}k.getStores=function(){return [c('UFILiveTypingStore')];};k.calculateState=function(){var l=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],m=arguments[1];if(!c('UFIConfig').typingIndicator.showInline)return {everHadTyping:false,hasTyping:false,friendTyping:false};var n=!!c('UFILiveTypingStore').getState()[m.feedbackTargetID];return {everHadTyping:l.everHadTyping||n,hasTyping:n,friendTyping:c('UFILiveTypingStore').isFriendTyping(m.feedbackTargetID)};};k.prototype.shouldComponentUpdate=function(l,m){return l.feedbackTargetID!=this.props.feedbackTargetID||m.everHadTyping!=this.state.everHadTyping||m.hasTyping!=this.state.hasTyping;};k.prototype.render=function(){if(this.state.everHadTyping)return c('React').createElement(c('BootloadOnRender.react'),{loader:c('JSResource')('UFILiveTypingIndicator.react').__setRef('UFILiveTypingIndicatorContainer.react'),placeholder:c('React').createElement('div',null),component:c('React').createElement(c('LazyComponent.react'),babelHelpers['extends']({},this.props,this.state))});return null;};f.exports=c('FluxContainer').create(k,{pure:true,withProps:true});}),null);
__d('UFIPager.react',['cx','LeftRight.react','React','UFIImageBlock.react','XUISpinner.react','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.onPagerClick=function(r){!this.props.isLoading&&this.props.onPagerClick&&this.props.onPagerClick();r.nativeEvent.prevent();}.bind(this),n;}l.prototype.render=function(){var m=this.onPagerClick,n=c('joinClasses')("UFIRow"+(this.props.isUnseen?' '+"UFIUnseenItem":'')+(' '+"UFIPagerRow")+(' '+"_4oep")+(this.props.isFirstCommentComponent?' '+"_48pi":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"_4204":'')+(this.props.isLastComponent?' '+"_2o9m":'')),o=null;if(this.props.isLoading)o=c('React').createElement(c('XUISpinner.react'),{className:'mls',background:'light',size:'small'});var p=c('React').createElement('a',{className:'UFIPagerLink',onClick:m,href:'#',role:'button'},this.props.pagerLabel,o),q="fcg"+(' '+"UFIPagerCount"),r=c('React').createElement('span',{className:q},this.props.countSentence),s;if(this.props.contextArgs.entstream||!this.props.isReply){s=c('React').createElement(c('LeftRight.react'),{direction:c('LeftRight.react').DIRECTION.right},p,r);}else s=c('React').createElement(c('UFIImageBlock.react'),null,c('React').createElement('a',{className:'UFIPagerIcon',onClick:m,href:'#',role:'button'}),p,r);return c('React').createElement('div',{className:n,'data-ft':this.props['data-ft'],'data-interaction-root-id':"_2sp7"},s);};l.propTypes={contextArgs:k.object.isRequired,pagerLabel:k.string.isRequired,'data-ft':k.string,countSentence:k.string,isFirstCommentComponent:k.bool,isFirstComponent:k.bool,isLastCommentComponent:k.bool,isLastComponent:k.bool,isLoading:k.bool,isReply:k.bool,isUnseen:k.bool,onPagerClick:k.func};f.exports=l;}),null);
__d('UFIPagerLabel',['fbt','intlList','NumberFormat'],(function a(b,c,d,e,f,g,h){'use strict';function i(k){return c('NumberFormat').formatInteger(k.count);}var j={VIEW_ONE:'view_one',VIEW_ONE_MORE:'view_one_more',VIEW_ALL:'view_all',VIEW_MORE_EXPLICIT:'view_more_explicit',VIEW_MORE:'view_more',VIEW_PREVIOUS:'view_previous',VIEW_PREVIOUS_EXPLICIT:'view_previous_explicit',_getReplyLabel:function k(l,m){switch(l){case j.VIEW_ONE:return h._("View 1 reply");case j.VIEW_ONE_MORE:return h._("View 1 more reply");case j.VIEW_ALL:return h._({"*":"View all {count} replies"},[h.param('count',i(m),[0,m.count])]);case j.VIEW_MORE_EXPLICIT:return h._({"*":{"*":"View {count} more replies","268435456":"View {count} more reply"}},[h.param('count',i(m),[0,m.count]),h.plural(m.count)]);case j.VIEW_MORE:return h._("View more replies");case j.VIEW_PREVIOUS:return h._("View previous replies");case j.VIEW_PREVIOUS_EXPLICIT:return h._({"*":{"*":"View {count} previous replies","268435456":"View {count} previous reply"}},[h.param('count',i(m),[0,m.count]),h.plural(m.count)]);default:return null;}},_getCommentLabel:function k(l,m){switch(l){case j.VIEW_ONE:return h._("View 1 comment");case j.VIEW_ONE_MORE:return h._("View 1 more comment");case j.VIEW_ALL:return h._({"*":"View all {count} comments"},[h.param('count',i(m),[0,m.count])]);case j.VIEW_MORE_EXPLICIT:return h._({"*":{"*":"View {count} more comments","268435456":"View {count} more comment"}},[h.param('count',i(m),[0,m.count]),h.plural(m.count)]);case j.VIEW_MORE:return h._("View more comments");case j.VIEW_PREVIOUS_EXPLICIT:return h._({"*":{"*":"View {count} previous comments","268435456":"View {count} previous comment"}},[h.param('count',i(m),[0,m.count]),h.plural(m.count)]);case j.VIEW_PREVIOUS:return h._("View previous comments");default:return null;}},_getCommentLabelWithCommentSentence:function k(l,m){var n=c('intlList')(m.commenters),o=m.othersCount,p=c('NumberFormat').formatInteger(o);switch(l){case j.VIEW_ONE:return h._("View 1 comment from {names}",[h.param('names',n)]);case j.VIEW_ONE_MORE:return h._("View 1 more comment from {names}",[h.param('names',n)]);case j.VIEW_ALL:switch(o){case 0:return h._({"*":"View all {count} comments from {names}"},[h.param('count',i(m),[0,m.count]),h.param('names',n)]);case 1:return h._({"*":"View all {count} comments from {names} and 1 other person"},[h.param('count',i(m),[0,m.count]),h.param('names',n)]);default:return h._({"*":{"*":"View all {count} comments from {names} and {othersCount} others"}},[h.param('count',i(m),[0,m.count]),h.param('names',n),h.param('othersCount',p,[0,o])]);}case j.VIEW_MORE_EXPLICIT:case j.VIEW_MORE:switch(o){case 0:return h._("View more comments from {names}",[h.param('names',n)]);case 1:return h._("View more comments from {names} and 1 other person",[h.param('names',n)]);default:return h._({"*":"View more comments from {names} and {othersCount} others"},[h.param('names',n),h.param('othersCount',p,[0,o])]);}case j.VIEW_PREVIOUS:case j.VIEW_PREVIOUS_EXPLICIT:switch(o){case 0:return h._("View previous comments from {names}",[h.param('names',n)]);case 1:return h._("View previous comments from {names} and 1 other person",[h.param('names',n)]);default:return h._({"*":"View previous comments from {names} and {othersCount} others"},[h.param('names',n),h.param('othersCount',p,[0,o])]);}default:return null;}},_getQuestionLabel:function k(l,m){switch(l){case j.VIEW_ONE:return h._("View 1 question");case j.VIEW_ONE_MORE:return h._("View 1 more question");case j.VIEW_ALL:return h._({"*":"View all {count} questions"},[h.param('count',i(m),[0,m.count])]);case j.VIEW_MORE_EXPLICIT:return h._({"*":{"*":"View {count} more questions","268435456":"View {count} more question"}},[h.param('count',i(m),[0,m.count]),h.plural(m.count)]);case j.VIEW_MORE:return h._("View more questions");case j.VIEW_PREVIOUS:return h._("View previous questions");case j.VIEW_PREVIOUS_EXPLICIT:return h._({"*":{"*":"View {count} previous questions","268435456":"View {count} previous question"}},[h.param('count',i(m),[0,m.count]),h.plural(m.count)]);default:return null;}},_getAnswerLabel:function k(l,m){switch(l){case j.VIEW_ONE:return h._("View 1 answer");case j.VIEW_ONE_MORE:return h._("View 1 more answer");case j.VIEW_ALL:return h._({"*":"View all {count} answers"},[h.param('count',i(m),[0,m.count])]);case j.VIEW_MORE_EXPLICIT:return h._({"*":{"*":"View {count} more answers","268435456":"View {count} more answer"}},[h.param('count',i(m),[0,m.count]),h.plural(m.count)]);case j.VIEW_MORE:return h._("View more answers");case j.VIEW_PREVIOUS_EXPLICIT:return h._({"*":{"*":"View {count} previous answers","268435456":"View {count} previous answer"}},[h.param('count',i(m),[0,m.count]),h.plural(m.count)]);case j.VIEW_PREVIOUS:return h._("View previous answers");default:return null;}},getLabel:function k(l,m,n,o,p){if(m){return j._getReplyLabel(l,p);}else if(n){return j._getQuestionLabel(l,p);}else if(o){return j._getAnswerLabel(l,p);}else{if(p.commenters)return this._getCommentLabelWithCommentSentence(l,p);return j._getCommentLabel(l,p);}}};f.exports=j;}),null);
__d('UFIPagerGenerator',['fbt','NumberFormat','React','TrackingNodes','UFIConstants','UFIOrderingModeStore','UFIPager.react','UFIPagerLabel','UFIRange'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('UFIConstants').UFIPaging,j={isBottomPager:function k(l,m){return c('UFIOrderingModeStore').isInverted(m)&&!l;},needsStartOfRangePager:function k(l){return l>0;},renderPagers:function k(l){var m,n,o,p=l.commentCount,q=l.contextArgs,r=l.currentLength,s=l.currentOffset,t=l.deletedCount,u=l.feedback,v=l.onPageCallback,w=l.orderingMode,x=l.range,y=l.targetID,z=p-t,aa=r-t,ba=y!==q.ftentidentifier,ca=this.isBottomPager(ba,w),da={topPager:null,bottomPager:null},ea=false;if(q.isaskquestion)ea=q.isaskquestion;var fa=x.isLoadingPrev(),ga=x.isLoadingNext(),ha={count:0},ia=u.commentsentenceinfo;if(ia){ha.commenters=ia.explicit_commenter_names;ha.othersCount=ia.other_commenter_count;}var ja=s+r==p;if(p<q.pagesize&&ja||aa===0){var ka,m=function(){var na=Math.min(p,q.pagesize);ka=function sa(){return v(ca?i.BOTTOM:i.TOP,new (c('UFIRange'))(p-na,na));};var oa=void 0;if(aa===0){if(z==1){oa=c('UFIPagerLabel').VIEW_ONE;}else{ha.count=z;oa=c('UFIPagerLabel').VIEW_ALL;}}else if(z-aa==1){oa=c('UFIPagerLabel').VIEW_ONE_MORE;}else{oa=c('UFIPagerLabel').VIEW_MORE_EXPLICIT;ha.count=z-aa;}var pa=c('TrackingNodes').getTrackingInfo(c('TrackingNodes').types.VIEW_ALL_COMMENTS),qa=c('UFIPagerLabel').getLabel(oa,ba,u.isqanda,ea,ha),ra=c('React').createElement(c('UFIPager.react'),{key:'allPager'+y,ref:ca?'topLevelBottomPager':null,contextArgs:q,isUnseen:u.hasunseencollapsed,isLoading:ca?ga:fa,isReply:ba,pagerLabel:qa,onPagerClick:ka,'data-ft':pa});if(ca){da.bottomPager=ra;}else da.topPager=ra;return {v:da};}();if(typeof m==="object")return m.v;}var la=c('UFIPagerLabel').getLabel(c('UFIPagerLabel').VIEW_MORE,ba,u.isqanda,ea,ha),ma=c('UFIPagerLabel').getLabel(c('UFIPagerLabel').VIEW_PREVIOUS,ba,u.isqanda,ea,ha);if(this.needsStartOfRangePager(s))(function(){var na=Math.max(s-q.pagesize,0),oa=s+r-na,pa=void 0;if(!ba||aa>1){var qa=c('NumberFormat').formatInteger(aa),ra=c('NumberFormat').formatInteger(z);pa=h._("{countshown} of {totalcount}",[h.param('countshown',qa),h.param('totalcount',ra)]);}var sa=function ta(){return v(ca?i.BOTTOM:i.TOP,new (c('UFIRange'))(na,oa));};if(ca){da.bottomPager=c('React').createElement(c('UFIPager.react'),{key:'bottomPager'+y,ref:!ba?'topLevelBottomPager':null,contextArgs:q,isLoading:fa,isReply:ba,pagerLabel:la,onPagerClick:sa,countSentence:pa});}else da.topPager=c('React').createElement(c('UFIPager.react'),{key:'topPager'+y,contextArgs:q,isLoading:fa,isReply:ba,pagerLabel:ma,onPagerClick:sa,countSentence:pa});})();if(s+r<p)(function(){var na=Math.min(r+q.pagesize,p-s),oa=function pa(){return v(ca?i.TOP:i.BOTTOM,new (c('UFIRange'))(s,na));};if(ca){da.topPager=c('React').createElement(c('UFIPager.react'),{key:'topPager'+y,contextArgs:q,isLoading:ga,isReply:ba,pagerLabel:ma,onPagerClick:oa});}else da.bottomPager=c('React').createElement(c('UFIPager.react'),{key:'bottomPager',ref:!ba?'topLevelBottomPager':null,contextArgs:q,isLoading:ga,isReply:ba,pagerLabel:la,onPagerClick:oa});})();return da;}};f.exports=j;}),null);
__d('UFIReplySocialSentence.react',['cx','fbt','Badge.react','Image.react','LiveTimer','React','Timestamp.react','UFIImageBlock.react','Middot.react','NumberFormat','WebCommentViewOption','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=43200;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;n.prototype.render=function(){var o=this.props.isLoading?"UFIReplySocialSentenceLoading":'',p=c('joinClasses')("UFIRow"+(' '+"UFIReplySocialSentenceRow")+(this.props.isFirstComponent?' '+"_4204":'')+(this.props.isLastComponent?' '+"_2o9m":'')),q,r,s=c('NumberFormat').formatInteger(this.props.replies);if(this.props.isExpanded){q=this.props.replies>1?i._({"*":"Hide {count} Replies"},[i.param('count',s,[0,this.props.replies])]):i._("Hide 1 Reply");}else{q=this.props.replies>1?i._({"*":"{count} Replies"},[i.param('count',s,[0,this.props.replies])]):i._("1 Reply");if(this.props.timestamp){var t=c('LiveTimer').getApproximateServerTime()/1000-this.props.timestamp.time;if(t<m||this.props.orderingMode==c('WebCommentViewOption').RECENT_ACTIVITY)r=c('React').createElement('span',{className:"fcg"},c('React').createElement(c('Middot.react'),{key:'middot-timestamp'}),c('React').createElement(c('Timestamp.react'),{shorten:this.props.contextArgs.shortenTimestamp,time:this.props.timestamp.time,text:this.props.timestamp.text,verbose:this.props.timestamp.verbose}));}}var u=this.props.author,v=u&&!this.props.isExpanded,w=null,x;if(v){w=c('React').createElement(c('Image.react'),{alt:'',src:u.thumbSrc,className:"img UFIActorImage _54ru"});var y=null;if(this.props.showVerified)y=c('React').createElement(c('Badge.react'),{size:'xsmall',type:'verified'});if(u.i18nGender){x=[i._({"*":"{author}{verified_badge} replied"},[i.param('author',u.name,[1,u.i18nGender]),i.param('verified_badge',y)])];}else x=[i._("{author}{verified_badge} replied",[i.param('author',u.name),i.param('verified_badge',y)])];x.push(c('React').createElement(c('Middot.react'),{key:'middot-author'}),q);}else x=q;return c('React').createElement('div',{className:p,'data-ft':this.props['data-ft'],'data-interaction-root-id':"_34dm"},c('React').createElement('a',{className:'UFICommentLink',onClick:this.props.onClick,href:'#',role:'button'},c('React').createElement(c('UFIImageBlock.react'),null,c('React').createElement('div',{className:(v?"UFIReplyActorPhotoWrapper":'')+(v?' '+"UFIReplyActor":'')},c('React').createElement('i',{className:(!this.props.isExpanded?"UFIPagerIcon":'')+(this.props.isExpanded?' '+"UFICollapseIcon":'')+(v?' '+"UFIIconWithActor":'')}),w),c('React').createElement('span',{className:o},c('React').createElement('span',{className:"UFIReplySocialSentenceLinkText"+(this.props.showVerified?' '+"UFIReplySocialSentenceVerified":'')},x),r))));};function n(){j.apply(this,arguments);}n.propTypes={author:l.object,contextArgs:l.object.isRequired,'data-ft':l.string,isExpanded:l.bool,isFirstComponent:l.bool,isLastComponent:l.bool,isLoading:l.bool,onClick:l.func,orderingMode:l.string,replies:l.number,showVerified:l.bool,timestamp:l.object};f.exports=n;}),null);
__d("XUFICommentTooltipController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/comment\/tooltip\/",{ft_ent_identifier:{type:"String",required:true},seen_user_fbids:{type:"IntVector",defaultValue:[]}});}),null);
__d('UFICommentCount.react',['cx','fbt','ActorURI','NumberFormat','React','XUFICommentTooltipController'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.$UFICommentCount1=function(){var n=this.props.commentCount,o=n==1;if(typeof n==='number')n=c('NumberFormat').formatInteger(n);return i._({"Comment":"{count} Comment","Comments":"{count} Comments"},[i.param('count',n),i['enum'](o?'Comment':'Comments',{Comment:'Comment',Comments:'Comments'})]);};m.prototype.render=function(){var n=this.props.feedback,o=n.entidentifier,p=n.actorforpost,q=this.$UFICommentCount1(),r="fcg",s=null;if(o&&p)s=c('ActorURI').create(c('XUFICommentTooltipController').getURIBuilder().setString('ft_ent_identifier',o).getURI(),p);if(s){return c('React').createElement('span',{'aria-live':'polite',className:r,'data-hover':'tooltip','data-tooltip-uri':s},q);}else return c('React').createElement('span',{className:r},q);};function m(){j.apply(this,arguments);}m.propTypes={commentCount:l.oneOfType([l.number,l.string]).isRequired,feedback:l.object.isRequired};f.exports=m;}),null);
__d("XUFIShareTooltipController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/share\/tooltip\/",{ft_ent_identifier:{type:"String",required:true},seen_user_fbids:{type:"IntVector",defaultValue:[]}});}),null);
__d('UFIShareRow.react',['cx','fbt','ActorURI','Layout.react','NumberFormat','React','UFICommentCount.react','XUFIShareTooltipController','URI'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Layout.react').Column,m=c('Layout.react').FillColumn,n=c('React').PropTypes;j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;o.prototype.$UFIShareRow1=function(){var p=this.props,q=p.feedback,r=p.shownCommentCount;if(r&&r!=0)return c('React').createElement(c('UFICommentCount.react'),{feedback:q,commentCount:r});return null;};o.prototype.render=function(){var p=this.props.feedback.sharefbid||this.props.feedback.targetfbid,q=new (c('URI'))('/ajax/shares/view').setQueryData({target_fbid:p}),r=new (c('URI'))('/shares/view').setSubdomain('www').setQueryData({id:p}),s=this.props.contextArgs.loggedOutLinkConfig;if(s&&s.showShareLink)q=s.shareAjaxifyURI;var t;if(this.props.feedback.sharecount>1){var u=c('NumberFormat').formatInteger(this.props.feedback.sharecount);t=i._({"*":"{count} shares"},[i.param('count',u,[0,this.props.feedback.sharecount])]);}else t=i._("1 share");var v="UFIRow"+(' '+"UFIShareRow")+(this.props.isFirstComponent?' '+"_4204":'')+(this.props.isLastComponent?' '+"_2o9m":''),w=c('ActorURI').create(c('XUFIShareTooltipController').getURIBuilder().setString('ft_ent_identifier',this.props.feedback.entidentifier).getURI(),this.props.feedback.actorforpost),x=c('React').createElement('a',{className:'UFIShareLink',rel:'dialog','data-hover':'tooltip','data-tooltip-uri':w,ajaxify:q.toString(),href:r.toString()},t),y=this.$UFIShareRow1();if(y)x=c('React').createElement(c('Layout.react'),null,c('React').createElement(m,null,x),c('React').createElement(l,null,y));return c('React').createElement('div',{className:v},x);};function o(){j.apply(this,arguments);}o.propTypes={contextArgs:n.object.isRequired,feedback:n.object.isRequired,isFirstComponent:n.bool,isLastComponent:n.bool,shownCommentCount:n.oneOfType([n.number,n.string])};f.exports=o;}),null);
__d('UFISpamPlaceholder.react',['fbt','React','XUISpinner.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){if(this.props.isLoading)return c('React').createElement('div',{className:'UFIRow'},c('React').createElement('span',{className:'UFISpamCommentWrapper'},c('React').createElement(c('XUISpinner.react'),{className:'mls',background:'light',size:'small'})));return c('React').createElement('div',{className:'UFIRow'},c('React').createElement('a',{href:'#',role:'button',className:'UFISpamCommentLink',onClick:this.props.onClick,'aria-label':h._("Show comments marked as spam")},c('React').createElement('span',{'data-hover':'tooltip','data-tooltip-alignh':'center','data-tooltip-content':h._({"*":"{count} hidden"},[h.param('count',this.props.numHidden,[0])]),className:'UFISpamCommentWrapper'},c('React').createElement('i',{className:'placeholderIcon'}))));};function l(){i.apply(this,arguments);}l.propTypes={numHidden:k.number.isRequired,isLoading:k.bool,onClick:k.func};f.exports=l;}),null);
__d('UFISpamPlaceholderContainer.react',['FluxContainer','React','UFISharedDispatcher','UFISpamPlaceholder.react','UFISpamStore','UFIStoryAction'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.state={isLoading:true,numHidden:0,onClick:function p(){return null;}},l;}j.getStores=function(){return [c('UFISpamStore')];};j.calculateState=function(k,l){var m=l.contextArgs,n=l.viewas,o=l.comment,p=l.parentCommentID;return {isLoading:!!c('UFISpamStore').getState()[o.id],numHidden:o.spamCommentIDs.length,onClick:function q(){return c('UFISharedDispatcher').dispatch(c('UFIStoryAction').spamFetched(m,n,o.spamCommentIDs,p));}};};j.prototype.shouldComponentUpdate=function(k,l){return k.contextArgs!=this.props.contextArgs||k.viewas!=this.props.viewas||k.parentCommentID!=this.props.parentCommentID||l.isLoading!=this.state.isLoading||l.numHidden!=this.state.numHidden;};j.prototype.render=function(){return c('React').createElement(c('UFISpamPlaceholder.react'),this.state);};f.exports=c('FluxContainer').create(j,{pure:true,withProps:true});}),null);
__d('UFITranslateAllRow.react',['cx','ContentTranslationStrings','Link.react','React','UFIInstanceAction','UFISharedDispatcher'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$UFITranslateAllRow1=function(){c('UFISharedDispatcher').dispatch(c('UFIInstanceAction').translateAll(this.props.contextArgs));}.bind(this),m;}k.prototype.render=function(){return c('React').createElement('div',{className:"UFIRow"},c('React').createElement('div',{className:"_4upo"},c('React').createElement(c('Link.react'),{onClick:this.$UFITranslateAllRow1},c('ContentTranslationStrings').TRANSLATE_ALL_TEXT)));};f.exports=k;}),null);
__d('StaticUFI.react',['csx','cx','invariant','Arbiter','BanzaiODS','BlueBar','BootloadOnRender.react','DOM','Event','FbFeedCommentUFIScroller','FluxContainer','JSResource','LazyComponent.react','LogHistory','Parent','React','ReactDOM','SearchableEntry','SubscriptionsHandler','TrackingNodes','UFIAcceptedAnswerStore','UFIAddComment.react','UFIAddCommentLink.react','UFIAnimatedCommentList.react','UFIComment.react','UFICommentDisabledNotice.react','UFICommentEditIDStore','UFICommentFilters','UFICommentHeader.react','UFICommentListVisibilityTracker.react','UFIComments','UFICommentScrollableArea.react','UFICommercialBreakStore','UFIComponentLogger.react','UFIComponents','UFIConfig','UFIConstants','UFIContainer.react','UFIInteractionStore','UFILikeSentence.react','UFILivePinnedCommentStore','UFILiveTypingIndicatorContainer.react','UFILocallyComposedCommentStore','UFIOrderingModeStore','UFIPagerGenerator','UFIPaging','UFIReplySocialSentence.react','UFIShareRow.react','UFISpamPlaceholderContainer.react','UFIStoryAction','UFITranslateAllRow.react','URI','XUISpinner.react','distinctArrayBy','emptyFunction','getElementPosition','getElementRect','getUnboundedScrollPosition','ifRequired','shallowEqual','throttle'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('UFIConfig').UFICommentFilterFallbackWarning||null,n=c('UFIConstants').UFIFeedbackSourceType,o=c('UFIConstants').UFIPayloadSourceType,p=c('UFIConstants').UFIStatus,q=c('React').PropTypes,r=c('React').createElement('div',{className:"UFICommentsLoadingSpinnerContainer _48pi UFIRow"},c('React').createElement(c('XUISpinner.react'),{size:'large'})),s=c('React').createElement('div',{className:"_xtv _32k4",role:'presentation'},c('React').createElement('i',null));k=babelHelpers.inherits(t,c('React').Component);l=k&&k.prototype;function t(u){l.constructor.call(this,u);this.loadMoreComments=function(){if(this.$StaticUFI1&&this.refs.topLevelBottomPager&&!(this.props.contextArgs.ftentidentifier in this.props.isActiveLoading)){var w=c('ReactDOM').findDOMNode(this.refs.topLevelBottomPager),x=c('getUnboundedScrollPosition')(window).y,y=x+document.documentElement.clientHeight+c('UFIConstants').infiniteScrollRangeForQANDAPermalinks;if(w.offsetHeight&&w.offsetTop<y)this.refs.topLevelBottomPager.props.onPagerClick();}}.bind(this);this.onComment=function(){var w=[function(){return this.refs.toplevelcomposer;}.bind(this),function(){return this.$StaticUFI36(c('Parent').byTag(c('ReactDOM').findDOMNode(this),'form'));}.bind(this),function(){return this.$StaticUFI36(c('Parent').bySelector(c('ReactDOM').findDOMNode(this),"._3g6d"));}.bind(this)],x=w.reduce(function(y,z){return y||z();},null);if(x){x.focus();c('FbFeedCommentUFIScroller').reveal(c('ReactDOM').findDOMNode(x));}}.bind(this);var v=this.props.focusReply;this.state={acceptedAnswerState:{type:'NoneAccepted'},focusReply:v,viewerHasClickedCommentComposer:false,viewerHasClickedSeeMore:false,editcommentid:c('UFICommentEditIDStore').getForInstance(this.props.contextArgs.instanceid),localCommentIDs:c('UFILocallyComposedCommentStore').getStateForInstance(this.props.contextArgs.instanceid),inCommercialBreak:c('UFICommercialBreakStore').getValueFor(this.props.contextArgs.instanceid)};}t.getStores=function(){return [c('UFIAcceptedAnswerStore')];};t.calculateState=function(u,v){var w=v.contextArgs,x=v.feedback,y=c('UFIAcceptedAnswerStore').get(w.ftentidentifier,x.acceptedanswer);return babelHelpers['extends']({},u,{acceptedAnswerState:y});};t.prototype.componentDidMount=function(){this.$StaticUFI1=true;c('Arbiter').inform('UFI/displayDone-'+this.props.contextArgs.instanceid);this.$StaticUFI2=new (c('SubscriptionsHandler'))();if(this.props.feedback.isqanda&&this.props.feedback.infinitescroll){var u=c('throttle')(this.loadMoreComments,20);this.$StaticUFI2.addSubscriptions(c('Event').listen(window,'scroll',u),c('Event').listen(window,'resize',u));}this.$StaticUFI3();this.$StaticUFI2.addSubscriptions(c('UFICommentEditIDStore').addListener(function(){this.setState({editcommentid:c('UFICommentEditIDStore').getForInstance(this.props.contextArgs.instanceid)});}.bind(this)),c('UFILocallyComposedCommentStore').addListener(function(){this.setState({localCommentIDs:c('UFILocallyComposedCommentStore').getStateForInstance(this.props.contextArgs.instanceid)});}.bind(this)),c('UFICommercialBreakStore').addListener(function(){this.setState({inCommercialBreak:c('UFICommercialBreakStore').getValueFor(this.props.contextArgs.instanceid)});}.bind(this)));};t.prototype.componentWillReceiveProps=function(u){if(this.props.focusReply!==u.focusReply)this.setState({focusReply:u.focusReply});};t.prototype.componentWillUnmount=function(){this.$StaticUFI1=false;this.$StaticUFI2&&this.$StaticUFI2.release();};t.prototype.shouldComponentUpdate=function(u,v){var w=this.props,x=this.state;return !c('shallowEqual')(x,v)||!c('shallowEqual')(x.loadingSpamIDs,v.loadingSpamIDs)||!c('shallowEqual')(x.localCommentIDs,v.localCommentIDs)||!c('shallowEqual')(x.inCommercialBreak,v.inCommercialBreak)||!c('shallowEqual')(w,u)||!c('shallowEqual')(w.feedback,u.feedback)||!c('shallowEqual')(w.repliesMap,u.repliesMap)||!c('shallowEqual')(w.commentCounts,u.commentCounts)||!c('shallowEqual')(w.deletedCounts,u.deletedCounts)||!c('shallowEqual')(w.availableComments,u.availableComments)||!c('shallowEqual')(w.ranges,u.ranges)||!c('shallowEqual')(w.authorProfiles,u.authorProfiles)||!c('shallowEqual')(w.commentPermalinks,u.commentPermalinks)||!c('shallowEqual')(w.canAddCommentMap,u.canAddCommentMap)||!c('shallowEqual')(w.canReplyMap,u.canReplyMap)||!c('shallowEqual')(w.isActiveLoading,u.isActiveLoading)||!c('shallowEqual')(w.allSeenActiveLoadDirectionData,u.allSeenActiveLoadDirectionData)||!c('shallowEqual')(w.repliesExpandedMap,u.repliesExpandedMap)||!c('shallowEqual')(w.loadingTranslationsMap,u.loadingTranslationsMap);};t.prototype.componentWillUpdate=function(u,v){this.$StaticUFI4=this.$StaticUFI4||!this.$StaticUFI5(this.props.payloadSource)&&this.props.source===n.NEWS_FEED&&c('BlueBar').hasFixedBlueBar();if(this.$StaticUFI4&&!this.$StaticUFI6)this.$StaticUFI6=c('getElementRect')(c('ReactDOM').findDOMNode(this));};t.prototype.componentDidUpdate=function(u,v){this.$StaticUFI3(u);if(this.$StaticUFI4&&this.$StaticUFI6){var w=this.$StaticUFI7(this.$StaticUFI6);if(w!==null)c('Arbiter').inform('ufi/didUpdate',{offsetY:w});this.$StaticUFI4=false;this.$StaticUFI6=null;}};t.prototype.$StaticUFI5=function(u){return u===o.UNKNOWN||u===o.INITIAL_SERVER||u===o.USER_ACTION||u===o.COLLAPSE_ACTION;};t.prototype.$StaticUFI7=function(u){var v=c('getElementPosition')(c('BlueBar').getMaybeFixedRoot());if(u.bottom<v.height){var w=u.bottom-u.top;return c('ReactDOM').findDOMNode(this).offsetHeight-w;}return null;};t.prototype.$StaticUFI8=function(){var u=this.props,v=u.contextArgs,w=u.commentCounts,x=u.deletedCounts,y=u.feedback,z=y.commentcountreduced,aa=v.ftentidentifier,ba=null;if(this.$StaticUFI9())if(z&&isNaN(z)){ba=z;}else ba=w[aa]-x[aa];return ba;};t.prototype.$StaticUFI3=function(u){if(this.props.loadingComments)return;if(this.props.focusTopLevelComposer)this.onComment();if(this.state.focusReply){var v=this.state.focusReply,w=v.replyID,x=v.initiatorComment;if(!(w in this.refs))return;var y=this.refs[w]&&this.refs[w].refs&&this.refs[w].refs.mentionsinput;if(!y)return;y.focus();c('FbFeedCommentUFIScroller').reveal(c('ReactDOM').findDOMNode(y));this.setState({focusReply:null});if(!x)return;var z=y.hasEnteredText(),aa=x.author===this.props.feedback.actorforpost,ba=!!x.parentcommentid;if(!z&&!aa&&ba)y.insertMention(this.$StaticUFI10(x.author));}};t.prototype.$StaticUFI10=function(u){var v=this.props.authorProfiles[u],w=v.type;return new (c('SearchableEntry'))({uniqueID:v.id,title:v.name,type:w==='friend'?'user':w});};t.prototype.$StaticUFI11=function(){return this.props.source===n.ADS;};t.prototype.$StaticUFI12=function(){return this.props.source===n.LIVE_VIDEO;};t.prototype.$StaticUFI13=function(){var u=this.props.contextArgs,v=u.feedcontext&&JSON.parse(u.feedcontext);return !!(v&&v.is_snowlift);};t.prototype.$StaticUFI14=function(){return this.props.source===n.COMPACT_SEARCH;};t.prototype.$StaticUFI15=function(){var u=this.props,v=u.hideOrderingModeSelector,w=u.feedback,x=u.commentCounts,y=u.contextArgs;return !v&&w.orderingmodes&&!this.$StaticUFI14()&&x[y.ftentidentifier]>=c('UFIConstants').minCommentsForOrderingModeSelector;};t.prototype.$StaticUFI16=function(){var u=this.props,v=u.contextArgs,w=u.ranges,x=v.ftentidentifier,y=w[x].getLength();return this.$StaticUFI17(x,y);};t.prototype.$StaticUFI17=function(u,v){var w=this.props.commentCounts;return w[u]==v;};t.prototype.$StaticUFI18=function(){var u=this.props,v=u.contextArgs,w=u.feedback;return w.seencount>0&&!v.entstream;};t.prototype.$StaticUFI19=function(){return c('UFILikeSentence.react').rendersSocialSentence(this.props);};t.prototype.$StaticUFI20=function(){var u=this.props,v=u.contextArgs,w=u.feedback;return this.$StaticUFI11()||this.$StaticUFI12()||v.search||this.hasReactions(w,v);};t.prototype.$StaticUFI21=function(){if(this.$StaticUFI20())return false;return this.$StaticUFI19()||this.$StaticUFI18()||this.$StaticUFI15();};t.prototype.$StaticUFI22=function(){var u=this.props,v=u.contextArgs,w=u.feedback;if(this.$StaticUFI11())return false;return v.showshares&&w.sharecount&&!this.hasReactions(w,v);};t.prototype.$StaticUFI23=function(){return this.$StaticUFI22()&&!this.props.contextArgs.entstream;};t.prototype.$StaticUFI9=function(){if(this.$StaticUFI11()||this.$StaticUFI14())return false;var u=this.props.availableComments;return !!(u&&u.length);};t.prototype.$StaticUFI24=function(){var u=this.props,v=u.canAddCommentMap,w=u.contextArgs,x=u.feedback;return x.cancomment&&w.showaddcomment&&x.actorforpost&&v[w.ftentidentifier];};t.prototype.$StaticUFI25=function(){return this.$StaticUFI24()&&this.$StaticUFI26()&&this.props.hasPagedToplevel;};t.prototype.$StaticUFI27=function(){var u=this.props.feedback;return u.arecommentsdisabled===true&&u.cancomment===false;};t.prototype.$StaticUFI28=function(){if(!this.$StaticUFI23())return false;var u=this.props.contextArgs.isPermalink,v=u?this.$StaticUFI8():null;return v&&v!='0';};t.prototype.$StaticUFI29=function(){if(!this.$StaticUFI23())return null;var u=this.props,v=u.contextArgs,w=u.feedback,x=this.$StaticUFI28()?this.$StaticUFI8():null;return c('React').createElement(c('UFIShareRow.react'),{contextArgs:v,feedback:w,shownCommentCount:x});};t.prototype.$StaticUFI30=function(){var u=this.props,v=u.feedback,w=u.contextArgs;if(this.$StaticUFI21())return c('React').createElement(c('UFILikeSentence.react'),{contextArgs:w,feedback:v,showOrderingModeSelector:this.$StaticUFI15(),key:'ufi_like_sentence'});return null;};t.prototype.render=function(){var u=this.props,v=u.feedback,w=u.contextArgs,x=this.$StaticUFI27(),y=this.$StaticUFI22(),z=this.$StaticUFI30(),aa=!!z,ba=x?c('React').createElement(c('UFICommentDisabledNotice.react'),{feedback:u.feedback}):null,ca=this.$StaticUFI29();if(u.loadingComments)return c('React').createElement(c('UFIContainer.react'),{shouldHide:this.state.inCommercialBreak},z,ca,r);var da=this.$StaticUFI9(),ea=u.ranges[w.ftentidentifier],fa=u.loggingOffset-ea.getOffset(),ga=v.targetiscomment,ha=da?this.renderCommentArray(u.availableComments,fa,ga,null):null,ia=null,ja=null,ka=v.cancomment,la=aa||y||da||ka,ma=null,na=this.state.acceptedAnswerState.id,oa=c('UFILivePinnedCommentStore').getPinnedCommentID(w.ftentidentifier)||na;if(oa){var pa=c('UFIComments').getComment(oa);if(!u.authorProfiles[pa.author]){c('BanzaiODS').bumpEntityKey('unsampled_feedback','missing_pinned_comment_author');}else if(na&&na===this.state.editcommentid){ma=this.renderEditCommentBox(pa);}else ma=this.renderComment(pa,0,false,false,na===oa,false,true,!!this.props.loadingTranslationsMap[pa.id]);}var qa=la?c('React').createElement(c('UFICommentHeader.react'),null):null;if(this.$StaticUFI24()||w.loggedOutLinkConfig&&w.loggedOutLinkConfig.showAddComment){var ra=this.$StaticUFI31();if(ra){var sa=c('UFIOrderingModeStore').isLiveStreaming(w.instanceid);if(!w.islivestreaming||!sa)ia=c('React').createElement(c('UFILiveTypingIndicatorContainer.react'),{contextArgs:w,feedbackTargetID:v.targetfbid});ja=c('React').createElement(c('UFIAddComment.react'),{viewerActorID:v.actorforpost,replyCommentID:null,targetID:v.ownerid,initialData:null,ref:'toplevelcomposer',withoutSeparator:null,editingComment:{},isEditing:false,mentionsDataSource:v.mentionsdatasource,showSendOnEnterTip:v.showsendonentertip,multiCompanyGroupsCount:v.multicompanygroupscount,allowVideoAttachments:v.allowvideoattachments&&!sa,allowPhotoAttachments:v.allowphotoattachments&&!sa,allowStickerAttachments:v.allowstickerattachments&&!sa,allowGifAttachments:v.allowgifattachments&&!sa,allowTipJar:v.istipjarenabled&&sa,contextArgs:w,subtitle:v.subtitle,isQAndA:v.isqanda,markViewerHasInteracted:this.state.viewerHasClickedCommentComposer?c('emptyFunction'):function(){return this.setState({viewerHasClickedCommentComposer:true});}.bind(this),allowCommentMarkdown:v.iscommentmarkdowneligible,keepFocus:sa});}}var ta=w.ftentidentifier,ua=this.renderPagers(ta,false,u.ranges[ta].getOffset(),u.ranges[ta].getLength()),va=ua.topPager,wa=ua.bottomPager,xa=this.$StaticUFI26()?ia:null,ya=this.$StaticUFI26()?null:ia,za=this.$StaticUFI32(ta,va,wa),ab=za.topFilterWarning,bb=za.bottomFilterWarning,cb=c('UFIComponents').applyToUFIComponents([xa,va,ab].concat(ha,[bb,wa,ya]),{isFirstCommentComponent:true},{isLastCommentComponent:true}),db=cb.slice(0,3);xa=db[0];va=db[1];ab=db[2];var eb=cb.slice(-3);bb=eb[0];wa=eb[1];ya=eb[2];ha=cb.slice(3,-3);var fb=this.$StaticUFI26()?ja:null,gb=this.$StaticUFI26()?null:ja,hb=this.$StaticUFI25()?c('React').createElement(c('UFIAddCommentLink.react'),{onClick:this.onComment,isQAndA:v.isqanda,isGroupQA:w.isaskquestion}):null,ib=true,jb=null;if(w.showCommentNuxForGroupMallAds)jb=c('React').createElement(c('BootloadOnRender.react'),{loader:c('JSResource')('UFICommentNuxForGroupMallAds.react').__setRef('StaticUFI.react'),placeholder:c('React').createElement('div',null),component:c('React').createElement(c('LazyComponent.react'),{commentNuxContent:w.groupMallAdsCommentNuxContent})});cb=c('UFIComponents').applyToUFIComponents([z,ca,fb,va,ab].concat(ha,[bb,wa,gb,hb]),{isFirstComponent:ib},{isLastComponent:true});var kb=cb.slice(0,5);z=kb[0];ca=kb[1];fb=kb[2];va=kb[3];ab=kb[4];var lb=cb.slice(-4);bb=lb[0];wa=lb[1];gb=lb[2];hb=lb[3];ha=cb.slice(5,-4);var mb=!!c('UFIInteractionStore').getValueFor(w.instanceid);if(w.enableFacecastAnimatedComments&&c('UFIOrderingModeStore').isLiveStreaming(w.instanceid))ha=c('ifRequired')('ReactTransitionGroup',function(pb){if(!u.availableComments||!u.availableComments.length)return ha;var qb=w.isBroadcasterUFI,rb=qb?u.availableComments[u.availableComments.length-1]:u.availableComments[0];return c('React').createElement(pb,{component:'div',className:"_3s3y"},c('React').createElement(c('UFIAnimatedCommentList.react'),{key:c('UFIComments').getRenderKey(rb.id),isLatestCommentLocal:Boolean(rb.islocal),isStreamingFromBottom:qb},ha));},function(){return ha;});var nb=null;if(this.state.acceptedAnswerState.type==='Accepted'){var ob=c('UFIComments').getComment(this.state.acceptedAnswerState.id);nb=this.renderReplyContainer(ob);}return c('React').createElement(c('UFIContainer.react'),{shouldHide:this.state.inCommercialBreak},w.shownub&&la?s:null,z,ca,qa,jb,fb,c('React').createElement(c('UFICommentListVisibilityTracker.react'),{contextArgs:w},c('React').createElement(c('UFICommentScrollableArea.react'),{scrollcomments:!!w.scrollcomments,scrollwidth:w.scrollwidth||0},c('React').createElement(c('UFIComponentLogger.react'),{contextArgs:w,feedback:v,hasComments:da,isPermalink:w.isPermalink,viewerHasInteractedWithComments:mb||this.state.viewerHasClickedCommentComposer||this.state.viewerHasClickedSeeMore},xa,va,ab,w.isBroadcasterUFI?null:ma,nb,ha,w.isBroadcasterUFI?ma:null,bb,wa,ya))),gb,hb,ba);};t.prototype.$StaticUFI31=function(){return this.state.editcommentid===null;};t.prototype.renderCommentArray=function(u,v,w,x){var y=this.props,z=y.contextArgs,aa=this.props.feedback;if(!u.length)return [];u=c('distinctArrayBy')(u,function(ca){return ca.id;});u=u.filter(function(ca){return ca.id!=this.state.acceptedAnswerState.id;}.bind(this));var ba=c('UFICommentFilters').collectSpamBuckets(u,y.authorProfiles);return ba.reduce(function(ca,da,ea){if(!da)return ca;if(c('UFICommentFilters').isSpam(da)){ca.push(c('React').createElement(c('UFISpamPlaceholderContainer.react'),{key:'spam'+da.id,contextArgs:z,viewas:z.viewas,comment:da,parentCommentID:x}));}else{if(da.id==this.state.editcommentid){ca.push(this.renderEditCommentBox(da));}else{var fa=Math.max(v-ea,0),ga=ea===0,ha=ea===ba.length-1,ia=!w&&!aa.arecommentsdisabled,ja=w&&!ga;ca.push(this.renderComment(da,fa,ga,ha,ia,ja,false,!!this.props.loadingTranslationsMap[da.id]));if(da.id==this.props.translateAllCommentID&&!c('UFIOrderingModeStore').isLiveStreaming(z.instanceid))ca.push(c('React').createElement(c('UFITranslateAllRow.react'),{key:'translateAll'+da.id,contextArgs:z}));}if(!w&&!c('UFICommentFilters').isDeleted(da)&&!c('UFIOrderingModeStore').isLiveStreaming(z.instanceid)){var ka=this.renderReplyContainer(da);if(ka)ca.push(ka);}}return ca;}.bind(this),[]);};t.prototype.renderReplyContainer=function(u){var v=this.props,w=v.commentCounts[u.id],x=v.repliesExpandedMap[u.id],y=!x&&u.interestingReplyId,z=v.ranges[u.id],aa=void 0,ba=void 0;if(x||u.interestingReplyId){aa=v.repliesMap[u.id];ba=z.getOffset();if(y){var ca=aa.filter(function(bb){return bb.id===u.interestingReplyId;});if(ca.length!==1){c('LogHistory').getInstance('ufi').error('comment '+u.id+' claims to have an interesting reply, '+'but there is not exactly 1 comment with that id in the reply '+'list.');aa=null;}else{aa=ca;ba=u.interestingReplyOffset;}}}var da=void 0,ea=null,fa=null,ga=null,ha=null;if(aa){var ia=z.getOffset(),ja=z.getLength();if(y){ia=ba;ja=1;}var ka=this.renderPagers(u.id,true,ia,ja);ea=ka.topPager;fa=ka.bottomPager;var la=v.loggingOffset-ba;da=this.renderCommentArray(aa,la,true,u.id);var ma=this.$StaticUFI33(u.id,ea,fa);ga=ma.topFilterWarning;ha=ma.bottomFilterWarning;}var na=Math.max(w-u.spamreplycount,0),oa=void 0;if(!c('UFIOrderingModeStore').isLiveStreaming(this.props.contextArgs.instanceid)&&na&&(x&&aa&&aa.length>v.replySocialSentenceMaxReplies||!x&&!aa)){var pa=z.isLoadingPrev()||z.isLoadingNext(),qa=x&&!ea&&pa,ra=null;if(u.replyauthors&&u.replyauthors.length)ra=v.authorProfiles[u.replyauthors[0]];oa=c('React').createElement(c('UFIReplySocialSentence.react'),{contextArgs:v.contextArgs,author:ra,replies:x?aa.length:na,timestamp:u.recentreplytimestamp,onClick:function(){return this.context.dispatch(c('UFIStoryAction').toggleReplies(v.contextArgs,u.id));}.bind(this),isLoading:qa,isExpanded:x,showVerified:v.feedback.showfeaturedreplies,orderingMode:v.orderingMode});}var sa=void 0;if(x)if(u.cancomment&&v.canAddCommentMap[u.id]){var ta=false;if(da)for(var ua=da.length-1;ua>=0;ua--)if(da[ua]){ta=da[ua].props.isAuthorReply;break;}sa=this.renderReplyComposer(u,!ta);}var va=void 0;if(oa||ea||ga||da||ha||fa||sa){var wa=c('UFIComponents').applyToUFIComponents([oa,ea,ga].concat(da,[ha,fa,sa]),{isFirstComponent:true},{isLastComponent:true}),xa=wa.slice(0,3);oa=xa[0];ea=xa[1];ga=xa[2];var ya=wa.slice(-3);ha=ya[0];fa=ya[1];sa=ya[2];da=wa.slice(3,-3);var za=u.status===p.LIVE_DELETED,ab=this.state.acceptedAnswerState.type==='Accepted'&&u.id===this.state.acceptedAnswerState.id;va=c('React').createElement(c('UFIContainer.react'),{key:'replies'+u.id,isParentLiveDeleted:za,isReplyList:true,isAcceptedAnswerReply:ab},oa,ea,ga,da,ha,fa,sa);}return va;};t.prototype.renderReplyComposer=function(u,v){var w=this.props,x=w.contextArgs,y=w.feedback,z=this.state.editcommentid!==null,aa=z&&!u.id;if(aa)return null;var ba=c('UFIOrderingModeStore').isLiveStreaming(x.instanceid);return c('React').createElement(c('UFIAddComment.react'),{viewerActorID:y.actorforpost,replyCommentID:u.id,targetID:y.ownerid,initialData:null,ref:'replycomposer-'+u.id,withoutSeparator:v,editingComment:{},isEditing:false,mentionsDataSource:y.mentionsdatasource,showSendOnEnterTip:false,allowVideoAttachments:y.allowvideoattachments&&!ba,allowPhotoAttachments:y.allowphotoattachments&&!ba,allowStickerAttachments:y.allowstickerattachments&&!ba,allowGifAttachments:y.allowgifattachments&&!ba,allowCommentMarkdown:y.iscommentmarkdowneligible,contextArgs:x,subtitle:y.subtitle,isQAndA:y.isqanda});};t.prototype.renderEditCommentBox=function(u){var v=this.props,w=v.contextArgs,x=v.feedback,y=babelHelpers['extends']({},w);delete y.addcommentautoflip;delete y.collapseaddcomment;delete y.hideActorPhoto;delete y.issnowlift;delete y.loggedOutLinkConfig;delete y.monitorHeight;delete y.sht;delete y.viewoptionstypeobjects;delete y.viewoptionstypeobjectsorder;return c('React').createElement(c('UFIAddComment.react'),{key:'editing_comment'+u.id,viewerActorID:x.actorforpost,targetID:x.ownerid,mentionsDataSource:x.mentionsdatasource,contextArgs:y,isEditing:true,editingComment:u,allowVideoAttachments:x.allowvideoattachments,allowPhotoAttachments:x.allowphotoattachments,allowStickerAttachments:x.allowstickerattachments,allowGifAttachments:x.allowgifattachments,isQAndA:x.isqanda});};t.prototype.renderComment=function(u,v,w,x,y,z,aa,ba){var ca=this.props,da=ca.feedback,ea=da.actorforpost===u.author,fa=u.islocal||this.state.localCommentIDs[u.id],ga=da.showremovemenu||da.viewerid===u.author,ha=da.canremoveall&&da.isownerpage&&!ea,ia=ca.source!=n.INTERN,ja=!!u.parentcommentid,ka=true;if(ja&&u.parentcommentid in this.props.canReplyMap&&this.props.canReplyMap[u.parentcommentid]!==null)ka=this.props.canReplyMap[u.parentcommentid];var la=!!u.isfeatured,ma=c('TrackingNodes').getTrackingInfo(c('TrackingNodes').types.COMMENT,v),na=new (c('URI'))(ca.commentPermalinks[u.id]).addQueryData({comment_tracking:ma}).toString();return c('React').createElement(c('UFIComment.react'),{key:c('UFIComments').getRenderKey(u.id),isFirst:w,isLast:x,showReplyLink:y,hasPartialBorder:z,comment:u,authorProfiles:ca.authorProfiles,viewerIsAuthor:ea,feedback:da,'data-ft':ma,contextArgs:ca.contextArgs,hideAsSpamForPageAdmin:ha,isLocallyComposed:fa,isFeatured:la,parentCanComment:ka,permalink:na,showPermalink:ia,showRemoveReportMenu:ga,focusOnMount:u.id===ca.commentIDToFocusOnMount,orderingMode:ca.orderingMode,featuredCommentIDs:ca.featuredCommentIDs,markViewerHasInteracted:this.state.viewerHasClickedSeeMore?c('emptyFunction'):function(){return this.setState({viewerHasClickedSeeMore:true});}.bind(this),isLivePinnedComment:aa,showTranslation:ba||!!u.translationdata});};t.prototype.$StaticUFI32=function(u,v,w){return this.$StaticUFI34(u,v,w,false);};t.prototype.$StaticUFI33=function(u,v,w){return this.$StaticUFI34(u,v,w,true);};t.prototype.$StaticUFI34=function(u,v,w,x){var y=null,z=null;if(!v)y=this.$StaticUFI35(u,c('UFIPaging').TOP,x);if(!w)z=this.$StaticUFI35(u,c('UFIPaging').BOTTOM,x);return {topFilterWarning:y,bottomFilterWarning:z};};t.prototype.$StaticUFI35=function(u,v,w){var x=this.props.allSeenActiveLoadDirectionData;if(!x)return null;var y=x[u];if(!y||!(v in y))return null;var z=this.props;if(!m||!m.shouldRender(z,u,v,w))return null;return c('React').createElement(m,{asReplyWarning:w,targetID:u,pagingDirection:v,ufiProps:z});};t.prototype.renderPagers=function(u,v,w,x){var y=this.props;if(this.$StaticUFI17(u,x)||this.$StaticUFI11()||this.$StaticUFI14()||!v&&y.hideToplevelPager)return {topPager:null,bottomPager:null};Number.isInteger(y.commentCounts[u])||j(0);Number.isInteger(y.deletedCounts[u])||j(0);Number.isInteger(x)||j(0);return c('UFIPagerGenerator').renderPagers({commentCount:y.commentCounts[u],contextArgs:y.contextArgs,currentLength:x,currentOffset:w,deletedCount:y.deletedCounts[u],feedback:y.feedback,onPageCallback:function(z,aa){this.context.dispatch(c('UFIStoryAction').pageInComments(y.contextArgs,u,z,aa));}.bind(this),orderingMode:y.orderingMode,range:y.ranges[u],targetID:u});};t.prototype.$StaticUFI36=function(u){if(!u)return null;return c('DOM').scry(u,'[name="add_comment_text_text"]').concat(c('DOM').scry(u,'[name="add_comment_text"]')).find(function(v){return !c('Parent').byClass(v,'UFIReplyList');});};t.prototype.$StaticUFI26=function(){return c('UFIOrderingModeStore').isInverted(this.props.orderingMode);};t.prototype.hasReactions=function(u,v){return u.displayreactions&&v.hasReactions&&(v.feedbackMode==='none'||v.feedbackMode==='toggle');};t.contextTypes={dispatch:q.func};t.defaultProps={commentIDToFocusOnMount:null,focusReply:null,canReplyMap:{},isActiveLoading:{},repliesExpandedMap:{},hasPagedToplevel:false,loadingSpamIDs:{},loadingTranslationsMap:{}};f.exports=c('FluxContainer').create(t,{withProps:true});}),null);
__d('UFIBlingItem.react',['cx','fbt','React','NumberFormat'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){var n=c('NumberFormat').formatInteger(this.props.count),o=n;switch(this.props.itemKey){case 'like':o=i._({"Like":"{count} Like","Likes":"{count} Likes"},[i.param('count',this.props.countreduced&&isNaN(this.props.countreduced)?this.props.countreduced:o),i['enum'](this.props.count===1?'Like':'Likes',{Like:'Like',Likes:'Likes'})]);break;case 'comment':o=i._({"Comment":"{count} Comment","Comments":"{count} Comments"},[i.param('count',this.props.countreduced&&isNaN(this.props.countreduced)?this.props.countreduced:o),i['enum'](this.props.count===1?'Comment':'Comments',{Comment:'Comment',Comments:'Comments'})]);break;case 'reaction':o=i._({"Reaction":"{count} Reaction","Reactions":"{count} Reactions"},[i.param('count',this.props.countreduced&&isNaN(this.props.countreduced)?this.props.countreduced:o),i['enum'](this.props.count===1?'Reaction':'Reactions',{Reaction:'Reaction',Reactions:'Reactions'})]);break;case 'reshare':o=i._({"Share":"{count} Share","Shares":"{count} Shares"},[i.param('count',this.props.countreduced&&isNaN(this.props.countreduced)?this.props.countreduced:o),i['enum'](this.props.count===1?'Share':'Shares',{Share:'Share',Shares:'Shares'})]);break;}return c('React').createElement('span',{className:"_2u_j"},o);};function m(){j.apply(this,arguments);}m.propTypes={contextArgs:l.object.isRequired,count:l.number.isRequired,countreduced:l.string,className:l.string,iconClassName:l.string,itemKey:l.string};f.exports=m;}),null);
__d('UFIBlingBox.react',['cx','fbt','NumberFormat','React','UFIBlingItem.react','UFIReactionTypes'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){var n=[],o='',p=this.props,q=p.likes,r=p.likesreduced,s=p.reactionCount,t=p.reactionCountMap,u=p.reactionCountReduced;if(q||s){var v=t&&t[c('UFIReactionTypes').LIKE]['default']!==s;n.push(c('React').createElement(c('UFIBlingItem.react'),{className:n.length>0?"mls":'',contextArgs:this.props.contextArgs,count:v?s:q,countreduced:v?u:r,iconClassName:'UFIBlingBoxLikeIcon',itemKey:v?'reaction':'like',key:'like'}));o+=this.props.likes==1?i._("1 like"):i._({"*":"{count} likes"},[i.param('count',this.props.likes,[0])]);o+=' ';}if(this.props.comments){var w=this.props.commentsreduced;if(this.props.contextArgs.islivestreaming)w=c('NumberFormat').formatInteger(this.props.comments);n.push(c('React').createElement(c('UFIBlingItem.react'),{className:n.length>0?"mls":'',contextArgs:this.props.contextArgs,count:this.props.comments,countreduced:w,iconClassName:'UFIBlingBoxCommentIcon',itemKey:'comment',key:'comment'}));o+=this.props.comments==1?i._("1 comment"):i._({"*":"{count} comments"},[i.param('count',this.props.comments,[0])]);o+=' ';}if(this.props.reshares){n.push(c('React').createElement(c('UFIBlingItem.react'),{className:n.length>0?"mls":'',contextArgs:this.props.contextArgs,count:this.props.reshares,countreduced:this.props.resharesreduced,iconClassName:'UFIBlingBoxReshareIcon',itemKey:'reshare',key:'reshare'}));o+=this.props.reshares==1?i._("1 share"):i._({"*":"{count} shares"},[i.param('count',this.props.reshares,[0])]);}if(this.props.readOnly){return c('React').createElement('span',{'aria-label':o},n);}else{var x=this.props.contextArgs.commentajaxify;return c('React').createElement('a',{ajaxify:x,href:this.props.permalink,'data-ft':this.props['data-ft'],'data-comment-prelude-ref':this.props['data-comment-prelude-ref'],'aria-label':o,onClick:this.props.onClick,rel:x?'dialog':'ignore'},n);}};function m(){j.apply(this,arguments);}m.propTypes={contextArgs:l.object.isRequired,'data-ft':l.string,'data-comment-prelude-ref':l.string,comments:l.number,commentsreduced:l.string,likes:l.number,likesreduced:l.string,nfb:l.number,onClick:l.func,permalink:l.string,reactionCount:l.number,reactionCountMap:l.object,reactionCountReduced:l.string,reshares:l.number,resharesreduced:l.string,readOnly:l.bool};f.exports=m;}),null);
__d('UFIReactionsBlingSocialSentence.react',['cx','fbt','ActorURI','BanzaiLogger','Bootloader','BootloadOnRender.react','FeedbackSourceType','JSResource','LazyComponent.react','NumberFormat','PagesPrivateReplyConstants','React','Tooltip.react','UFIPrivateReplyIndicator.react','UFIReactionsSocialSentence.react','URI','XUFICommentTooltipController','XUFIGroupSeenByProfileDialogController','XUFIGroupSeenByProfileBrowserController','XUFIShareTooltipController','XUIText.react'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.onCommentsClick=function(event){var r=this.props.contextArgs.commentajaxify;if(r){if(this.props.contextArgs.showtheaterforcomment){this.launchSnowlift(r,event.currentTarget);}else this.launchDialog(r,event.currentTarget);}else if(this.props.onCommentClick)this.props.onCommentClick(event);this.logCountAction('comments','click');event.preventDefault();}.bind(this),this.onSeensClick=function(event){var r=this.props.feedback,s=c('XUFIGroupSeenByProfileDialogController').getURIBuilder().setInt('id',r.entidentifier).getURI();s=c('ActorURI').create(s,r.actorforpost);this.launchDialog(s.toString(),event.currentTarget);this.logCountAction('seens','click');event.preventDefault();}.bind(this),this.onSharesClick=function(event){if(this.isCompactSearch())return;var r=this.props.feedback,s=r.sharefbid||r.targetfbid,t=c('ActorURI').create(new (c('URI'))('/ajax/shares/view').setQueryData({target_fbid:s}),r.actorforpost);this.launchDialog(t.toString(),event.currentTarget);this.logCountAction('shares','click');event.preventDefault();}.bind(this),this.onViewsClick=function(event){this.logCountAction('views','click');}.bind(this),this.onViewsHover=function(event){if(this.canSeeConsolidatedTooltip())this.logCountAction('views','hover');}.bind(this),n;}l.prototype.launchSnowlift=function(m,n){'use strict';c('Bootloader').loadModules(["PhotoSnowlift"],function(o){o.bootstrap(m,n);},'UFIReactionsBlingSocialSentence.react');};l.prototype.launchDialog=function(m,n){'use strict';c('Bootloader').loadModules(["AsyncDialog"],function(o){o.bootstrap(m,n,'dialog');},'UFIReactionsBlingSocialSentence.react');};l.prototype.logCountAction=function(m,n){'use strict';c('BanzaiLogger').log('WebReactionsBlingLoggerConfig',{feedback_id:this.props.feedback.entidentifier,'interface':'www',action:n,target_type:'count',target_subtype:m});};l.prototype.renderComments=function(){'use strict';var m=this.props.contextArgs.islivestreaming;if(!this.props.commentCount||this.props.contextArgs.feedbackMode==='expanded'&&!m)return null;var n=isNaN(this.props.feedback.commentcountreduced)&&!m?this.props.feedback.commentcountreduced:c('NumberFormat').formatInteger(this.props.commentCount),o=c('ActorURI').create(c('XUFICommentTooltipController').getURIBuilder().setString('ft_ent_identifier',this.props.feedback.entidentifier).getURI(),this.props.feedback.actorforpost),p="_-56";return c('React').createElement('a',{'aria-live':'polite',className:"_ipm",'data-comment-prelude-ref':this.props['data-comment-prelude-ref'],'data-ft':this.props['data-ft'],'data-hover':'tooltip','data-interaction-root-id':p,'data-tooltip-uri':o,href:this.props.href,onClick:this.onCommentsClick,role:'button'},this.props.children,i._({"Comment":"{count} Comment","Comments":"{count} Comments"},[i.param('count',n),i['enum'](this.props.commentCount===1?'Comment':'Comments',{Comment:'Comment',Comments:'Comments'})]));};l.prototype.renderSeens=function(){'use strict';if(this.props.contextArgs.entstream||!this.props.feedback.seencount)return null;var m=this.props.feedback,n=m.seencount,o=void 0;if(m.seenbyall){o=i._("Seen by everyone");}else if(n===1){o=i._("Seen by 1");}else o=i._("Seen by {count}",[i.param('count',n)]);var p=new (c('URI'))('/ajax/ufi/seen_list_hovercard.php').setQueryData({id:m.entidentifier}),q=c('XUFIGroupSeenByProfileBrowserController').getURIBuilder().setInt('id',m.entidentifier).getURI();q=c('ActorURI').create(q,m.actorforpost);var r="_-59";return c('React').createElement('span',{ref:'seen_by_text'},c('React').createElement('a',{href:q,'data-hovercard':p.toString(),'data-interaction-root-id':r,className:"_ipm",onClick:this.onSeensClick},o));};l.prototype.renderShares=function(){'use strict';if(!this.props.feedback.sharecount)return null;var m=this.props.feedback.sharefbid||this.props.feedback.targetfbid,n=void 0;if(this.isCompactSearch()&&this.props.href!=null){n=this.props.href;}else n=c('ActorURI').create(new (c('URI'))('/shares/view').setSubdomain('www').setQueryData({id:m}),this.props.feedback.actorforpost);var o=c('ActorURI').create(c('XUFIShareTooltipController').getURIBuilder().setString('ft_ent_identifier',this.props.feedback.entidentifier).getURI(),this.props.feedback.actorforpost),p="_-5b";return c('React').createElement('a',{'aria-live':'polite',className:"_ipm",'data-hover':'tooltip','data-interaction-root-id':p,'data-tooltip-uri':o,href:n,onClick:this.onSharesClick,role:'button'},i._({"Share":"{count} Share","Shares":"{count} Shares"},[i.param('count',this.props.feedback.sharecountreduced),i['enum'](this.props.feedback.sharecount===1?'Share':'Shares',{Share:'Share',Shares:'Shares'})]));};l.prototype.renderSaves=function(){'use strict';if(!this.props.contextArgs.saveCount||!this.props.contextArgs.saveCollectionId)return null;return c('React').createElement(c('BootloadOnRender.react'),{loader:c('JSResource')('UFIReactionsSaveDialog.react').__setRef('UFIReactionsBlingSocialSentence.react'),placeholder:c('React').createElement('div',null),component:c('React').createElement(c('LazyComponent.react'),{saveCount:this.props.contextArgs.saveCountReduced,collectionId:this.props.contextArgs.saveCollectionId,buttonText:this.props.contextArgs.saveButtonTitle})});};l.prototype.renderViews=function(){'use strict';var m=this.props.contextArgs.viewCount,n=null;if(this.canSeeConsolidatedTooltip())n=this.renderViewsTooltip();if(!m)return null;var o="_-5c";return c('React').createElement(c('Tooltip.react'),{tooltip:n,'data-hover':'tooltip','data-interaction-root-id':o,'data-tooltip-alignh':'left','data-tooltip-position':'above','aria-live':'polite',className:"_ipm",onClick:this.onViewsClick,onMouseOver:this.onViewsHover},i._({"View":"{count} View","Views":"{count} Views"},[i.param('count',this.props.contextArgs.viewCountReduced),i['enum'](m==='1'?'View':'Views',{View:'View',Views:'Views'})]));};l.prototype.canSeeConsolidatedTooltip=function(){'use strict';var m=this.props.contextArgs.postViewCount,n=this.props.contextArgs.totalPosts,o=this.props.contextArgs.otherPostsViewCount;return !!n&&n>1&&!!m&&!!o;};l.prototype.isCompactSearch=function(){'use strict';return this.props.contextArgs.source===c('FeedbackSourceType').COMPACT_SEARCH;};l.prototype.renderViewsTooltip=function(){'use strict';var m=this.props.contextArgs.totalPosts,n=this.props.contextArgs.postViewCount,o=this.props.contextArgs.otherPostsViewCount,p=m-1;return c('React').createElement('div',null,c('React').createElement(c('XUIText.react'),{weight:'bold'},i._("Video Posted {number of posts} Times",[i.param('number of posts',m)])),c('React').createElement('br',null),i._({"view":"{post views} view from this post","views":"{post views} views from this post"},[i.param('post views',n),i['enum'](n==='1'?'view':'views',{view:'view',views:'views'})]),c('React').createElement('br',null),i._({"view":{"post":"{total views} view from {posts count} other post","posts":"{total views} view from {posts count} other posts"},"views":{"post":"{total views} views from {posts count} other post","posts":"{total views} views from {posts count} other posts"}},[i.param('total views',o),i['enum'](o==='1'?'view':'views',{view:'view',views:'views'}),i.param('posts count',p),i['enum'](p===1?'post':'posts',{post:'post',posts:'posts'})]));};l.prototype.renderPrivateReply=function(){'use strict';var m=this.props.feedback.messagereplycontext;if(!m||m.status!==c('PagesPrivateReplyConstants').Status.ALREADY_REPLIED)return null;return c('React').createElement('span',{className:"_ipm"},c('React').createElement(c('UFIPrivateReplyIndicator.react'),{replyStatus:m.status}));};l.prototype.render=function(){'use strict';if(this.props.contextArgs.viewCount!=null&&(this.props.contextArgs.saveCount!=null||this.props.contextArgs.seenCount!=null)){var m="_-5d";return c('React').createElement('div',{className:"_ipn clearfix",'data-interaction-root-id':m},c('React').createElement('div',{className:"_ipo"},c('React').createElement('div',{className:"_36_q"},this.renderComments()),c('React').createElement('div',{className:"_36_q"},this.renderShares()),c('React').createElement('div',{className:"_34i1 _36_q"},c('React').createElement('div',{className:"_36_q"},this.renderSaves()),c('React').createElement('div',{className:"_36_q"},this.renderSeens()),c('React').createElement('div',{className:"_36_q"},this.renderViews()),c('React').createElement('div',{className:"_36_q"},this.renderPrivateReply()))),c('React').createElement(c('UFIReactionsSocialSentence.react'),{feedback:this.props.feedback,contextArgs:this.props.contextArgs}));}else{var n="_-5d";return c('React').createElement('div',{className:"_ipn clearfix",'data-interaction-root-id':n},c('React').createElement('div',{className:"_ipo"},c('React').createElement('div',{className:"_36_q"},this.renderComments()),c('React').createElement('div',{className:"_36_q"},this.renderShares()),c('React').createElement('div',{className:"_36_q"},this.renderSaves()),c('React').createElement('div',{className:"_36_q"},this.renderSeens()),c('React').createElement('div',{className:"_36_q"},this.renderViews()),c('React').createElement('div',{className:"_36_q"},this.renderPrivateReply())),c('React').createElement(c('UFIReactionsSocialSentence.react'),{feedback:this.props.feedback,contextArgs:this.props.contextArgs}));}};f.exports=l;}),null);
__d('UFIBling.react',['CommentPrelude','FeedbackSourceType','React','TrackingNodes','UFIBlingBox.react','UFIReactionsBlingSocialSentence.react','UFISharedDispatcher','UFIStoryAction','UFIToplevelPagedCommentList','URI'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(k,l){i.constructor.call(this,k,l);}j.prototype.render=function(){var k=this.props.contextArgs,l=this.props.feedbackTarget,m=c('TrackingNodes').getTrackingInfo(c('TrackingNodes').types.BLINGBOX),n=l.permalink;if(k.showtheaterforcomment&&k.commentredirecturi){n=k.commentredirecturi;k=Object.freeze(babelHelpers['extends']({},k,{commentajaxify:k.commentredirecturi}));}var o=new (c('URI'))(n).addQueryData({comment_tracking:m}).toString(),p=c('UFIToplevelPagedCommentList').getCommentList(k.ftentidentifier,l.defaultcommentorderingmode).getDisplayedCommentCount(),q=(k.feedbackMode==='none'||k.feedbackMode==='toggle')&&k.hasReactions&&l.displayreactions,r=function(event){event.preventDefault();if(q&&k.feedbackMode==='expanded'){this.$UFIBling1();}else if(k.source===c('FeedbackSourceType').COMPACT_SEARCH){var v=new (c('URI'))(o);if(v!=null)v.go();}else{c('CommentPrelude').onBlingboxClick(event.currentTarget);if(!k.disableinlinetoggle)this.props.onCommentVisibilityChanged&&this.props.onCommentVisibilityChanged();}}.bind(this);if(q){return c('React').createElement(c('UFIReactionsBlingSocialSentence.react'),{commentCount:p,contextArgs:k,'data-comment-prelude-ref':'action_link_bling','data-ft':m,feedback:l,href:o,onCommentClick:r});}else{var s=void 0,t=void 0,u=void 0;if(k.hasReactions){s=l.reactioncount;t=l.reactioncountmap;u=l.reactioncountreduced;}return c('React').createElement(c('UFIBlingBox.react'),{comments:p,commentsreduced:l.commentcountreduced,contextArgs:k,'data-comment-prelude-ref':'action_link_bling','data-ft':m,likes:l.likecount,likesreduced:l.likecountreduced,nfb:l.nfbcount,onClick:r,permalink:o,reactionCount:s,reactionCountMap:t,reactionCountReduced:u,reshares:l.sharecount,resharesreduced:l.sharecountreduced,readOnly:k.readonly});}};j.prototype.$UFIBling1=function(){c('UFISharedDispatcher').dispatch(c('UFIStoryAction').showComments(this.props.contextArgs));};f.exports=j;}),null);
__d('UFICommentLink.react',['cx','fbt','React','TrackingNodes','emptyFunction'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){var n=i._("Leave a comment"),o='{ "tn": "'+c('TrackingNodes').encodeTN(c('TrackingNodes').types.COMMENT_LINK)+'", "type": 24 }';return c('React').createElement('a',{className:"comment_link _5yxe",'data-interaction-root-id':"_29yo",role:'button',href:this.props.href?this.props.href:'#',title:n,ajaxify:this.props.ajaxify,rel:this.props.rel,onClick:this.props.onClick,'data-ft':o},this.props.children);};function m(){j.apply(this,arguments);}m.propTypes={onClick:l.func,href:l.string,ajaxify:l.string,rel:l.string};m.defaultProps={onClick:c('emptyFunction')};f.exports=m;}),null);
__d('UFICommentActionLink.react',['fbt','cx','React','UFICommentLink.react','UFISharedDispatcher','UFIStoryAction'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){var n=this.props.contextArgs,o=n.commentajaxify,p=n.commentredirecturi,q=n.showtheaterforcomment,r=n.loggedOutLinkConfig,s=this.props.contextArgs.isaskquestion?h._("Answer"):h._("Comment");if(!o&&r&&r.showCommentLink)o=r.commentAjaxifyURI;if(o){var t="_15-3";return c('React').createElement('span',{className:"_6a",'data-interaction-root-id':t},c('React').createElement(c('UFICommentLink.react'),{ajaxify:o,rel:q?'theater':'dialog'},s));}else if(p){var u="_15-6";return c('React').createElement('span',{className:"_6a",'data-interaction-root-id':u},c('React').createElement(c('UFICommentLink.react'),{href:p,rel:q?'theater':''},s));}var v="_15-7";return c('React').createElement('span',{className:"_6a",'data-interaction-root-id':v},c('React').createElement(c('UFICommentLink.react'),{onClick:function(event){event.preventDefault();c('UFISharedDispatcher').dispatch(c('UFIStoryAction').showComments(this.props.contextArgs));}.bind(this)},s));};function m(){j.apply(this,arguments);}m.propTypes={contextArgs:l.object.isRequired};f.exports=m;}),null);
__d('UFILikeLink.react',['cx','fbt','Bootloader','React','ReactDOM','TrackingNodes','UFILikeWebDriverIDs'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=null;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$UFILikeLink1=null,this.state={nuxShown:false},this.onClick=function(t){if(this.props.href)return;t.preventDefault();this.props.onClick&&this.props.onClick(t);if(this.props.showLikeNuxForGroupMallAds){var u=!this.props.likeAction;if(!u){c('ReactDOM').findDOMNode(this.$UFILikeLink1).focus();this.setState({nuxShown:true});c('Bootloader').loadModules(["UFIGroupMallAdsLikeNux.react"],function(v){m=v;},'UFILikeLink.react');}else this.setState({nuxShown:false});}}.bind(this),p;}n.prototype.renderLayers=function(){if(!this.state.nuxShown||!m)return null;return c('React').createElement(m,{nuxShown:this.state.nuxShown,nuxContent:this.props.likeNuxContent,contextRef:this.$UFILikeLink1});};n.prototype.render=function(){var o=!this.props.likeAction,p=o?c('UFILikeWebDriverIDs').UNLIKE_LINK:c('UFILikeWebDriverIDs').LIKE_LINK,q=!o||!this.props.forcelegacyrendering?i._("Like"):i._("Unlike"),r=c('TrackingNodes').getTrackingInfo(o?c('TrackingNodes').types.UNLIKE_LINK:c('TrackingNodes').types.LIKE_LINK),s=o?i._("Unlike this"):i._("Like this");return c('React').createElement('span',null,c('React').createElement('a',{className:"_48-k"+(' '+"UFILikeLink")+(o?' '+"UFILinkBright":''),ref:function(t){return this.$UFILikeLink1=t;}.bind(this),'data-interaction-root-id':"_3ce2",'data-testid':p,href:this.props.href||'#',role:'button','aria-label':s,'aria-live':'polite','aria-pressed':o,rel:this.props.rel,ajaxify:this.props.ajaxify,onBlur:this.props.onBlur,onClick:this.onClick,onClickCapture:this.props.onClickCapture,onDragStart:this.props.onDragStart,onFocus:this.props.onFocus,onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onMouseMove:this.props.onMouseMove,onMouseUp:this.props.onMouseUp,onKeyDown:function(t,u){this.props.onKeyDown&&this.props.onKeyDown(t,u);}.bind(this),'data-ft':r},q),this.renderLayers());};n.propTypes={ajaxify:l.string,forcelegacyrendering:l.bool,href:l.string,likeAction:l.bool,likeNuxContent:l.string,rel:l.string,showLikeNuxForGroupMallAds:l.bool};n.defaultProps={forcelegacyrendering:false,showLikeNuxForGroupMallAds:false};f.exports=n;}),null);
__d('UFILikeActionLink.react',['React','UFILikeLink.react','UFIReactionsLinkImpl.react','UFIReactionTypes','UFIStoryAction'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.onClick=function(event){event.preventDefault();var q=this.props.feedback.hasviewerliked;this.context.dispatch(c('UFIStoryAction').changeReaction(this.props.contextArgs,q?c('UFIReactionTypes').NONE:c('UFIReactionTypes').LIKE,event.target));}.bind(this),m;}k.prototype.render=function(){var l=this.props,m=l.contextArgs,n=l.feedback;if(!m.showLikeNuxForGroupMallAds&&m.hasReactions&&n.canviewerreact&&c('UFIReactionsLinkImpl.react')){return c('React').createElement(c('UFIReactionsLinkImpl.react'),{contextArgs:m,nuxConfig:m.reactionsNuxConfig,reaction:n.viewerreaction,suggestedReaction:n.suggestedreaction,supportedReactions:n.supportedreactions});}else{var o=m.loggedOutLinkConfig,p=null;if(o&&o.showLikeLink)p=o.likeAjaxifyURI;return c('React').createElement(c('UFILikeLink.react'),{ajaxify:p,likeAction:!n.hasviewerliked,onClick:this.onClick,rel:p?'dialog':null,forcelegacyrendering:m.forcelegacyrendering,showLikeNuxForGroupMallAds:m.showLikeNuxForGroupMallAds,likeNuxContent:m.groupMallAdsCommentNuxContent});}};k.contextTypes={dispatch:j.func};k.propTypes={feedback:j.object.isRequired,contextArgs:j.object.isRequired};f.exports=k;}),null);
__d('UFIShareLink.react',['cx','fbt','CurrentUser','React','TrackingNodes','XUISpinner.react','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$UFIShareLink1=function(event){if(this.props.href&&this.props.href!=='#'&&!this.props.onClick)return;event.preventDefault();this.props.onClick&&this.props.onClick(event);}.bind(this),n;}l.prototype.render=function(){var m=i._("Send this to friends or post it on your timeline.");if(c('CurrentUser').isWorkUser())m=i._("Send this to coworkers or post it on your timeline.");var n='{ "tn": "'+c('TrackingNodes').encodeTN(c('TrackingNodes').types.SHARE_LINK)+'", "type": 25 }',o=null;if(this.props.rel!=='dialog')o=c('React').createElement(c('XUISpinner.react'),{className:"UFIShareLinkSpinner _1wfk",showOnAsync:true});var p=this.props,q=p.openOnInit,r=babelHelpers.objectWithoutProperties(p,['openOnInit']);return c('React').createElement('a',babelHelpers['extends']({},r,{className:c('joinClasses')(this.props.className,"share_action_link _5f9b"),'data-interaction-root-id':"_48eu",onClick:this.$UFIShareLink1,ref:function s(t){if(t&&q)t.click();},'data-ft':n,title:m}),i._("Share"),o);};f.exports=l;}),null);
__d('UFIShareActionLink.react',['ActorURI','Bootloader','React','UFIShareNowMenuBootloader.react','UFIShareLink.react','URI'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={confirmed:false,openOnInitOverride:false},m;}k.prototype.render=function(){var l=this.state,m=l.confirmed,n=l.openOnInitOverride,o=this.props,p=o.shareURI,q=o.shareRel,r=o.shareNowMenuURI,s=o.feedbackReferrer,t=o.feedbackSource,u=o.feedbackTarget,v=o.misinformationConfirmDialogURI;if(v&&!m)return c('React').createElement(c('UFIShareLink.react'),{href:'#',onClick:function(){return this.$UFIShareActionLink1(v);}.bind(this)});var w={feedback_referrer:s,feedback_source:t},x=u&&u.actorforpost;if(x){p=p&&c('ActorURI').create(p,x);r=r&&new (c('URI'))(r).addQueryData('actor_id',x).toString();}return r?c('React').createElement(c('UFIShareNowMenuBootloader.react'),{endpoint:r,endpointData:w,openOnInitOverride:n}):c('React').createElement(c('UFIShareLink.react'),{href:new (c('URI'))(p).addQueryData(w),rel:q,openOnInit:n});};k.prototype.$UFIShareActionLink1=function(l){var m='MISINFORMATION_RESHARE_ALERT_FUNNEL';c('Bootloader').loadModules(["AsyncDialog","AsyncRequest","FunnelLogger"],function(n,o,p){p.startFunnel(m);n.send(new o(l),function(q){q.subscribe('confirm',function(){this.setState({confirmed:true,openOnInitOverride:true});p.appendAction(m,'continue');p.endFunnel(m);q.hide();}.bind(this));q.subscribe('cancel',function(){p.appendAction(m,'cancel');p.endFunnel(m);q.hide();});}.bind(this));}.bind(this),'UFIShareActionLink.react');};k.propTypes={feedbackTarget:j.object,shareURI:j.string,shareRel:j.string,shareNowMenuURI:j.string,shareLinkHref:j.string,feedbackReferrer:j.string,feedbackSource:j.number,misinformationConfirmDialogURI:j.string};f.exports=k;}),null);
__d('UFIActionLinks.react',['cx','fbt','BanzaiODS','BootloadedComponent.react','FBFeedLocations','FeedbackSourceType','JSResource','Parent','React','UFIBling.react','UFICommentActionLink.react','UFIConfig','UFIInstanceAction','UFILikeActionLink.react','UFIPrivateReplyLink.react','UFIShareActionLink.react','UFISharedDispatcher','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.componentDidMount=function(){var m=this.$UFIActionLinks1();c('BanzaiODS').bumpEntityKey('feedback',m);};l.prototype.renderActorSelector=function(){if(this.props.hideActorSelector)return null;var m=this.props.contextArgs,n=m.actorSelectorConfig,o=m.hasReactions;if(!n)return null;var p=n.module;return c('React').createElement('div',{className:"_40yk"+(o?' '+"_pbn":'')},c('React').createElement(p,babelHelpers['extends']({},n.props,{nuxHoverContext:c('Parent').byTag(this.refs.root,'form')})));};l.prototype.renderActionList=function(){var m=[this.renderLikeLink(),this.renderCommentLink(),this.renderShareLink(),this.renderPrivateReplyLink(),this.renderEmbedLink()].filter(function(n){return n;}).map(function(n,o){return c('React').createElement('span',{key:o},n);});if(m.length){return c('React').createElement('div',{className:"_42nr"},m);}else return null;};l.prototype.renderBling=function(){if(this.props.contextArgs.showBling)return c('React').createElement(c('UFIBling.react'),{contextArgs:this.props.contextArgs,feedbackTarget:this.props.feedbacktarget,onCommentVisibilityChanged:function(){return c('UFISharedDispatcher').dispatch(c('UFIInstanceAction').toggleComments(this.props.contextArgs));}.bind(this)});return null;};l.prototype.renderLikeLink=function(){var m=this.props,n=m.contextArgs,o=m.feedbacktarget,p=n.loggedOutLinkConfig;if(!o.hasviewerliked&&!o.viewercanlike&&!(p&&p.showLikeLink))return null;return c('React').createElement(c('UFILikeActionLink.react'),{feedback:o,contextArgs:n});};l.prototype.renderCommentLink=function(){var m=this.props.contextArgs.loggedOutLinkConfig;if(!this.props.feedbacktarget.cancomment&&!(m&&m.showCommentLink)){var n=this.props.contextArgs.disabledCommentTooltip;if(n)return c('React').createElement('span',null,c('React').createElement('span',{className:"_1ysv",'data-hover':'tooltip','data-tooltip-content':n},i._("Comment")));return null;}return c('React').createElement(c('UFICommentActionLink.react'),{contextArgs:this.props.contextArgs});};l.prototype.$UFIActionLinks1=function(){var m=this.props.contextArgs.shareLinkConfig;if(!m)return 'ufi-share-link.unavailable';var n=this.props.contextArgs.loggedOutLinkConfig;if(n&&n.showShareLink)return 'ufi-share-link.loggedout';return 'ufi-share-link.render';};l.prototype.renderShareLink=function(){var m=this.props.contextArgs.shareLinkConfig;if(!m)return null;var n=this.props.contextArgs.loggedOutLinkConfig;if(n&&n.showShareLink)m.shareURI=n.shareAjaxifyURI;return c('React').createElement(c('UFIShareActionLink.react'),babelHelpers['extends']({feedbackTarget:this.props.feedbacktarget,feedbackReferrer:this.props.contextArgs.feedbackReferrer,feedbackSource:this.props.contextArgs.source},m));};l.prototype.renderPrivateReplyLink=function(){var m=this.props,n=m.contextArgs,o=m.feedbacktarget,p=o.actorforpost,q=o.messagereplycontext;if(!c('UFIPrivateReplyLink.react').willRender(q,p))return null;return c('React').createElement(c('UFIPrivateReplyLink.react'),{actorID:p,activityID:n.ftentidentifier,context:q,seeResponseLabel:false});};l.prototype.renderEmbedLink=function(){var m=this.props.contextArgs.shareLinkConfig;if(!m||!m.embedURI)return null;return c('React').createElement('a',{'data-interaction-root-id':"InteractionUFIActionLinksEmbedLink",href:m.embedURI,rel:'dialog',className:"_2g1w"},i._("Embed"));};l.prototype.renderSearchFeedback=function(){var m=this.props.contextArgs.inlineSearchFeedbackConfig;if(!m)return null;return c('React').createElement(c('BootloadedComponent.react'),babelHelpers['extends']({bootloadPlaceholder:c('React').createElement('div',null),bootloadLoader:c('JSResource')('InlineFeedback.react').__setRef('UFIActionLinks.react')},m));};l.prototype.renderCommentOrderingModeSelector=function(){if(!this.props.showCommentOrderingModeSelector)return null;return c('React').createElement('div',{className:"_3csb"},c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('div',null),bootloadLoader:c('JSResource')('UFIOrderingModeSelectorContainer.react').__setRef('UFIActionLinks.react'),contextArgs:this.props.contextArgs,feedback:this.props.feedbacktarget}));};l.prototype.renderCrowdsourceLabelingContainer=function(){if(!c('UFIConfig').showUFICrowdsource)return null;return c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('div',null),bootloadLoader:c('JSResource')('UFICrowdsourceLabelingContainer.react').__setRef('UFIActionLinks.react'),feedback:this.props.feedbacktarget,contextArgs:this.props.contextArgs});};l.prototype.renderLayout=function(m,n,o){n=n.map(function(p,q){return p&&c('React').createElement('div',{className:"_3m9g",key:q},p);}).filter(function(p){return p;});if(!m&&n.length===0)return null;return c('React').createElement('div',{className:c('joinClasses')("_3399",o)},n,c('React').createElement('div',{className:"_524d"},m));};l.prototype.shouldRenderActionButtons=function(){var m=null,n=this.props.contextArgs.source;if(this.props.contextArgs.feedcontext)try{m=JSON.parse(this.props.contextArgs.feedcontext).location_type;}catch(o){}if(m===c('FBFeedLocations').GOODWILL_THROWBACK_PERMALINK||m===c('FBFeedLocations').GOODWILL_THROWBACK_PROMOTION||m===c('FBFeedLocations').GOODWILL_THROWBACK_SHARE||m===c('FBFeedLocations').GROUP_SUGGESTIONS_WITH_STORY||n===c('FeedbackSourceType').LIVE_WWW_BROADCASTING||n===c('FeedbackSourceType').COMPACT_SEARCH)return false;return true;};l.prototype.hasCounts=function(){return this.props.feedbacktarget.commentcountreduced||this.props.feedbacktarget.sharecountreduced||this.props.feedbacktarget.seencount||this.props.contextArgs.viewCount;};l.prototype.render=function(){var m=this.renderActorSelector(),n=this.renderSearchFeedback(),o=[],p=[],q=null,r=this.renderBling();if(r){p.push(m);if(this.hasCounts()){q=this.renderLayout(null,[n],"_1f6t");}else p.push(n);}else{o.push(m);o.push(n);}o.push(this.renderCommentOrderingModeSelector());var s="_1f6t"+(this.props.contextArgs.hasReactions?' '+"_4_dr":''),t=this.shouldRenderActionButtons()?this.renderLayout(this.renderActionList(),o,"_a7s clearfix _zw3"):null,u=this.renderCrowdsourceLabelingContainer();return c('React').createElement('div',{ref:'root'},q,this.renderLayout(r,p,s),t,u);};function l(){j.apply(this,arguments);}f.exports=l;}),null);
__d('UFIActionHeader.react',['cx','BootloadedComponent.react','FeedbackSourceType','FluxContainer','JSResource','React','UFIActionLinks.react','UFICommercialBreakStore','UFIDispatcherContext.react','ifRequired'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={inCommercialBreak:false},m;}k.getStores=function(){return [c('UFICommercialBreakStore')];};k.calculateState=function(l,m){var n=m.contextArgs.instanceid;return {inCommercialBreak:c('UFICommercialBreakStore').getValueFor(n)};};k.prototype.$UFIActionHeader1=function(){if(!this.state.inCommercialBreak)return null;return c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('CommercialBreakUFIOverlay.react').__setRef('UFIActionHeader.react'),bootloadPlaceholder:c('React').createElement('div',null),contextArgs:this.props.contextArgs});};k.prototype.$UFIActionHeader2=function(){var l=this.props.contextArgs.source,m=l===c('FeedbackSourceType').COMPACT_SEARCH,n=c('React').createElement(c('UFIDispatcherContext.react'),{dispatcher:this.props.dispatcher,stores:this.props.stores},c('React').createElement(c('UFIActionLinks.react'),{contextArgs:this.props.contextArgs,feedbacktarget:this.props.feedbacktarget,hideActorSelector:m,showCommentOrderingModeSelector:this.props.showCommentOrderingModeSelector}));if(!this.state.inCommercialBreak)return n;var o=c('ifRequired')('UFIVideoPlayerRegistry',function(s){return s.getAvailableVideoPlayerController(this.props.contextArgs.instanceid);}.bind(this)),p=o&&o.getOption('VideoWithInstreamVideo','controller'),q=p&&p.getConfig(),r=q&&q.vodTransitionVersion!==0;if(!r)return null;return c('React').createElement('div',{className:"_4hqd"},n);};k.prototype.render=function(){return c('React').createElement('div',null,this.$UFIActionHeader1(),this.$UFIActionHeader2());};f.exports=c('FluxContainer').create(k,{withProps:true,pure:false});}),null);
__d("CommentLikeWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g){'use strict';f.exports=c("WebGraphQLSubscriptionHelper").getExports({docID:"1435334373168219",queryID:"1723155404680538"});}),null);
__d('UFICommentLikeSubscription',['BaseGraphQLSubscription','CommentLikeWebGraphQLSubscription','uuid'],(function a(b,c,d,e,f,g){var h=babelHelpers['extends']({},c('BaseGraphQLSubscription'),{_getTopic:function i(j){return 'gqls/comment_like_subscribe/top_level_feedback_id_'+j;},_getQueryID:function i(){return c('CommentLikeWebGraphQLSubscription').getLegacyQueryID();},_getQueryParameters:function i(j){return {input:JSON.stringify({client_subscription_id:c('uuid')(),top_level_feedback_id:j})};},_getSubscriptionCallName:function i(){return 'comment_like_subscribe';}});f.exports=h;}),null);
__d("CommentCreateWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g){'use strict';f.exports=c("WebGraphQLSubscriptionHelper").getExports({docID:"1289769837747297",queryID:"229013197563831"});}),null);
__d('UFICommentSubscription',['BaseGraphQLSubscription','CommentCreateWebGraphQLSubscription','uuid'],(function a(b,c,d,e,f,g){var h=babelHelpers['extends']({},c('BaseGraphQLSubscription'),{_getTopic:function i(j){return 'gqls/comment_create_subscribe/top_level_feedback_id_'+j;},_getQueryID:function i(){return c('CommentCreateWebGraphQLSubscription').getLegacyQueryID();},_getQueryParameters:function i(j){return {input:JSON.stringify({client_subscription_id:c('uuid')(),top_level_feedback_id:j})};},_getSubscriptionCallName:function i(){return 'comment_create_subscribe';}});f.exports=h;}),null);
__d('UFIFeaturedReplyCommentListImpl',['UFIReplyCommentListImpl','WebCommentViewOption'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('UFIReplyCommentListImpl'));i=h&&h.prototype;function j(k,l,m,n){i.constructor.call(this,k,l,c('WebCommentViewOption').FEATURED);var o=0,p=m.length;this.updateCommentCount(p);this.addCommentIDs(o,p,m);var q={};n.forEach(function(r){if(r.id)q[r.id]=r;});m.forEach(function(r){this.addOrUpdateComment(q[r]);}.bind(this));}j.prototype.fetchComments=function(k,l,m){};f.exports=j;}),null);
__d('UFIFeaturedToplevelCommentListImpl',['UFIToplevelPagedCommentListImpl','WebCommentViewOption'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('UFIToplevelPagedCommentListImpl'));i=h&&h.prototype;function j(k,l,m){i.constructor.call(this,k,c('WebCommentViewOption').FEATURED);var n=0,o=l.length;this.updateCommentCount(o);this.addCommentIDs(n,o,l);var p={};m.forEach(function(q){if(q.id)p[q.id]=q;});l.forEach(function(q){this.addOrUpdateComment(p[q]);}.bind(this));}j.prototype.fetchComments=function(k,l,m){};f.exports=j;}),null);
__d('UFIFeedbackFilters',[],(function a(b,c,d,e,f,g){'use strict';var h={getRequestedIDs:function i(j){var k=[];if(j.reactorids)k=k.concat(j.reactorids);if(j.actorforpost)k=k.concat(j.actorforpost);return k;}};f.exports=h;}),null);
__d('UFIFetcher',['Promise','ShortProfiles','UFIRange'],(function a(b,c,d,e,f,g){'use strict';var h={fetchShortProfiles:function i(j){return new (c('Promise'))(function(k,l){return c('ShortProfiles').getMulti(j,k);});},fetchComments:function i(j,k,l){return new (c('Promise'))(function(m,n){return j.getComments(k.getOffset(),k.getLength(),l,m);}).then(function(m){return Object.values(m);});},fetchCommentsOrThrow:function i(j,k,l){return Object.values(j.getCommentsOrThrow(k,l));}};f.exports=h;}),null);
__d("FeedbackLikeWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g){'use strict';f.exports=c("WebGraphQLSubscriptionHelper").getExports({docID:"1304193676334207",queryID:"264366153976871"});}),null);
__d('UFILikeSubscription',['BaseGraphQLSubscription','FeedbackLikeWebGraphQLSubscription','uuid'],(function a(b,c,d,e,f,g){var h=babelHelpers['extends']({},c('BaseGraphQLSubscription'),{_getTopic:function i(j){return 'gqls/feedback_like_subscribe/feedback_id_'+j;},_getQueryID:function i(){return c('FeedbackLikeWebGraphQLSubscription').getLegacyQueryID();},_getQueryParameters:function i(j){return {input:JSON.stringify({client_subscription_id:c('uuid')(),feedback_id:j})};},_getSubscriptionCallName:function i(){return 'feedback_like_subscribe';}});f.exports=h;}),null);
__d("UFILiveTipJarSubscriptionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g){'use strict';f.exports=c("WebGraphQLSubscriptionHelper").getExports({docID:"1392307484123243",queryID:"1851557885085599"});}),null);
__d('UFILiveTipJarSubscription',['BaseGraphQLSubscription','UFILiveTipJarSubscriptionWebGraphQLSubscription','uuid'],(function a(b,c,d,e,f,g){var h=babelHelpers['extends']({},c('BaseGraphQLSubscription'),{_getTopic:function i(j){return 'gqls/tip_jar_tip_event_subscribe/video_id_'+j;},_getQueryID:function i(){return c('UFILiveTipJarSubscriptionWebGraphQLSubscription').getLegacyQueryID();},_getQueryParameters:function i(j){return {data:JSON.stringify({client_subscription_id:c('uuid')(),video_id:j})};},_getSubscriptionCallName:function i(){return 'tip_jar_tip_event_subscribe';}});f.exports=h;}),null);
__d('UFIRetryActions',['JSLogger','UFICentralUpdates','UFIConstants','UFIUserActions'],(function a(b,c,d,e,f,g){'use strict';var h=c('JSLogger').create('UFIRetryActions');function i(l,m){var n={actiontype:c('UFIConstants').UFIActionType.DELETE_COMMENT,commentid:l.id};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[n]});var o=l.body.text,p=l.body.mentionstext;c('UFIUserActions').addComment(l.ftentidentifier,o,p,{source:m,replyid:l.parentcommentid,attachedphoto:l.body.mentionsphoto,attachedvideo:l.body.mentionsvideo});}function j(l,m){var n=l.body.text,o=l.body.mentionstext;c('UFIUserActions').editComment(l.id,n,o,{source:m,attachedPhoto:l.body.mentionsphoto,attachedSticker:l.attachment,attachedVideo:l.body.mentionsvideo});}var k={retrySubmit:function l(m,n){switch(m.status){case c('UFIConstants').UFIStatus.FAILED_ADD:i(m,n);break;case c('UFIConstants').UFIStatus.FAILED_EDIT:j(m,n);break;default:h.error('retrysubmitstatus',{status:m.status});break;}}};f.exports=k;}),null);
__d("FeedbackTypingWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g){'use strict';f.exports=c("WebGraphQLSubscriptionHelper").getExports({docID:"1237650813017179",queryID:"1235619139887368"});}),null);
__d('UFITypingSubscription',['BaseGraphQLSubscription','FeedbackTypingWebGraphQLSubscription','uuid'],(function a(b,c,d,e,f,g){var h=babelHelpers['extends']({},c('BaseGraphQLSubscription'),{_getTopic:function i(j){return 'gqls/feedback_typing_subscribe/feedback_id_'+j;},_getQueryID:function i(){return c('FeedbackTypingWebGraphQLSubscription').getLegacyQueryID();},_getQueryParameters:function i(j){return {input:JSON.stringify({client_subscription_id:c('uuid')(),feedback_id:j})};},_getSubscriptionCallName:function i(){return 'feedback_typing_subscribe';}});f.exports=h;}),null);
__d('UFITypingSubscriptionController',['UFITypingSubscription','getByPath','setTimeout'],(function a(b,c,d,e,f,g){'use strict';var h=15*1000;function i(l){var m=c('getByPath')(l,['feedback_typing_subscribe','feedback','feedback_typers','friend_count']),n=c('getByPath')(l,['feedback_typing_subscribe','feedback','feedback_typers','other_count']);return {friendCount:parseInt(m,10)||0,otherCount:parseInt(n,10)||0};}function j(l){return l.friendCount===0&&l.otherCount===0;}function k(l,m){this.$UFITypingSubscriptionController1=null;this.$UFITypingSubscriptionController2=m;this.$UFITypingSubscriptionController3=c('UFITypingSubscription').subscribe(l,this.$UFITypingSubscriptionController4.bind(this));}k.prototype.unsubscribe=function(){this.$UFITypingSubscriptionController5();this.$UFITypingSubscriptionController3&&this.$UFITypingSubscriptionController3.unsubscribe();};k.prototype.$UFITypingSubscriptionController4=function(l){this.$UFITypingSubscriptionController5();var m=i(l);this.$UFITypingSubscriptionController2(m);if(!j(m))this.$UFITypingSubscriptionController1=c('setTimeout')(function(){this.$UFITypingSubscriptionController5();this.$UFITypingSubscriptionController2({friendCount:0,otherCount:0});}.bind(this),h);};k.prototype.$UFITypingSubscriptionController5=function(){if(this.$UFITypingSubscriptionController1){clearTimeout(this.$UFITypingSubscriptionController1);this.$UFITypingSubscriptionController1=null;}};f.exports=k;}),null);
__d('UFITypingSubscriptionControllerFactory',['UFIConfig','UFISharedDispatcher','UFIStoryAction','UFITypingSubscriptionController','debounce'],(function a(b,c,d,e,f,g){'use strict';var h=500,i={forUFIController:function j(k,l){var m=c('debounce')(function(n){var o=c('UFIConfig').typingIndicator.fromEveryone,p=void 0;if(n.friendCount){p=c('UFIStoryAction').friendTyping(l);}else if(n.otherCount&&o){p=c('UFIStoryAction').someoneTyping(l);}else p=c('UFIStoryAction').typingStopped(l);c('UFISharedDispatcher').dispatch(p);},h);return new (c('UFITypingSubscriptionController'))(k.targetfbid,m);}};f.exports=i;}),null);
__d("XVODStreamingCommentsAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/videos\/vodcomments\/",{eft_id:{type:"String",required:true},target_ufi_instance_id:{type:"String",required:true},start_time:{type:"Float",required:true},end_time:{type:"Float",required:true},should_backfill:{type:"Bool",defaultValue:false}});}),null);
__d('UFIVODStreamingComments',['AsyncRequest','BanzaiODS','Map','SubscriptionsHandler','UFICentralUpdates','UFIConstants','UFIInstanceAction','UFILivePinnedCommentStore','UFISharedDispatcher','UFIStoryAction','UFIToplevelStreamedCommentList','UFIToplevelPagedCommentList','WebCommentViewOption','XVODStreamingCommentsAsyncController','setInterval'],(function a(b,c,d,e,f,g){'use strict';c('BanzaiODS').setEntitySample('feedback',.0001);function h(j,k){this.ufiController=j;this.videoPlayerController=k;this.queue=[];this.queueEndTime=0;this.currentRequest=null;this.subscriptions=new (c('SubscriptionsHandler'))();this.commentsAutoplayState=this.ufiController.shouldAutoplayLiveVODComments()?'MayPlay':'MayNotPlay';this.pinQueue=[];this.resetToTime(k.getCurrentTimePosition());var l=this.ufiController.getFtEntIdentifier(),m=this.ufiController.getInstanceID(),n=c('UFIToplevelPagedCommentList').getPagedCommentCountForFeedbackTargetID(l);if(typeof n==='number')c('UFIToplevelStreamedCommentList').getCommentList(l,m).updateCommentCount(n);this.subscriptions.addSubscriptions(k.addListener('seekEnd',function(o){if(this.commentsAutoplayState==='MayNotPlay')this.commentsAutoplayState='MayPlay';this.resetToTime(o.position);}.bind(this)),k.addListener('unmute',function(o){if(this.commentsAutoplayState==='MayNotPlay')this.commentsAutoplayState='MayPlay';this.$UFIVODCommentStream1();}.bind(this)),k.addListener('updateStatus',function(o,p){var q=null;while(this.pinQueue.length){if(this.pinQueue[0].timeoffset>o.position)break;q=this.pinQueue.shift();}if(q)this.$UFIVODCommentStream2(q);}.bind(this)));c('setInterval')(this.renderNextComment.bind(this),2000);c('BanzaiODS').bumpEntityKey('vod_comments','www_load');}h.prototype.renderNextComment=function(){if(!this.videoPlayerController.isState('playing'))return;var j=this.videoPlayerController.getCurrentTimePosition();this.onTimeUpdated(j);while(this.queue.length&&this.queue[0].timeoffset<j){var k=this.queue.shift();if(k.timeoffset<j-5)continue;c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.STREAMING,k.ufipayload);c('BanzaiODS').bumpEntityKey('feedback','facecast_vod_comment_rendered');break;}this.$UFIVODCommentStream1();};h.prototype.fetchNewCommments=function(j,k,l,m){var n=j+60,o=c('XVODStreamingCommentsAsyncController').getURIBuilder().setString('eft_id',this.ufiController.getFtEntIdentifier()).setString('target_ufi_instance_id',this.ufiController.getInstanceID()).setFloat('start_time',j).setFloat('end_time',n).setBool('should_backfill',k).getURI();if(this.currentRequest)this.currentRequest.abandon();this.currentRequest=new (c('AsyncRequest'))().setURI(o).setHandler(function(p){var q=p.getPayload();if(q.status==='error')return;if(q.backfillpayload)c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.STREAMING,q.backfillpayload);l(q.ufipayloads);m(q.pinnedcommentpayloads,q.backfillpinnedcommentpayload);this.queueEndTime=n;}.bind(this)).setFinallyHandler(function(){if(k)c('UFISharedDispatcher').dispatch(c('UFIInstanceAction').didReceiveVODComments(this.ufiController.getContextArgs()));this.currentRequest=null;}.bind(this));this.currentRequest.send();if(k)c('UFISharedDispatcher').dispatch(c('UFIInstanceAction').didRequestVODComments(this.ufiController.getContextArgs()));};h.prototype.onTimeUpdated=function(j){if(j<this.queueEndTime-15||this.currentRequest!==null)return;this.fetchNewCommments(this.queueEndTime,false,function(k){this.queue=this.queue.concat(k);}.bind(this),function(k,l){this.pinQueue=this.pinQueue.concat(k);}.bind(this));};h.prototype.resetToTime=function(j){var k=this.ufiController.getFtEntIdentifier();c('UFIToplevelStreamedCommentList').resetCommentList(k,this.ufiController.getInstanceID());c('UFICentralUpdates').didUpdateFeedback(k);this.fetchNewCommments(j,true,function(l){this.queue=l;}.bind(this),function(l,m){this.pinQueue=l;this.$UFIVODCommentStream2(m);}.bind(this));};h.prototype.stop=function(){this.subscriptions.release();};h.prototype.$UFIVODCommentStream1=function(){var j=c('UFIToplevelStreamedCommentList').getExistingCommentList(this.ufiController.getFtEntIdentifier(),this.ufiController.getInstanceID());if(!j||j.getActualCommentCount()<5||this.commentsAutoplayState!=='MayPlay'||!this.videoPlayerController.isState('playing'))return;c('BanzaiODS').bumpEntityKey('vod_comments','www_autoplay');this.commentsAutoplayState='Played';c('UFISharedDispatcher').dispatch(c('UFIInstanceAction').changeOrderingMode(this.ufiController.getContextArgs(),c('WebCommentViewOption').LIVE_STREAMING));this.ufiController.scrollToTopOfCommentsInViewer();};h.prototype.$UFIVODCommentStream2=function(j){var k=this.ufiController.getContextArgs(),l=c('UFILivePinnedCommentStore').getPinnedCommentID(k.ftentidentifier),m=j.ufipayload;if(!m){if(l!==null)c('UFISharedDispatcher').dispatch(c('UFIStoryAction').unpinComment(k,j.pineventid));return;}var n=m.pinnedcomments[0].id;if(n===l)return;c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.STREAMING,m);c('UFISharedDispatcher').dispatch(c('UFIStoryAction').pinComment(k,n,j.pineventid));};var i=new (c('Map'))();f.exports={start:function j(k,l){var m=k.getInstanceID();if(i.get(m))return;i.set(m,new h(k,l));},stop:function j(k,l){var m=i.get(l);if(!m)return;m.stop();i['delete'](l);}};}),null);
__d('UFIController',['csx','invariant','Promise','Arbiter','AsyncRequest','Bootloader','BootloadedComponent.react','CommentPrelude','DOM','DOMContainer.react','DOMQuery','XCommentEmbedPluginEmbedAsyncDialogController','ErrorUtils','FeedbackPayloadSourceType','JSResource','LivePinnedCommentEventCreateSubscription','LiveTimer','React','ReactDOM','Run','ShortProfiles','SubscriptionsHandler','TranslationTrigger','StaticUFI.react','UFIActionHeader.react','UFIActionLinks.react','UFIAddCommentActionType','UFICallbackStore','UFICentralUpdates','UFICommentActionType','UFICommentFilters','UFICommentLikeSubscription','UFICommentLogger','UFIComments','UFICommentSubscription','UFICommentUtils','UFICommentVisibilityStore','UFICommercialBreakAdapter','UFIConfig','UFIConstants','UFIDispatcher','UFIDispatcherContext.react','UFIDomRootAdapter','UFIFeaturedReplyCommentListImpl','UFIFeaturedToplevelCommentListImpl','UFIFeedbackFilters','UFIFeedbackMode','UFIFeedbackStore','UFIFeedbackTargets','UFIFetcher','UFIInstanceAction','UFIInstanceActionType','UFILikeSubscription','UFILivePinnedCommentStore','UFILiveTipJarSubscription','UFINewCommentNotifier','UFIOrderingModeStore','UFIPaging','UFIRange','UFIReactionStore','UFIReplyCommentList','UFIRetryActions','UFIRootRegistry','UFISharedDispatcher','UFIStoryAction','UFIStoryActionType','UFISubscriptionUpdates','UFIToplevelPagedCommentList','UFIToplevelStreamedCommentList','UFITypingSubscriptionControllerFactory','UFIUIEvents','UFIUserActions','UFIVideoPlayerRegistry','UFIVisibility','UFIVODStreamingComments','URI','createArrayFromMixed','ex','flattenArray','forEachObject','isEmpty','onEnclosingPageletDestroy','requireWeak'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c('UFIConfig').prefetchTextDelightAnimation)c('Bootloader').loadModules(["TextDelightAnimation"],function(n){n.setupCommentAnimation(c('UFIConfig').prefetchTextDelightAnimation);},'UFIController');var j={NEWSSTAND:'newsstand'},k=function n(o,p,q,r){var s=o.getRequestedOffset(),t=o.getRequestedLength(),u=s+t===p,v=u&&l(r)?q-s:t;return new (c('UFIRange'))(s,v);},l=function n(o){return o==c('FeedbackPayloadSourceType').USER_ACTION||o==c('FeedbackPayloadSourceType').LIVE_SEND||o==c('FeedbackPayloadSourceType').STREAMING;};m.factory=function(n,o,p){if(o.flushEventQueueBeforeRender){if(c('UFIConfig').flushEventQueueBeforeRenderUseIdleCallback&&window.requestIdleCallback){window.requestIdleCallback(function(){return m.$UFIController13(n,o,p);});}else setTimeout(function(){return m.$UFIController13(n,o,p);},c('UFIConfig').flushEventQueueBeforeRenderTimeout);}else m.$UFIController13(n,o,p);};m.$UFIController13=function(n,o,p){o.rootid=n.id;return new m(n,Object.freeze(o),p);};m.prototype.getRootNode=function(){return this.root;};m.prototype.getContextArgs=function(){return this.$UFIController2;};m.prototype.getFtEntIdentifier=function(){return this.$UFIController2.ftentidentifier;};m.prototype.getInstanceID=function(){return this.$UFIController2.instanceid;};m.prototype.getFluentContentToken=function(){return this.$UFIController2.fluentContentToken;};m.prototype.shouldAutoplayLiveVODComments=function(){return !!this.$UFIController2.autoplayLiveVODComments;};function m(n,o,p){var q,r;this.$UFIController6=false;this.$UFIController14();this.$UFIController15();this.root=n;this.$UFIController2=o;this.$UFIController7=null;c('UFISharedDispatcher').dispatch(c('UFIInstanceAction').init(o,p));c('UFIRootRegistry').registerController(o.rootid,o.instanceid,o.ftentidentifier,function(){this.$UFIController16();}.bind(this));this.$UFIController4=new (c('UFIDomRootAdapter'))(this.root,this.$UFIController2);if(c('UFIConfig').feedfocusWrapperModule&&o.location==j.NEWSSTAND){var s=c('UFIConfig').feedfocusWrapperModule,t=c('DOMQuery').scry(this.root,"^._5pat"),u=t[0];if(u)(function(){var ea=c('createArrayFromMixed')(u.children),fa=document.createDocumentFragment();ea.forEach(function(ga){fa.appendChild(ga);});c('ReactDOM').render(c('React').createElement(s,{instanceID:o.instanceid},c('React').createElement(c('DOMContainer.react'),null,fa)),u);})();}var v=o.feedbackMode===c('UFIFeedbackMode').NEVER||o.feedbackMode===c('UFIFeedbackMode').NONE;this.$UFIController10={payloadSource:null,feedback:null,oldRange:{offset:0,length:0},commentIDToFocusOnMount:null,showLoadingUFI:false,isActiveLoading:{},allSeenActiveLoadDirectionData:{},requestedInitialComments:false,isHidden:v,commentPermalinks:{},deletedCounts:{},canAddCommentMap:{},canReplyMap:{},defaultRepliesExpandedMap:{},repliesExpandedMap:{},hasPagedToplevel:false,focusTopLevelComposer:false,featuredCommentLists:{},featuredCommentIDs:[],translateAllCommentID:null,toplevelPagerClickCounts:{},replyPagerClickCounts:{},loadingVODComments:false,shouldTranslateAllVisibleComments:false,commentsLoadingTranslations:{}};this.authorProfiles={};this.commentcounts={};this.comments=[];this.repliesMap={};var w=p.feedbacktarget?p.feedbacktarget:p.feedbacktargets&&p.feedbacktargets[0];if(!this.canRenderHeader())c('Bootloader').loadModules(["UFIActionLinkController"],function(ea){return new ea(n,o,w);},'UFIController');if(w)this.$UFIController17(w,o);var x=c('UFIOrderingModeStore').getOrderingMode(this.$UFIController2.instanceid),y=null;if(p.featuredcommentlists&&p.featuredcommentlists.comments&&p.featuredcommentlists.comments[o.ftentidentifier]){y=p.featuredcommentlists.comments[o.ftentidentifier];this.$UFIController10.featuredCommentLists[o.ftentidentifier]=new (c('UFIFeaturedToplevelCommentListImpl'))(o.ftentidentifier,y.values,p.comments);}else{var z=p.commentlists&&p.commentlists.comments,aa=z[o.ftentidentifier];y=aa[x];}if(p.featuredcommentids)this.$UFIController10.featuredCommentIDs=p.featuredcommentids;this.ranges={};this.replyRanges={};this.commentcounts={};this.ranges[x]=new (c('UFIRange'))(y.range.offset,y.range.length);this.$UFIController10.oldRange={offset:y.range.offset,length:this.comments&&this.comments.length||0};var ba=void 0,ca=void 0,da=void 0;if(p.commentlists.replies)for(ba=0;ba<y.values.length;ba++){ca=y.values[ba];da=p.commentlists.replies[ca];if(da){this.commentcounts[ca]=this.getReplyCommentList(ca).getCommentCount();this.replaceReplyRange(ca,new (c('UFIRange'))(da.range.offset,da.range.length));}}if(p.featuredcommentlists)if(p.featuredcommentlists.replies)for(ba=0;ba<y.values.length;ba++){ca=y.values[ba];da=p.featuredcommentlists.replies[ca];if(da){this.$UFIController10.featuredCommentLists[ca]=new (c('UFIFeaturedReplyCommentListImpl'))(o.ftentidentifier,ca,da.values,p.comments);this.commentcounts[ca]=this.getReplyCommentList(ca).getCommentCount();this.replaceReplyRange(ca,c('UFIRange').combine(new (c('UFIRange'))(da.range.offset,da.range.length),this.replyRanges[ca]));}}this.$UFIController8=null;this.ufiCentralUpdatesSubscriptions=[c('UFICentralUpdates').subscribe('feedback-updated',function(ea,fa){var ga=fa.updates;if(o.ftentidentifier in ga){this.$UFIController10.payloadSource=fa.payloadSource;this.fetchAndUpdate(this.$UFIController10.payloadSource);}}.bind(this))];this.$UFIController18(o);this.onUnloadSubscription=c('Run').onUnload(function(){return this.$UFIController19();}.bind(this));this.getToplevelCommentList();c('UFICentralUpdates').handleUpdate(c('FeedbackPayloadSourceType').INITIAL_SERVER,p);if(o.islivestreaming&&o.fluentContentToken)(function(){var ea=Date.now();c('LivePinnedCommentEventCreateSubscription').subscribe(o.fluentContentToken,function(fa){c('UFISubscriptionUpdates').handleLivePinnedComment(o,fa,Date.now()-ea);});})();if(o.islivestreaming)c('requireWeak')('UFILiveStreamingComments',function(ea){var fa=null;if(p.comments&&p.comments.length>0)fa=p.comments[p.comments.length-1].fbid;ea.start(o.ftentidentifier,w.commentcount,fa,o.showLiveVideoAnnoucements,o.showLiveVideoBroadcastingJoinEvents);this.scrollToTopOfCommentsInViewer();c('Run').onLeave(function(){return ea.stop(o.ftentidentifier);});}.bind(this));if(!o.lazyFetch&&!this.canRenderHeader())this.$UFIController20(w);if(this.$UFIController2.fluentContentToken)c('UFIVideoPlayerRegistry').registerUFIController(this,function(ea){if(o.enableVODStreamingComments&&!this.$UFIController10.featuredCommentLists[o.ftentidentifier])c('UFIVODStreamingComments').start(this,ea);c('UFICommercialBreakAdapter').start(o,ea);if(o.islivestreaming)this.$UFIController12.addSubscriptions(ea.addListener('stateChange',function(){if(ea.isState('playing'))this.render();}.bind(this)));}.bind(this),function(){if(o.enableVODStreamingComments)c('UFIVODStreamingComments').stop(this.$UFIController2.ftentidentifier,o.instanceid);c('UFICommercialBreakAdapter').stop(o.instanceid);}.bind(this));}m.prototype.$UFIController18=function(n){this.$UFIController1=new (c('SubscriptionsHandler'))();this.$UFIController1.addSubscriptions(c('onEnclosingPageletDestroy')(this.root,function(){this.$UFIController16();}.bind(this)),c('Arbiter').subscribe(c('UFIUIEvents').PageCleared,function(){this.$UFIController16();}.bind(this)),c('Arbiter').subscribe('ConversationNub/destroy',function(o,p){if(p.root&&c('DOMQuery').contains(p.root,this.root))this.$UFIController16();}.bind(this)));if(n.viewas)this.$UFIController1.addSubscriptions(c('Arbiter').subscribe('pre_page_transition',function(o,p){if(n.viewas!==new (c('URI'))(p.to).getQueryData('viewas')){c('UFIToplevelPagedCommentList').resetCommentListsForFeedbackTargetID(n.ftentidentifier);c('UFIToplevelStreamedCommentList').resetAllCommentLists(n.ftentidentifier);}}));};m.prototype.$UFIController17=function(n,o){this.$UFIController21();var p=Date.now(),q=[];if(n.ll)q.push(c('UFILikeSubscription').subscribe(n.targetfbid,function(s){c('UFISubscriptionUpdates').handleLiveLike(o.ftentidentifier,s,Date.now()-p);}));if(n.lc)q.push(c('UFICommentSubscription').subscribe(n.targetfbid,function(s){c('UFISubscriptionUpdates').handleLiveComment(o.ftentidentifier,s.comment_create_subscribe,Date.now()-p);}));if(n.lcl)q.push(c('UFICommentLikeSubscription').subscribe(n.targetfbid,function(s){c('UFISubscriptionUpdates').handleLiveCommentLike(o.ftentidentifier,s,Date.now()-p);}));if(n.lti&&c('UFIConfig').typingIndicator.subscribe)q.push(c('UFITypingSubscriptionControllerFactory').forUFIController(n,o));if(n.istipjarenabled)c('requireWeak')('UFILiveStreamingComments',function(s){q.push(c('UFILiveTipJarSubscription').subscribe(n.targetfbid,function(t){s.enqueueSubscribedTipJarEvent(n,t);}));});var r=new (c('SubscriptionsHandler'))();r.addSubscriptions.apply(r,q.filter(function(s){return !!s;}));this.$UFIController7=r;};m.prototype.$UFIController22=function(){var n=c('UFIFeedbackStore').getState()[this.$UFIController2.ftentidentifier];if(n)this.$UFIController17(n,this.$UFIController2);};m.prototype.scrollToTopOfCommentsInViewer=function(){c('Arbiter').inform(c('UFIUIEvents').AutoplayLiveComments,{form:this.$UFIController4.getParentForm()});};m.prototype.$UFIController23=function(){var n=this.$UFIController4.getHeadRoot();if(n)c('ReactDOM').unmountComponentAtNode(n);if(c('UFIRootRegistry').isSnowliftNode(this.$UFIController2.rootid)){var o=this.$UFIController4.getSnowliftActionRoot();if(o)c('ReactDOM').unmountComponentAtNode(o);}c('ReactDOM').unmountComponentAtNode(this.root);};m.prototype.unitTestOnlySetFeedbackIntoState=function(n){this.$UFIController10.feedback=n;};m.prototype.$UFIController14=function(){if(!this.$UFIController12){this.$UFIController3=new (c('UFIDispatcher'))();this.$UFIController11={UFICallbackStore:new (c('UFICallbackStore'))(this.$UFIController3),UFIReactionStore:new (c('UFIReactionStore'))(this.$UFIController3)};this.$UFIController12=new (c('SubscriptionsHandler'))();this.$UFIController12.addSubscriptions(this.$UFIController11.UFICallbackStore.on(c('UFICommentActionType').TOGGLE_LIKE,function(n){c('UFIUserActions').changeCommentLike(n.comment.id,n.like,{source:this.$UFIController2.source,target:n.target});}.bind(this)),this.$UFIController11.UFICallbackStore.on(c('UFICommentActionType').CHANGE_REACTION,function(n){c('UFIUserActions').changeCommentReaction(n.comment.id,n.reactionType,{source:this.$UFIController2.source,instanceid:this.$UFIController2.instanceid},n.target);}.bind(this)),this.$UFIController11.UFICallbackStore.on(c('UFICommentActionType').REMOVE,function(n){c('Bootloader').loadModules(["UFICommentRemoveDialog"],function(o){return o.show(function(){c('UFIUserActions').removeComment(n.comment.id,{source:this.$UFIController2.source,oneclick:false,target:n.target});n.onConfirm();}.bind(this));}.bind(this),'UFIController');}.bind(this)),this.$UFIController11.UFICallbackStore.on(c('UFICommentActionType').TRANSLATE,function(n){if(!this.$UFIController10.commentsLoadingTranslations[n.comment.id]){this.$UFIController10.commentsLoadingTranslations[n.comment.id]=true;c('UFIUserActions').translateComments(n.comment.ftentidentifier,[n.comment.id],n.trigger,{source:this.$UFIController2.source,target:n.target});if(c('UFICommentUtils').shouldShowTranslateAll(this.comments,this.repliesMap,babelHelpers['extends']({},this.$UFIController10.defaultRepliesExpandedMap,this.$UFIController10.repliesExpandedMap),this.$UFIController10.commentsLoadingTranslations))this.$UFIController10.translateAllCommentID=n.comment.id;this.render();}}.bind(this)),this.$UFIController11.UFICallbackStore.on(c('UFICommentActionType').TOGGLE_MARK_AS_SPAM,function(n){c('UFIUserActions').setHideAsSpam(n.comment.id,n.is_spam,{source:this.$UFIController2.source,target:n.target});}.bind(this)),this.$UFIController11.UFICallbackStore.on(c('UFIStoryActionType').CHANGE_ACCEPTED_ANSWER,function(n){c('UFIUserActions').changeAcceptedAnswer(n.comment,n.doAccept);}),this.$UFIController11.UFICallbackStore.on(c('UFICommentActionType').TOGGLE_INLINE_BAN,function(n){return c('UFIUserActions').banUser(n.comment,n.ownerid,n.is_banned,{source:this.$UFIController2.source,target:n.target});}.bind(this)),this.$UFIController11.UFICallbackStore.on(c('UFICommentActionType').EMBED,function(n){var o=c('XCommentEmbedPluginEmbedAsyncDialogController').getURIBuilder().setString('comment_id',n.comment.id).getURI();new (c('AsyncRequest'))(o).send();}),this.$UFIController11.UFICallbackStore.on(c('UFICommentActionType').SHOW_CONSTITUENT_TITLE,function(n){c('UFIUserActions').showConstituentTitle(n.comment);}),this.$UFIController11.UFICallbackStore.on(c('UFICommentActionType').HIDE_CONSTITUENT_TITLE,function(n){c('UFIUserActions').hideConstituentTitle(n.comment);}),this.$UFIController11.UFICallbackStore.on(c('UFIAddCommentActionType').SUBMIT_NEW,function(n){var o=this.$UFIController4.getParentForm();if(o)c('UFINewCommentNotifier').onNewComment(o,this.$UFIController2,n.comment,n.target,n.replyCommentID,n.timestamp);}.bind(this)),this.$UFIController11.UFICallbackStore.on(c('UFIAddCommentActionType').SUBMIT_EDIT,function(n){var o=n.comment,p=n.commentData,q=n.target;if(!p.visibleValue&&!p.attachedPhoto&&!p.attachedVideo&&!p.attachedSticker&&!p.attachedShareURL){c('Bootloader').loadModules(["UFICommentRemoveDialog"],function(r){return r.show(function(){return c('UFIUserActions').removeComment(o.id,{source:this.$UFIController2.source,oneclick:false,target:q});}.bind(this));}.bind(this),'UFIController');}else c('UFIUserActions').editComment(o.id,p.visibleValue,p.encodedValue,{source:this.$UFIController2.source,target:q,attachedPhoto:p.attachedPhoto,attachedVideo:p.attachedVideo,attachedSticker:p.attachedSticker,attachedShareURL:p.attachedShareURL});}.bind(this)),this.$UFIController11.UFICallbackStore.on(c('UFICommentActionType').REMOVE_PREVIEW,function(n){return c('UFIUserActions').removePreview(n.comment,{source:this.$UFIController2.source,target:n.target});}.bind(this)),this.$UFIController11.UFICallbackStore.on(c('UFIAddCommentActionType').RETRY_SUBMIT,function(n){return c('UFIRetryActions').retrySubmit(n.comment,this.$UFIController2.source);}.bind(this)),this.$UFIController11.UFICallbackStore.on(c('UFIStoryActionType').PAGE_IN_COMMENTS,function(n){this.$UFIController10.payloadSource=c('FeedbackPayloadSourceType').USER_ACTION;this.$UFIController24(n.commentID,n.direction,n.nextRange);this.fetchAndUpdateWithLogs(c('FeedbackPayloadSourceType').USER_ACTION);}.bind(this)),this.$UFIController11.UFICallbackStore.on(c('UFIStoryActionType').TOGGLE_REPLIES,function(n){this.$UFIController10.payloadSource=c('FeedbackPayloadSourceType').USER_ACTION;var o=n.commentID,p=this.$UFIController10.repliesExpandedMap[o];if(p){delete this.$UFIController10.isActiveLoading[o];this.$UFIController10.repliesExpandedMap[o]=false;this.render();}else{this.$UFIController10.focusedReplyComposer={replyID:'replycomposer-'+o,initiatorComment:null};this.$UFIController24(o,c('UFIPaging').BOTTOM,this.$UFIController25(o));this.fetchAndUpdateWithLogs(c('FeedbackPayloadSourceType').USER_ACTION);}}.bind(this)),this.$UFIController11.UFICallbackStore.on(c('UFIStoryActionType').SHOW_REPLIES,function(n){this.$UFIController10.payloadSource=c('FeedbackPayloadSourceType').USER_ACTION;this.$UFIController10.focusedReplyComposer={replyID:'replycomposer-'+n.commentID,initiatorComment:n.initiatorComment};this.$UFIController24(n.commentID,c('UFIPaging').BOTTOM,this.$UFIController25(n.commentID));this.fetchAndUpdateWithLogs(c('FeedbackPayloadSourceType').USER_ACTION);}.bind(this)),this.$UFIController11.UFICallbackStore.on(c('UFIStoryActionType').COMMENTS_ARRIVED,function(n){this.$UFIController10.payloadSource=n.source;this.$UFIController10.showLoadingUFI=false;this.$UFIController10.isActiveLoading={};this.$UFIController10.commentIDToFocusOnMount=n.source===c('FeedbackPayloadSourceType').USER_ACTION&&!this.$UFIController2.isBroadcasterUFI?this.$UFIController26(n.newOffset,n.newLength):null;this.$UFIController10.oldRange={offset:n.newOffset,length:n.newLength};this.$UFIController27();if(this.$UFIController10.shouldTranslateAllVisibleComments&&!c('UFIOrderingModeStore').isLiveStreaming(this.$UFIController2.instanceid))this.$UFIController28();this.render();if(n.source==c('FeedbackPayloadSourceType').ENDPOINT_COMMENT_FETCH){c('Arbiter').inform(c('UFIUIEvents').CommentPager);if(c('UFIConfig').logCommentLoad)c('UFICommentLogger').logCommentFetchReceived(this.$UFIController2.ftentidentifier,Date.now());}}.bind(this)));}};m.prototype.$UFIController15=function(){this.$UFIController9=[c('UFISharedDispatcher').register(function(n){switch(n.type){case c('UFIInstanceActionType').REMOVE:if(n.instanceID!==this.$UFIController2.instanceid){if(n.ftentidentifier===this.$UFIController2.ftentidentifier)this.$UFIController22();return;}c('UFIRootRegistry').cleanupInstance(n.instanceID);break;case c('UFIInstanceActionType').TOGGLE_COMMENTS:if(n.instanceID!==this.$UFIController2.instanceid)return;this.$UFIController10.payloadSource=c('FeedbackPayloadSourceType').COLLAPSE_ACTION;this.$UFIController10.isHidden=!this.$UFIController10.isHidden;this.render();break;case c('UFIInstanceActionType').CHANGE_ORDER_MODE:if(n.instanceID!==this.$UFIController2.instanceid)return;this.$UFIController10.payloadSource=c('FeedbackPayloadSourceType').USER_ACTION;this.$UFIController10.showLoadingUFI=true;this.render();this.fetchAndUpdate(c('FeedbackPayloadSourceType').USER_ACTION);break;case c('UFIInstanceActionType').REQUESTED_VOD_COMMENTS:if(n.instanceID!==this.$UFIController2.instanceid)return;this.$UFIController10.loadingVODComments=true;this.render();break;case c('UFIInstanceActionType').RECEIVED_VOD_COMMENTS:if(n.instanceID!==this.$UFIController2.instanceid)return;this.$UFIController10.loadingVODComments=false;this.render();break;case c('UFIStoryActionType').LIVE_PIN_COMMENT:if(n.ftentidentifier!==this.$UFIController2.ftentidentifier)return;var o=c('UFIComments').getComment(n.commentID).author;c('ShortProfiles').get(o,function(p){this.authorProfiles[o]=p;if(!this.$UFIController6)this.render();}.bind(this));break;case c('UFIStoryActionType').LIVE_UNPIN_COMMENT:if(n.ftentidentifier!==this.$UFIController2.ftentidentifier)return;this.render();break;case c('UFIStoryActionType').SHOW_COMMENTS:if(n.instanceID!==this.$UFIController2.instanceid)return;this.$UFIController10.isHidden=false;this.$UFIController10.focusTopLevelComposer=true;c('CommentPrelude').expand(this.root,false,'ufi_controller');if(this.staticUFI)c('CommentPrelude').expand(this.staticUFI,false,'ufi.react');this.render();break;case c('UFIInstanceActionType').TRANSLATE_ALL:if(n.instanceID!==this.$UFIController2.instanceid)return;if(this.$UFIController2.islivestreaming)break;this.$UFIController10.shouldTranslateAllVisibleComments=true;this.$UFIController10.translateAllCommentID=null;this.$UFIController28();this.render();break;}}.bind(this))];};m.prototype.getStores=function(){return this.$UFIController11;};m.prototype.$UFIController25=function(n){var o=this.commentcounts[n],p=Math.min(o,this.$UFIController2.pagesize);return new (c('UFIRange'))(o-p,p);};m.prototype.$UFIController24=function(n,o,p){var q=this.$UFIController10,r=q.isActiveLoading,s=q.allSeenActiveLoadDirectionData,t=q.repliesExpandedMap,u=q.toplevelPagerClickCounts,v=q.replyPagerClickCounts,w=this.$UFIController2.ftentidentifier,x=n!==w;r[n]=o;var y=s[n]||{};y[o]=true;s[n]=y;if(x){t[n]=true;}else this.$UFIController10.hasPagedToplevel=true;if(n==w){var z=c('UFIOrderingModeStore').getOrderingMode(this.$UFIController2.instanceid),aa=u[z]||0;u[z]=aa+1;this.getRange().updateRequestedRange(p.offset,p.length);}else{var ba=v[n]||0;v[n]=ba+1;this.replyRanges[n].updateRequestedRange(p.offset,p.length);}};m.prototype.$UFIController29=function(){this.$UFIController10.payloadSource=c('FeedbackPayloadSourceType').USER_ACTION;this.$UFIController10.showLoadingUFI=true;this.$UFIController10.requestedInitialComments=true;var n=this.getToplevelCommentList().getCommentCount(),o=Math.min(n,this.$UFIController2.numLazyComments||0);c('forEachObject')(this.ranges,function(p){return p.updateRequestedRange(n-o,o);});this.fetchAndUpdate(c('FeedbackPayloadSourceType').USER_ACTION);c('UFIFeedbackTargets').getFeedbackTarget(this.$UFIController2.ftentidentifier,function(p){if(this.canRenderHeader()){this.renderHeader(p);}else this.$UFIController20(p);}.bind(this));};m.prototype.$UFIController20=function(n){if(this.shouldShowCommentOrderingModeSelector(n))c('DOM').scry(this.root,"^form ._3csb").slice(0,1).forEach(function(o){c('ReactDOM').render(c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('div',null),bootloadLoader:c('JSResource')('UFIOrderingModeSelectorContainer.react').__setRef('UFIController'),contextArgs:this.$UFIController2,feedback:n}),o);}.bind(this));};m.prototype.$UFIController27=function(){if(Object.keys(this.$UFIController10.commentsLoadingTranslations).length==0)return;this.comments.forEach(function(n){if(this.$UFIController10.commentsLoadingTranslations[n.id]&&!!n.translationdata)delete this.$UFIController10.commentsLoadingTranslations[n.id];}.bind(this));Object.keys(this.repliesMap).forEach(function(n){var o=this.repliesMap[n];o.forEach(function(p){if(this.$UFIController10.commentsLoadingTranslations[p.id]&&!!p.translationdata)delete this.$UFIController10.commentsLoadingTranslations[p.id];}.bind(this));}.bind(this));};m.prototype.$UFIController28=function(){var n=this.comments.filter(function(q){return this.$UFIController30(q);}.bind(this)).map(function(q){return q.id;}),o=babelHelpers['extends']({},this.$UFIController10.defaultRepliesExpandedMap,this.$UFIController10.repliesExpandedMap),p=[];Object.keys(this.repliesMap).filter(function(q){return o[q];}).forEach(function(q){p=p.concat(this.repliesMap[q]);}.bind(this));n=n.concat(p.filter(function(q){return this.$UFIController30(q);}.bind(this)).map(function(q){return q.id;}));if(n.length>0){n.forEach(function(q){return this.$UFIController10.commentsLoadingTranslations[q]=true;}.bind(this));c('UFIUserActions').translateComments(this.$UFIController2.ftentidentifier,n,c('TranslationTrigger').TRANSLATE_ALL,{source:this.$UFIController2.source});}};m.prototype.$UFIController30=function(n){return n.istranslatable&&!n.translationdata&&!this.$UFIController10.commentsLoadingTranslations[n.id];};m.prototype.canRenderHeader=function(){return !!this.$UFIController4.getHeadRoot();};m.prototype.renderHeader=function(n){if(!this.canRenderHeader())return;var o=!!this.$UFIController2.hasReactions&&(this.$UFIController2.feedbackMode==='none'||this.$UFIController2.feedbackMode==='toggle')&&n.displayreactions&&this.shouldShowCommentOrderingModeSelector(n)&&(!this.$UFIController2.lazyFetch||this.$UFIController10.requestedInitialComments);c('ReactDOM').render(c('React').createElement(c('UFIActionHeader.react'),{contextArgs:this.$UFIController2,dispatcher:this.$UFIController3,feedbacktarget:n,showCommentOrderingModeSelector:o,stores:this.$UFIController11}),this.$UFIController4.getHeadRoot());var p=c('UFIRootRegistry').isSnowliftNode(this.$UFIController2.rootid);if(p&&this.$UFIController4.getSnowliftActionRoot())c('ReactDOM').render(c('React').createElement(c('UFIDispatcherContext.react'),{dispatcher:this.$UFIController3,stores:this.$UFIController11},c('React').createElement(c('UFIActionLinks.react'),{contextArgs:this.$UFIController2,feedbacktarget:n,showCommentOrderingModeSelector:o,hideActorSelector:true})),this.$UFIController4.getSnowliftActionRoot());};m.prototype.shouldComponentUpdate=function(){if(this.$UFIController2.islivestreaming&&(this.$UFIController10.payloadSource===c('FeedbackPayloadSourceType').STREAMING||this.$UFIController10.payloadSource===c('FeedbackPayloadSourceType').LIVE_SEND)){var n=c('UFIVideoPlayerRegistry').getAvailableVideoPlayerController(this.$UFIController2.instanceid),o=n?n.isState('playing')&&!n.getOption('WatchAndScroll','isActive'):false,p=c('UFICommentVisibilityStore').getVisibility(c('UFICommentVisibilityStore').getState(),this.$UFIController2)===c('UFIVisibility').VISIBLE;return o||p;}return true;};m.prototype.render=function(){if(!this.shouldComponentUpdate())return;if(this.$UFIController10.showLoadingUFI||c('UFIOrderingModeStore').isLiveStreaming(this.$UFIController2.instanceid)&&this.$UFIController10.loadingVODComments){c('ReactDOM').render(this.$UFIController31(),this.root);return;}this.$UFIController10.feedback||i(0);var n=this.$UFIController10.feedback,o=n.reactionsentences,p=n.likesentences,q=n.replysocialsentencemaxreplies,r=this.comments.length||!c('isEmpty')((o||p).current),s=this.$UFIController10.payloadSource;if(r&&l(s)&&this.$UFIController2.feedbackMode!==c('UFIFeedbackMode').NEVER){this.$UFIController10.isHidden=false;c('CommentPrelude').expand(this.root,false,'ufi_controller');}if(this.$UFIController2.disableCSSHiding&&this.$UFIController10.isHidden){c('ReactDOM').unmountComponentAtNode(this.root);return;}if(this.$UFIController2.lazyFetch&&!this.$UFIController10.requestedInitialComments){c('ReactDOM').render(this.$UFIController31(),this.root);this.$UFIController29();return;}var t=this.getRange();if(this.$UFIController8===null)this.$UFIController8=t.getOffset()+t.getLength()-1;var u=q||-1,v={};v[this.$UFIController2.ftentidentifier]=new (c('UFIRange'))(t.offset,t.length).updateRequestedRange(t.requestedOffset,t.requestedLength);for(var w in this.replyRanges)v[w]=new (c('UFIRange'))(this.replyRanges[w].offset,this.replyRanges[w].length).updateRequestedRange(this.replyRanges[w].requestedOffset,this.replyRanges[w].requestedLength);var x=babelHelpers['extends']({},this.$UFIController10.defaultRepliesExpandedMap,this.$UFIController10.repliesExpandedMap),y=!!this.$UFIController10.featuredCommentLists[this.$UFIController2.ftentidentifier],z=c('UFIOrderingModeStore').isLiveStreaming(this.$UFIController2.instanceid)?true:this.getToplevelCommentList().getClientHasAll()&&t.offset===0&&t.length===this.getToplevelCommentList().getCommentCount(),aa=this.$UFIController10.focusTopLevelComposer,ba=this.$UFIController32(s),ca=c('UFIOrderingModeStore').getOrderingMode(this.$UFIController2.instanceid),da=c('React').createElement(c('UFIDispatcherContext.react'),{dispatcher:this.$UFIController3,stores:this.$UFIController11},c('React').createElement(c('StaticUFI.react'),{ref:function(fa){this.staticUFI=fa;}.bind(this),feedback:this.$UFIController10.feedback,contextArgs:this.$UFIController2,repliesMap:this.repliesMap,commentCounts:this.commentcounts,deletedCounts:this.$UFIController10.deletedCounts,availableComments:this.comments,source:this.$UFIController2.source,payloadSource:s,ranges:v,authorProfiles:this.authorProfiles,loggingOffset:this.$UFIController8,replySocialSentenceMaxReplies:u,orderingMode:ca,hideOrderingModeSelector:y,commentPermalinks:this.$UFIController10.commentPermalinks,canAddCommentMap:this.$UFIController10.canAddCommentMap,canReplyMap:this.$UFIController10.canReplyMap,focusTopLevelComposer:aa,focusReply:ba,isActiveLoading:this.$UFIController10.isActiveLoading,allSeenActiveLoadDirectionData:this.$UFIController10.allSeenActiveLoadDirectionData,repliesExpandedMap:x,hasPagedToplevel:this.$UFIController10.hasPagedToplevel,commentIDToFocusOnMount:this.$UFIController10.commentIDToFocusOnMount,hideToplevelPager:z,featuredCommentIDs:this.$UFIController10.featuredCommentIDs,loadingTranslationsMap:this.$UFIController10.commentsLoadingTranslations,translateAllCommentID:this.$UFIController10.translateAllCommentID}));c('ReactDOM').render(da,this.root);c('LiveTimer').updateTimeStamps();var ea=this.$UFIController4.getParentForm();if(ea)c('Arbiter').inform(c('UFIUIEvents').Changed,{form:ea});if(s!=c('FeedbackPayloadSourceType').INITIAL_SERVER)c('Arbiter').inform('reflow');this.$UFIController10.focusedReplyComposer=null;this.$UFIController10.focusTopLevelComposer=false;};m.prototype.$UFIController32=function(n){if(n===c('FeedbackPayloadSourceType').INITIAL_SERVER&&this.$UFIController10.feedback&&this.$UFIController10.feedback.permalinkcommentid){return {replyID:'replycomposer-'+this.$UFIController10.feedback.permalinkcommentid};}else if(this.$UFIController10.focusedReplyComposer)return this.$UFIController10.focusedReplyComposer;return null;};m.prototype.$UFIController26=function(n,o){var p=this.$UFIController10.oldRange;if(p&&(p.offset!=n||p.length!=o)){var q=n<p.offset?p.length:0;if(q<o)return this.comments[q].id;}return this.$UFIController10.commentIDToFocusOnMount;};m.prototype.$UFIController33=function(n,o,p){if(n&&o.id===n.permalinkcommentid)return true;if(p>1)return true;if(p>0&&o.interestingReplyOffset===undefined)return true;var q=n&&o.author===n.viewerid;if(q&&p==1)return true;return false;};m.prototype.getNewRange=function(n,o,p){if(c('UFIOrderingModeStore').isLiveStreaming(this.$UFIController2.instanceid)){return new (c('UFIRange'))(0,o.feedcarded?4:50);}else return k(this.getRange(),this.commentcounts[o.ftentidentifier],p,n);};m.prototype.getNewReplyRange=function(n,o,p){var q=o.id;if(this.replyRanges[q]){return k(this.getReplyRange(q),this.commentcounts[q],p,n);}else if(o.interestingReplyOffset!==undefined){return new (c('UFIRange'))(o.interestingReplyOffset,1);}else{var r=this.$UFIController10.feedback&&this.$UFIController10.feedback.isranked,s=r?0:Math.min(p,2);return new (c('UFIRange'))(0,s);}};m.prototype.fetchAndUpdateWithLogs=function(n){n===this.$UFIController10.payloadSource||i(0);this.$UFIController34(n,true);};m.prototype.fetchAndUpdate=function(n){n===this.$UFIController10.payloadSource||i(0);this.$UFIController34(n,false);};m.prototype.$UFIController35=function(n){var o=c('UFIOrderingModeStore').getOrderingMode(this.$UFIController2.instanceid);return {numPagerClicks:n?this.$UFIController10.toplevelPagerClickCounts[o]||0:null,viewAs:this.$UFIController2.viewas,feedContext:this.$UFIController2.feedcontext,feedbackSource:this.$UFIController2.source,streamingOrderReversed:this.$UFIController2.streamingCommentOrderReversed};};m.prototype.$UFIController36=function(n,o){return {numPagerClicks:o?this.$UFIController10.replyPagerClickCounts[n]||0:null,viewAs:this.$UFIController2.viewas,feedContext:this.$UFIController2.feedcontext};};m.prototype.$UFIController37=function(n){var o=this.$UFIController10.feedback,p=this.getToplevelCommentList(),q=this.getNewRange(n,this.$UFIController2,p.getCommentCount()),r=c('UFIFetcher').fetchCommentsOrThrow(p,q,this.$UFIController35(false));this.$UFIController38(q,r);var s=c('UFICommentFilters').getAuthors(r);r.forEach(function(v){var w=v.id,x=this.getReplyCommentList(w),y=this.getNewReplyRange(n,v,x.getCommentCount()),z=c('UFIFetcher').fetchCommentsOrThrow(x,y,this.$UFIController36(w,false));s.push.apply(s,c('UFICommentFilters').getAuthors(z));this.$UFIController39(y,v,z);}.bind(this));if(o)s.push.apply(s,c('UFIFeedbackFilters').getRequestedIDs(o));var t=c('UFILivePinnedCommentStore').getPinnedCommentAuthorID(this.$UFIController2.ftentidentifier);if(t)s.push(t);if(o&&o.acceptedanswer){var u=c('UFIComments').getComment(o.acceptedanswer);if(u&&u.author)s.push(u.author);}Object.assign(this.authorProfiles,c('ShortProfiles').getMultiNow(s));};m.prototype.$UFIController34=function(n,o){var p=c('UFIFeedbackTargets').getFeedbackTargetIfExists(this.$UFIController2.ftentidentifier);if(!p){var q=new Error(c('ex')('Feedback target %s not present while rendering UFI with source %s',this.$UFIController2.ftentidentifier,n));q.type='warn';c('ErrorUtils').reportError(q,true);return;}this.$UFIController10.feedback=p;if(l(n))this.render();if(this.canRenderHeader())this.renderHeader(p);if(!this.$UFIController10.isHidden)if(n===c('FeedbackPayloadSourceType').INITIAL_SERVER){this.$UFIController37(n);this.$UFIController3.dispatch(c('UFIStoryAction').commentsArrived(this.$UFIController2,this.getRange().getOffset(),this.comments.length,n));}else this.fetchAllComments(n,o).done(function(){return this.$UFIController3.dispatch(c('UFIStoryAction').commentsArrived(this.$UFIController2,this.getRange().getOffset(),this.comments.length,n));}.bind(this));};m.prototype.fetchAllComments=function(n,o){return c('Promise').resolve().then(function(){return this.fetchCommentsForFeedbackTarget(n,o).then(function(p){var q=c('UFICommentFilters').getAuthors(p);if(!this.$UFIController10.feedback||!this.$UFIController10.feedback.isthreaded||!p.length)return q;return this.fetchAllReplyIDsForComments(p,n,o).then(function(r){return q.concat(r);});}.bind(this)).then(function(p){if(!this.$UFIController10.feedback)return [];return c('UFIFeedbackFilters').getRequestedIDs(this.$UFIController10.feedback).concat(p);}.bind(this));}.bind(this)).then(function(p){var q=this.$UFIController10.feedback,r=c('UFILivePinnedCommentStore').getPinnedCommentAuthorID(this.$UFIController2.ftentidentifier);if(r)p.push(r);if(q&&q.acceptedanswer){var s=c('UFIComments').getComment(q.acceptedanswer);if(s&&s.author)p.push(s.author);}return c('UFIFetcher').fetchShortProfiles(p);}.bind(this)).then(function(p){Object.assign(this.authorProfiles,p);}.bind(this));};m.prototype.fetchCommentsForFeedbackTarget=function(n,o){var p=this.getToplevelCommentList().getCommentCount(),q=this.getNewRange(n,this.$UFIController2,p);return c('UFIFetcher').fetchComments(this.getToplevelCommentList(),q,this.$UFIController35(o)).then(function(r){this.$UFIController38(q,r);return r;}.bind(this));};m.prototype.$UFIController38=function(n,o){var p=this.getToplevelCommentList(),q=this.$UFIController2.ftentidentifier,r=this.$UFIController10,s=r.deletedCounts,t=r.canAddCommentMap,u=r.canReplyMap,v=r.commentPermalinks;this.replaceRange(n);this.comments=o;this.commentcounts[q]=p.getCommentCount();s[q]=p.getDeletedCount();t[q]=!this.$UFIController10.featuredCommentLists[q];o.forEach(function(w){var x=w.id,y=w.cancomment;u[x]=y;v[x]=p.getPermalinkForComment(x);});};m.prototype.fetchRepliesForComment=function(n,o,p){var q=n.id,r=this.getReplyCommentList(q).getCommentCount(),s=this.getNewReplyRange(o,n,r);return c('UFIFetcher').fetchComments(this.getReplyCommentList(q),s,this.$UFIController36(q,p)).then(function(t){this.$UFIController39(s,n,t);return t;}.bind(this));};m.prototype.$UFIController39=function(n,o,p){var q=o.id,r=this.getReplyCommentList(q),s=this.$UFIController10,t=s.deletedCounts,u=s.canAddCommentMap,v=s.featuredCommentLists,w=s.defaultRepliesExpandedMap,x=s.feedback,y=s.canReplyMap,z=s.commentPermalinks;this.replaceReplyRange(q,n);this.repliesMap[q]=p;this.commentcounts[q]=r.getCommentCount();t[q]=r.getDeletedCount();u[q]=!v[q];w[q]=this.$UFIController33(x,o,p.length);p.forEach(function(aa){var ba=aa.id,ca=aa.cancomment;y[ba]=ca;z[ba]=r.getPermalinkForComment(ba);});};m.prototype.fetchAllReplyIDsForComments=function(n,o,p){var q=new (c('Promise').all)(n.map(function(r){return this.fetchRepliesForComment(r,o,p).then(function(s){return c('UFICommentFilters').getAuthors(s);});}.bind(this)));return q.then(c('flattenArray'));};m.prototype.getToplevelCommentList=function(){var n=this.$UFIController2;if(this.$UFIController10.featuredCommentLists[n.ftentidentifier])return this.$UFIController10.featuredCommentLists[n.ftentidentifier];if(c('UFIOrderingModeStore').isLiveStreaming(this.$UFIController2.instanceid))return c('UFIToplevelStreamedCommentList').getCommentList(n.ftentidentifier,n.islivestreaming?c('UFIToplevelStreamedCommentList').GLOBAL_ID:n.instanceid);var o=c('UFIOrderingModeStore').getOrderingMode(this.$UFIController2.instanceid);return c('UFIToplevelPagedCommentList').getCommentList(n.ftentidentifier,o);};m.prototype.getReplyCommentList=function(n){if(n in this.$UFIController10.featuredCommentLists)return this.$UFIController10.featuredCommentLists[n];var o=c('UFIOrderingModeStore').getOrderingMode(this.$UFIController2.instanceid);return c('UFIReplyCommentList').getCommentList(this.$UFIController2.ftentidentifier,n,o);};m.prototype.getRange=function(){var n=c('UFIOrderingModeStore').getOrderingMode(this.$UFIController2.instanceid);if(!(n in this.ranges)){var o=this.getToplevelCommentList().getCommentCount(),p=Math.min(o,this.$UFIController2.defaultNumCommentsToExpand);this.ranges[n]=new (c('UFIRange'))(o-p,p);}return this.ranges[n];};m.prototype.replaceRange=function(n){var o=c('UFIOrderingModeStore').getOrderingMode(this.$UFIController2.instanceid);this.ranges[o]=n;};m.prototype.getReplyRange=function(n){if(!(n in this.replyRanges))this.replyRanges[n]=new (c('UFIRange'))();return this.replyRanges[n];};m.prototype.replaceReplyRange=function(n,o){this.replyRanges[n]=o;};m.prototype.$UFIController16=function(){this.$UFIController6=true;this.$UFIController23();this.$UFIController40();};m.prototype.$UFIController40=function(){this.$UFIController41();this.$UFIController42();this.$UFIController21();this.$UFIController43();this.$UFIController44();this.$UFIController45();if(this.onUnloadSubscription)this.onUnloadSubscription.remove();c('UFISharedDispatcher').dispatch(c('UFIInstanceAction').remove(this.$UFIController2));};m.prototype.$UFIController19=function(){this.$UFIController21();};m.prototype.$UFIController45=function(){var n=this.$UFIController2;c('UFICommercialBreakAdapter').stop(n.instanceid);};m.prototype.$UFIController44=function(){var n=this.$UFIController2;c('UFIVODStreamingComments').stop(n.ftentidentifier,n.instanceid);};m.prototype.$UFIController41=function(){this.ufiCentralUpdatesSubscriptions.forEach(function(n){return n&&c('UFICentralUpdates').unsubscribe(n);});};m.prototype.$UFIController42=function(){this.$UFIController1&&this.$UFIController1.release();};m.prototype.$UFIController21=function(){this.$UFIController7&&this.$UFIController7.release();};m.prototype.$UFIController43=function(){if(this.$UFIController12){this.$UFIController12.release();this.$UFIController12=null;}this.$UFIController9.forEach(function(n){return c('UFISharedDispatcher').unregister(n);});};m.prototype.$UFIController31=function(){var n=this.$UFIController2;return c('React').createElement(c('UFIDispatcherContext.react'),{dispatcher:this.$UFIController3,stores:this.$UFIController11},c('React').createElement(c('StaticUFI.react'),{feedback:this.$UFIController10.feedback,id:this.$UFIController2.ftentidentifier,contextArgs:n,commentCounts:this.commentcounts,loadingComments:true}));};m.prototype.shouldShowCommentOrderingModeSelector=function(n){var o=this.getToplevelCommentList().getCommentCount()||n.commentcount||0;return n.orderingmodes&&o>=c('UFIConstants').minCommentsForOrderingModeSelector&&!this.$UFIController10.featuredCommentLists[this.$UFIController2.ftentidentifier];};f.exports=m;}),null);
__d('UFIMentionsInputProxy.react',['cx','Promise','JSResource','JSResourceReference','React','emptyFunction','setImmediate'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').createClass({displayName:'UFIMentionsInputProxy',_cmdBuffer:[],getInitialState:function j(){return {component:null,viewComponent:null};},componentDidMount:function j(){this._cmdBuffer=this._cmdBuffer||[];if(this.props.initialData)this._bootload();},componentDidUpdate:function j(){if(this.state.component)this._drainFnBuffer();},hasEnteredText:function j(){return this._fillCmdBuffer({fn:'hasEnteredText',args:[]});},getText:function j(){return this._fillCmdBuffer({fn:'getText',args:[]});},focus:function j(){this._bootload();this._fillCmdBuffer({fn:'focus',args:[]});},submitComment:function j(event){this._fillCmdBuffer({fn:'submitComment',args:[event]});},insertMention:function j(k){this._fillCmdBuffer({fn:'insertMention',args:[k]});},insertEmoticon:function j(k){this._fillCmdBuffer({fn:'insertEmoticon',args:[k]});},insertEmoji:function j(k){this._fillCmdBuffer({fn:'insertEmoji',args:[k]});},_bootload:function j(){c('Promise').all([c('JSResource')('UFIMentionsInput.react').__setRef('UFIMentionsInputProxy.react').load(),new (c('Promise'))(function(k){if(this.props.viewComponent instanceof c('JSResourceReference')){this.props.viewComponent.load().done(k);}else k(this.props.viewComponent);}.bind(this))]).done(function(k){var l=k[0],m=k[1];if(this.isMounted())this.setState({component:l,viewComponent:m});}.bind(this));},_shouldDrainBuffer:function j(){return this._cmdBuffer.length>0;},_fillCmdBuffer:function j(k){if(this.refs.mentionsinputchild){return this._execCmd(k);}else this._cmdBuffer=this._cmdBuffer.concat([k]);},_drainFnBuffer:function j(){if(this._shouldDrainBuffer()){var k=this._cmdBuffer[0];this._execCmd(k);this._cmdBuffer=this._cmdBuffer.slice(1);c('setImmediate')(this._drainFnBuffer);}},_execCmd:function j(k){var l=this.refs.mentionsinputchild;return l[k.fn].apply(l,k.args);},_renderProxyInput:function j(){var k="_1osa mentionsHidden";return c('React').createElement('input',{className:k,'data-interaction-root-id':"_432z",name:'add_comment_text',ref:'proxyInput',onFocus:this.focus});},_renderDummy:function j(){var k="UFIAddCommentInput _1osb _1osc _2xww";return c('React').createElement('div',{'data-interaction-root-id':"_432-",onClick:this.focus,className:"_2xwx",onFocus:this.focus,onMouseOver:this._bootload,role:'presentation'},c('React').createElement('div',{className:k},this._renderProxyInput(),this.props.placeholder));},render:function j(){var k=this.state.component;if(!k)return this._renderDummy();return c('React').createElement(k,babelHelpers['extends']({key:'mentionsinputchild',ref:'mentionsinputchild'},this.props,{viewComponent:this.state.viewComponent}),this.props.children);}});f.exports=i;}),null);
__d('ReactComposerAttachmentActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({REGISTER_ATTACHMENT:null,INITIALIZE_ATTACHMENT:null,SELECT_ATTACHMENT:null,SET_INITIALIZED:null,SET_BOOTLOADED:null,SET_BOOTSTRAPPED:null,UPLOAD_ATTACHMENT:null},'ReactComposerAttachmentActionType');}),null);
__d('ReactComposerMediaUploadActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({PHOTO_UPLOAD_ENQUEUED:null,PHOTO_UPLOAD_RESIZE_STARTED:null,PHOTO_UPLOAD_RESIZE_PROGRESS:null,PHOTO_UPLOAD_RESIZE_DONE:null,PHOTO_UPLOAD_RESIZE_FAILED:null,PHOTO_UPLOAD_RESIZER_UNAVAILABLE:null,PHOTO_UPLOAD_UPLOADING:null,PHOTO_UPLOAD_IS_SPHERICAL:null,PHOTO_UPLOAD_DONE:null,PHOTO_UPLOAD_FAILED:null,PHOTO_UPLOAD_RETRY:null,PHOTO_UPLOAD_EXTRA_DONE:null,PHOTOS_SELECT:null,PHOTO_ADD_UPLOAD:null,PHOTO_SET_THUMBNAIL:null,SPHERICAL_PHOTO_CHECK_DONE:null,SPHERICAL_PHOTO_CHECK_FAILED:null,VIDEO_UPLOAD_ENQUEUED:null,VIDEO_UPLOAD_UPLOADING:null,VIDEO_UPLOAD_DONE:null,VIDEO_UPLOAD_FAILED:null,VIDEO_UPLOAD_RETRY:null,VIDEO_SET_THUMBNAIL:null,VIDEO_SET_UPLOADER:null,MEDIA_UPLOAD_MOVED:null,MEDIA_UPLOAD_REMOVE:null,MEDIA_UPLOAD_PROGRESS:null,MEDIA_UPLOAD_INPUT_CLICKED:null,MEDIA_UPLOAD_INPUT_DONE:null,PREFILL_MEDIAS:null,REORDER_MEDIAS:null},'ReactComposerMediaUploadActionType');}),null);
__d('ReactComposerScrapedAttachmentActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({ATTACHMENT_SCRAPE_ENABLED:null,ATTACHMENT_PERMISSIVE_MATCH_SETTED:null,ATTACHMENT_SCRAPE_INTENDED:null,ATTACHMENT_SCRAPED:null,ATTACHMENT_CAROUSEL_UPLOAD:null,ATTACHMENT_SHARE_SELECTED:null},'ReactComposerScrapedAttachmentActionType');}),null);
__d('ReactComposerActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({COMPOSER_ENTRY:null,COMPOSER_CANCEL:null,INIT_CONFIG:null,POST_ERROR:null,POST_STARTED:null,POST_INTENDED:null,POST_SUCCEEDED:null,POST_FINALLY:null,PUBLISH_STARTED:null,PUBLISH_SUCCEEDED:null,COMPOSER_RESET:null,EXPAND_SPROUTS:null,COLLAPSE_SPROUTS:null,FEATURE_INTENT:null,FEATURE_DONE:null,FEATURE_CANCEL:null,SCHEDULE:null},'ReactComposerActionTypes');}),null);
__d('ReactComposerLoggingQueue',['invariant','Bootloader','requireWeak'],(function a(b,c,d,e,f,g,h){var i=null;c('requireWeak')('ReactComposerLoggingStore',function(l){i=l;});var j=[],k={add:function l(m){if(m&&m.suppressWaterfallLogging)return;m&&m.composerID||h(0);if(i&&i.isActivated(m.composerID))return;j.push(m);},initBootload:function l(m,n,o,p){c('Bootloader').loadModules(["ComposerXSessionIDs","ComposerXMarauderLogger","ReactComposerPerfLogger","ReactComposerLoggingStore"],function(q,r,s,t){q.resetSessionID(m);r.registerComposer(n,o,p);s.registerComposer(n,p.targetType,p.ref,o);t.activate(m);},'ReactComposerLoggingQueue');},pop:function l(){return j.shift();},getLength:function l(){return j.length;}};f.exports=k;}),null);
__d('ReactComposerDispatcher',['ReactComposerLoggingQueue','Dispatcher_DEPRECATED'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('Dispatcher_DEPRECATED'));i=h&&h.prototype;j.prototype.dispatch=function(k){'use strict';i.dispatch.call(this,k);c('ReactComposerLoggingQueue').add(k);};function j(){'use strict';h.apply(this,arguments);}f.exports=new j();}),null);
__d('ReactComposerStoreBase',['ReactComposerActionTypes','ReactComposerDispatcher','ReactComposerEvents','EventEmitter','Map'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('EventEmitter'));i=h&&h.prototype;function j(k,l){'use strict';i.constructor.call(this);this.$ReactComposerStoreBase1=k;this.$ReactComposerStoreBase2=new (c('Map'))();this.$ReactComposerStoreBase3=c('ReactComposerDispatcher').register(function(m){switch(m.type){case c('ReactComposerActionTypes').COMPOSER_RESET:this.__cleanup(m);break;}l(m);}.bind(this));}j.prototype.getComposerData=function(k){'use strict';var l=this.$ReactComposerStoreBase2.get(k);if(!l){l=this.$ReactComposerStoreBase1();this.$ReactComposerStoreBase2.set(k,l);}return l;};j.prototype.clearComposerData=function(k){'use strict';this.$ReactComposerStoreBase2.set(k,this.$ReactComposerStoreBase1());};j.prototype.addChangeListener=function(k){'use strict';return this.addListener(c('ReactComposerEvents').CHANGE,k);};j.prototype.emitChange=function(k){'use strict';this.emit(c('ReactComposerEvents').CHANGE,{composerID:k});};j.prototype.getDispatchToken=function(){'use strict';return this.$ReactComposerStoreBase3;};j.prototype.validateAction=function(k,l){'use strict';l=[].concat(l);var m=l.map(function(n){if(k[n]===undefined)throw new Error('Action missing field: '+n);return k[n];});if(l.length===1)return m[0];return m;};j.prototype.__cleanup=function(k){'use strict';this.clearComposerData(k.composerID);this.emitChange(k.composerID);};f.exports=j;}),null);
__d('ReactComposerActionStore',['errorCode','ReactComposerActionTypes','ReactComposerEvents','ReactComposerStoreBase','Arbiter','AsyncResponse','Bootloader','Set','TextDelightGatekeeperChecks','requireWeak'],(function a(b,c,d,e,f,g,h){var i,j,k=void 0;c('requireWeak')('ReactComposerStatusStore',function(m){return k=m;});i=babelHelpers.inherits(l,c('ReactComposerStoreBase'));j=i&&i.prototype;function l(m,n){'use strict';m=m?m:function(){return null;};var o;j.constructor.call(this,m,function(p){if(!(o&&o.__shouldIgnoreAction(p)))switch(p.type){case c('ReactComposerActionTypes').POST_STARTED:o&&o.$ReactComposerActionStore2(p);break;case c('ReactComposerActionTypes').POST_INTENDED:o&&o.$ReactComposerActionStore3(p);break;case c('ReactComposerActionTypes').POST_SUCCEEDED:o&&o.$ReactComposerActionStore4(p);break;case c('ReactComposerActionTypes').POST_ERROR:o&&o.$ReactComposerActionStore5(p);break;case c('ReactComposerActionTypes').POST_FINALLY:o&&o.$ReactComposerActionStore6(p);break;default:}n&&n(p);});o=this;this.$ReactComposerActionStore1=new (c('Set'))();}l.prototype.registerComposerID=function(m){'use strict';this.$ReactComposerActionStore1.add(m);};l.prototype.$ReactComposerActionStore2=function(m){'use strict';var n=this.validateAction(m,'composerID'),o=c('TextDelightGatekeeperChecks').gk;if(o.delights_text_trigger_prefetch_post_anim_enabled&&c('TextDelightGatekeeperChecks').postAnimationURI)c('Bootloader').loadModules(["TextDelightAnimation"],function(p){p.setupPostAnimation(c('TextDelightGatekeeperChecks').postAnimationURI);},'ReactComposerActionStore');this.__onPostStarted&&this.__onPostStarted(m);c('Arbiter').inform(c('ReactComposerEvents').POST_STARTED+n);};l.prototype.$ReactComposerActionStore3=function(m){'use strict';this.validateAction(m,['composerID','actorID','config','targetID']);if(!this.__canPost||this.__canPost(m))this.$ReactComposerActionStore2(m);};l.prototype.$ReactComposerActionStore4=function(m){'use strict';var n=this.validateAction(m,'composerID');if(k)var o=k.getMessage(n);this.__onPostSucceeded&&this.__onPostSucceeded(m);c('Arbiter').inform(c('ReactComposerEvents').POST_SUCCEEDED+n);};l.prototype.$ReactComposerActionStore5=function(m){'use strict';if(this.__onPostError)return this.__onPostError(m);if(m.response){var n=m.response.getError&&m.response.getError()==1455004;if(n)return;c('AsyncResponse').defaultErrorHandler(m.response);}};l.prototype.$ReactComposerActionStore6=function(m){'use strict';this.__onPostFinally&&this.__onPostFinally(m);};l.prototype.__shouldIgnoreAction=function(m){'use strict';var n=this.validateAction(m,'composerID');return !this.$ReactComposerActionStore1.has(n);};f.exports=l;}),null);
__d('ReactComposerInit',['invariant','Arbiter','ReactComposerEvents','ReactComposerIDGenerator','Map','React','ReactDOM'],(function a(b,c,d,e,f,g,h){var i={_isUnmounting:false,instances:new (c('Map'))(),changeProps:function j(k,l){var m=i._getCurrentInstance(k);m.props=l;i.resetComposer(k,true);},normalizeComposerID:function j(k){if(!k.contextConfig.composerID)k.contextConfig.composerID=c('ReactComposerIDGenerator').getID();return k.contextConfig.composerID;},init:function j(k,l,m,n){var o=i.normalizeComposerID(l),p={ComposerModule:k,props:l,container:m,asyncPreloader:n,hidden:false};this._render(p);this._preloadAsyncData(p);i.instances.set(o,p);c('Arbiter').inform(c('ReactComposerEvents').INSTANCE_MOUNTED+o);},_render:function j(k){var l=k.ComposerModule,m=k.props,n=k.container;c('ReactDOM').render(c('React').createElement(l,m),n);},_preloadAsyncData:function j(k){var l=k.props,m=k.asyncPreloader;if(m==null||l.config.audienceXHP)return;m.onLoaded(function(n){var o=n.audienceXHP;l.config=babelHelpers['extends']({},l.config,{audienceXHP:l.config.audienceXHP||o});this._render(k);}.bind(this));},_createNewComposer:function j(k,l){k.props.contextConfig.composerID=c('ReactComposerIDGenerator').getID();k.props.prefillConfig={};i.init(k.ComposerModule,k.props,l,k.asyncPreloader);},resetComposer:function j(k){var l=i._getCurrentInstance(k);i.unmountInstance(k);if(l.hidden){l.container.parentNode&&l.container.parentNode.removeChild(l.container);}else i._createNewComposer(l,l.container);c('Arbiter').inform(c('ReactComposerEvents').COMPOSER_RESET+k,{newComposerID:l.props.contextConfig.composerID});},hideAndReplaceComposer:function j(k){var l=i._getCurrentInstance(k),m=l.container.cloneNode(false);l.container.style.display='none';l.container.removeAttribute('id');l.container.parentNode&&l.container.parentNode.appendChild(m);l.hidden=true;i._createNewComposer(l,m);c('Arbiter').inform(c('ReactComposerEvents').COMPOSER_RESET+k,{newComposerID:l.props.contextConfig.composerID});},isInstanceMounted:function j(k){return !!i.instances.get(k);},unmountInstance:function j(k){if(i.isInstanceMounted(k)&&!i._isUnmounting){i._isUnmounting=true;i._unmountReact(k);i._isUnmounting=false;i.instances['delete'](k);}},_unmountReact:function j(k){var l=i._getCurrentInstance(k);c('ReactDOM').unmountComponentAtNode(l.container);c('Arbiter').inform(c('ReactComposerEvents').COMPOSER_UNMOUNT+k);return l;},_getCurrentInstance:function j(k){var l=i.instances.get(k);l||h(0);return l;}};f.exports=i;}),null);
__d('ReactComposerSproutsDisplayState',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({INLINE:null,EXPANDED:null},'ReactComposerSproutsDisplayState');}),null);
__d('ReactComposerStore',['ReactComposerActionStore','ReactComposerActionTypes','ReactComposerSproutsDisplayState','ReactComposerAttachmentActionType','ReactComposerScrapedAttachmentActionType','ReactComposerInit','Bootloader'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerActionStore'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {isActive:false,serverErrorResponse:null,posting:false,postSucceeded:false,publishing:false,ref:null,targetType:null,sproutsDisplayState:c('ReactComposerSproutsDisplayState').INLINE,scheduledPublishTime:null};},function(l){switch(l.type){case c('ReactComposerActionTypes').INIT_CONFIG:k&&k.$ReactComposerStore1(l);break;case c('ReactComposerActionTypes').PUBLISH_STARTED:k&&k.$ReactComposerStore2(l);break;case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:k&&k.$ReactComposerStore3(l);break;case c('ReactComposerActionTypes').EXPAND_SPROUTS:k&&k.$ReactComposerStore4(l);break;case c('ReactComposerActionTypes').COLLAPSE_SPROUTS:k&&k.$ReactComposerStore5(l);break;case c('ReactComposerAttachmentActionType').UPLOAD_ATTACHMENT:case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED:k&&k.$ReactComposerStore6(l);break;case c('ReactComposerActionTypes').SCHEDULE:k&&k.$ReactComposerStore7(l);break;}});k=this;}j.prototype.$ReactComposerStore7=function(k){'use strict';var l=this.getComposerData(k.composerID);l.scheduledPublishTime=k.scheduleDate;};j.prototype.getScheduledPublishTime=function(k){'use strict';return this.getComposerData(k).scheduledPublishTime;};j.prototype.getServerErrorResponse=function(k){'use strict';return this.getComposerData(k).serverErrorResponse;};j.prototype.getRef=function(k){'use strict';return this.getComposerData(k).ref;};j.prototype.getTargetType=function(k){'use strict';return this.getComposerData(k).targetType;};j.prototype.isPosting=function(k){'use strict';return this.getComposerData(k).posting;};j.prototype.hasPostSucceeded=function(k){'use strict';return this.getComposerData(k).postSucceeded;};j.prototype.isActive=function(k){'use strict';return this.getComposerData(k).isActive;};j.prototype.isPublishing=function(k){'use strict';return this.getComposerData(k).publishing;};j.prototype.getSproutsDisplayState=function(k){'use strict';return this.getComposerData(k).sproutsDisplayState;};j.prototype.isUploading=function(k){'use strict';return this.getComposerData(k).uploading;};j.prototype.__shouldIgnoreAction=function(k){'use strict';return false;};j.prototype.__onPostStarted=function(k){'use strict';var l=this.validateAction(k,'composerID'),m=this.getComposerData(k.composerID);m.posting=true;this.emitChange(l);};j.prototype.__onPostSucceeded=function(k){'use strict';var l=this.validateAction(k,'composerID'),m=this.getComposerData(k.composerID);m.serverErrorResponse=null;m.posting=false;m.postSucceeded=true;m.publishing=false;this.emitChange(l);};j.prototype.__onPostError=function(k){'use strict';var l=this.validateAction(k,'composerID'),m=this.getComposerData(k.composerID);m.serverErrorResponse=k.response;m.posting=false;m.postSucceeded=false;m.publishing=false;this.emitChange(l);};j.prototype.__onPostFinally=function(k){'use strict';var l=this.validateAction(k,'composerID'),m=this.getComposerData(k.composerID);m.posting=false;m.publishing=false;this.emitChange(l);};j.prototype.$ReactComposerStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','loggingConfig','activateOnInit']),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.ref=n.ref;p.composerVersion=n.composerVersion;p.targetType=n.targetType;if(o){this.$ReactComposerStore8(m);this.emitChange(m);}};j.prototype.$ReactComposerStore2=function(k){'use strict';var l=this.validateAction(k,'composerID'),m=this.getComposerData(k.composerID);m.publishing=true;this.emitChange(l);};j.prototype.$ReactComposerStore6=function(k){'use strict';var l=this.validateAction(k,'composerID'),m=this.getComposerData(k.composerID);m.uploading=k.uploading;this.emitChange(l);};j.prototype.$ReactComposerStore3=function(k){'use strict';var l=this.validateAction(k,'composerID'),m=this.getComposerData(l);m.sproutsDisplayState=c('ReactComposerSproutsDisplayState').EXPANDED;this.$ReactComposerStore8(l);this.emitChange(l);};j.prototype.$ReactComposerStore4=function(k){'use strict';var l=this.validateAction(k,'composerID'),m=this.getComposerData(l);m.sproutsDisplayState=c('ReactComposerSproutsDisplayState').EXPANDED;this.emitChange(l);};j.prototype.$ReactComposerStore5=function(k){'use strict';var l=this.validateAction(k,'composerID'),m=this.getComposerData(l);m.sproutsDisplayState=c('ReactComposerSproutsDisplayState').INLINE;this.emitChange(l);};j.prototype.$ReactComposerStore8=function(k){'use strict';var l=this.getComposerData(k);if(!l.isActive){l.isActive=true;c('Bootloader').loadModules(["curry","Run","ReactComposerHandleUnsavedChanges","URI"],function(m,n,o,p){return n.onBeforeUnload(m(o.handler,k,p.getNextURI()));},'ReactComposerStore');}};j.prototype.__cleanup=function(k){'use strict';setTimeout(c('ReactComposerInit').resetComposer.bind(null,k.composerID),0);};f.exports=new j();}),null);
__d('ReactComposerActions',['ReactComposerActionTypes','ReactComposerDispatcher','ReactComposerStore'],(function a(b,c,d,e,f,g){c('ReactComposerStore');var h,i={initConfig:function j(k,l,m){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').INIT_CONFIG,loggingConfig:l,activateOnInit:m===true});},schedule:function j(k,l){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').SCHEDULE,scheduleDate:l});},postError:function j(k,l){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').POST_ERROR,response:l});},postIntended:function j(k,l){setTimeout(function(){if(!h||h(k,l.actorID,l.config,l.targetID))c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').POST_INTENDED,actorID:l.actorID,config:l.config,targetID:l.targetID});},0);},registerPostIntendedHandler:function j(k){h=k;},postStarted:function j(k,l){var m=l.actorID,n=l.composerType,o=l.config,p=l.onPostSuccess,q=l.targetID,r=babelHelpers.objectWithoutProperties(l,['actorID','composerType','config','onPostSuccess','targetID']);setTimeout(function(){return c('ReactComposerDispatcher').dispatch({composerID:k,composerType:n,type:c('ReactComposerActionTypes').POST_STARTED,actorID:m,config:o,targetID:q,onPostSuccess:p,otherData:r});},0);},postSucceeded:function j(k){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').POST_SUCCEEDED});},postFinally:function j(k,l){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').POST_FINALLY,response:l});},publishStarted:function j(k){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').PUBLISH_STARTED});},reset:function j(k){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').COMPOSER_RESET});},expandSprouts:function j(k){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').EXPAND_SPROUTS});},collapseSprouts:function j(k){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').COLLAPSE_SPROUTS});}};f.exports=i;}),null);
__d('ReactComposerFocusActionTypes',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';f.exports=c('keyMirror')({SUBSCRIBE:null,UNSUBSCRIBE:null,FOCUS_ACQUIRED:null,FOCUS_LOST:null});}),null);
__d('ReactComposerFocusActions',['ReactComposerFocusActionTypes','ReactComposerDispatcher','ReactComposerStore'],(function a(b,c,d,e,f,g){'use strict';c('ReactComposerStore');var h={subscribe:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerFocusActionTypes').SUBSCRIBE,onFocusAcquiredCallback:k,onFocusLostCallback:l});},unsubscribe:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerFocusActionTypes').UNSUBSCRIBE});},notifyFocusAcquired:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerFocusActionTypes').FOCUS_ACQUIRED});},notifyFocusLost:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerFocusActionTypes').FOCUS_LOST});}};f.exports=h;}),null);
__d('ReactComposerLoggingActions',['ReactComposerActionTypes','ReactComposerDispatcher','ReactComposerFeatureType','ReactComposerLoggingName','ReactComposerMediaUploadActionType'],(function a(b,c,d,e,f,g){var h={composerEntry:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerActionTypes').COMPOSER_ENTRY,uiElementName:k});},mediaUploadInputClicked:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_INPUT_CLICKED,sourceLoggingName:k});},mediaUploadInputDone:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_INPUT_DONE,sourceLoggingName:k});},mediaFileDropped:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerActionTypes').FEATURE_INTENT,featureType:c('ReactComposerFeatureType').MEDIA,uiElementName:c('ReactComposerLoggingName').MEDIA_FILE_DROPPED});},mediaFileDropFinished:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerActionTypes').FEATURE_DONE,featureType:c('ReactComposerFeatureType').MEDIA,uiElementName:c('ReactComposerLoggingName').MEDIA_FILE_DROPPED});},mediaFilePasted:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerActionTypes').FEATURE_INTENT,featureType:c('ReactComposerFeatureType').MEDIA,uiElementName:c('ReactComposerLoggingName').MEDIA_FILE_PASTED});},mediaFilePasteFinished:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerActionTypes').FEATURE_DONE,featureType:c('ReactComposerFeatureType').MEDIA,uiElementName:c('ReactComposerLoggingName').MEDIA_FILE_PASTED});},collectionSelectorCancel:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerActionTypes').FEATURE_CANCEL,featureType:c('ReactComposerFeatureType').COLLECTIONS,uiElementName:k});},collectionSelectorDone:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerActionTypes').FEATURE_DONE,featureType:c('ReactComposerFeatureType').COLLECTIONS,uiElementName:k});},composerCancel:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerActionTypes').COMPOSER_CANCEL});}};f.exports=h;}),null);
__d('ReactComposerFocusHandleScrollAway',['Event','getActiveElement','throttle'],(function a(b,c,d,e,f,g){'use strict';var h=-400,i=300,j={handler:function k(l,m){var n=c('Event').listen(window,'scroll',c('throttle')(function(){var o=l.getBoundingClientRect().bottom;if(o<h){m();c('getActiveElement')().blur();n.remove();}},i));}};f.exports=j;}),null);
__d('ReactComposerFocusInit',['invariant','csx','DOM','DOMContainer.react','React','ReactDOM','Parent'],(function a(b,c,d,e,f,g,h,i){'use strict';var j={handler:function k(l,m,n,o,p,q){var r=c('DOM').create('div'),s=l.parentNode;if(q){var t=c('Parent').bySelector(l,"._3u13");if(t!==null)s=t.parentNode.parentNode;}c('ReactDOM').render(c('React').createElement(p,{composerID:m,actorID:n,gks:o,enableFocusBehavior:true},c('React').createElement(c('DOMContainer.react'),{display:'block'},l)),r);s||h(0);if(s.firstChild){s.replaceChild(r,s.firstChild);}else s.appendChild(r);},preload:function k(){}};f.exports=j;}),null);
__d('ReactComposerFocusWrapperCore.react',['ix','cssVar','cx','ReactComposerEvents','Arbiter','CurrentUser','Event','Image.react','Keys','Link.react','ReactComponentWithPureRenderMixin','React','ReactDOM','ReactComposerFocusActions','Run','SubscriptionsHandler','URI','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){var k=c('React').PropTypes,l=parseInt("10px",10),m=c('React').createClass({displayName:'ReactComposerFocusWrapperCore',_composerID:'',_fixedHeight:0,_subscriptions:c('SubscriptionsHandler'),_firstFocus:true,_onLeaveHandle:null,mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{composerID:k.string.isRequired,ariaLabel:k.string,onDismiss:k.func.isRequired,onFocus:k.func.isRequired,focused:k.bool.isRequired,gks:k.object,onFirstFocus:k.func,fixHeight:k.bool},getDefaultProps:function n(){return {focused:false,fixHeight:false};},componentWillMount:function n(){this._composerID=this.props.composerID;},componentWillReceiveProps:function n(o){if(this.props.fixHeight&&!this.props.focused&&o.focused){var p=c('ReactDOM').findDOMNode(this.refs.container);this._fixedHeight=p.offsetHeight+l;}},componentDidMount:function n(){this._subscriptions=new (c('SubscriptionsHandler'))();this._subscribeComposerEvents();this._onLeaveHandle=c('Run').onLeave(this._onDismiss);},componentDidUpdate:function n(o){if(!o.focused&&this.props.focused)try{var p=document.createEvent('HTMLEvents');if(p.initEvent){p.initEvent('resize',true,false);window.dispatchEvent(new (c('Event'))('resize'));}}catch(q){}},componentWillUnmount:function n(){this._subscriptions&&this._subscriptions.release();this._onDismiss();if(this._onLeaveHandle)this._onLeaveHandle.remove();},render:function n(){var o=this.props.fixHeight&&this.props.focused?{height:this._fixedHeight}:null,p=this.props.focused?this._renderDismissButton():null,q=this.props.focused?this._renderBugNub():null;return c('React').createElement('div',{role:'dialog','aria-label':this.props.ariaLabel,className:"_3u13"+(' '+"_3e9r")+(this.props.focused?' '+"_3u14":'')+(this.props.focused?' '+"_1b3n":''),style:o,onKeyDown:this._onKeyDown},c('React').createElement('div',{className:"_3u15",onClick:this._onDismiss,role:'presentation'}),c('React').createElement('div',{className:"_3u16",ref:'container',onFocus:this._onFocus},this.props.children,p),q);},getComposerID:function n(){return this._composerID;},getComposer:function n(){return this.refs.container;},_renderDismissButton:function n(){return c('React').createElement('div',{className:"_3u17"+(this.props.gks&&this.props.gks.topPostButton?' '+"_nse":'')+(this.props.gks&&this.props.gks.hasHeader?' '+"_356d":'')+(this.props.gks&&this.props.gks.isSproutsComposer?' '+"_3_fz":''),onClick:this._onDismiss,role:'button',tabIndex:'0'},c('React').createElement(c('Image.react'),{src:h("125922")}));},_renderBugNub:function n(){if(!c('CurrentUser').isEmployee())return null;var o=new (c('URI'))('/ajax/bugs/report');return c('React').createElement('div',{className:"_t95"},c('React').createElement(c('Link.react'),{href:'#',ajaxify:o,className:"_t97",rel:'dialog'}));},_subscribeComposerEvents:function n(){var o=c('Arbiter').subscribe(c('ReactComposerEvents').OPTIMISTIC_POSTING_STARTED+this._composerID,function(){this.props.onDismiss(true);}.bind(this)),p=c('Arbiter').subscribe(c('ReactComposerEvents').POST_SUCCEEDED+this._composerID,function(){this.props.onDismiss(true);}.bind(this)),q=c('Arbiter').subscribe('ReactFeedComposerXBootloader/focuscomposer/'+this._composerID,function(){return this._onFocus();}.bind(this)),r=c('Arbiter').subscribe(c('ReactComposerEvents').COMPOSER_RESET+this._composerID,function(s,t){if(t&&t.newComposerID){this._composerID=t.newComposerID;this._subscriptions.release();this._subscriptions=new (c('SubscriptionsHandler'))();this._subscribeComposerEvents();}}.bind(this));this._subscriptions.addSubscriptions(o,p,q,r);},_onFocus:function n(){if(this.props.focused)return;if(this._firstFocus){this.props.onFirstFocus&&this.props.onFirstFocus();this._firstFocus=false;}this.props.onFocus();c('ReactComposerFocusActions').notifyFocusAcquired(this.props.composerID);},_onKeyDown:function n(o){if(o.keyCode===c('Keys').ESC&&!o.nativeEvent.isPropagationStopped)this._onDismiss();},_onDismiss:function n(){this.props.onDismiss();c('ReactComposerFocusActions').notifyFocusLost(this.props.composerID);}});f.exports=m;}),null);
__d('ReactComposerFocusInline.react',['ReactComposerFocusHandleScrollAway','ReactComposerFocusWrapperCore.react','ReactComposerActions','Arbiter','React','ReactDOM'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;function k(){var l,m;'use strict';for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={focused:false},this.$ReactComposerFocusInline2=function(){var q=c('ReactDOM').findDOMNode(this.refs.focus.getComposer());c('ReactComposerFocusHandleScrollAway').handler(q,this.$ReactComposerFocusInline1);this.setState({focused:true});}.bind(this),this.$ReactComposerFocusInline1=function(){c('Arbiter').inform('ReactComposerFocus/collapse/'+this.props.composerID);setTimeout(function(){c('ReactComposerActions').collapseSprouts(this.props.composerID);}.bind(this),0);this.setState({focused:false});}.bind(this),m;}k.prototype.componentWillUnmount=function(){'use strict';this.$ReactComposerFocusInline1();};k.prototype.render=function(){'use strict';return c('React').createElement(c('ReactComposerFocusWrapperCore.react'),{composerID:this.props.composerID,focused:this.state.focused&&this.props.enableFocusBehavior,onFocus:this.$ReactComposerFocusInline2,onDismiss:this.$ReactComposerFocusInline1,gks:this.props.gks,ref:'focus'},this.props.children);};k.propTypes={composerID:j.string.isRequired,gks:j.object};f.exports=k;}),null);
__d("XReactComposerLoggingODSController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/react_composer\/logging\/ods\/",{attachment_type:{type:"String"},composer_type:{type:"Enum",required:true,enumType:1},event:{type:"String",required:true}});}),null);